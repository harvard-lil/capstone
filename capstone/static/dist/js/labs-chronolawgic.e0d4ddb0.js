(function(e){function t(t){for(var a,o,r=t[0],l=t[1],c=t[2],u=0,h=[];u<r.length;u++)o=r[u],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&h.push(i[o][0]),i[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);d&&d(t);while(h.length)h.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var e,t=0;t<n.length;t++){for(var s=n[t],a=!0,r=1;r<s.length;r++){var l=s[r];0!==i[l]&&(a=!1)}a&&(n.splice(t--,1),e=o(o.s=s[0]))}return e}var a={},i={"labs-chronolawgic":0},n=[];function o(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=e,o.c=a,o.d=function(e,t,s){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(s,a,function(t){return e[t]}.bind(null,a));return s},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/static/dist/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var d=l;n.push([11,"chunk-common"]),s()})({11:function(e,t,s){e.exports=s("6035")},1465:function(e,t,s){},6035:function(e,t,s){"use strict";s.r(t),s.d(t,"router",(function(){return nt}));var a=s("a4b5"),i=s("4af9"),n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("main",{ref:"main-app-container",class:{"mobile-event-expanded":e.$store.getters.mobileEventsExpanded},attrs:{id:"main-app"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.handleEscape(t)}}},[s("div",{staticClass:"row top-menu"},[s("header",{class:{"header-section":!0,title:!0,expanded:e.headerExpanded}},[s("h4",{attrs:{id:"timeline-title"},on:{click:function(t){return e.toggleHeader()}}},[e._v(e._s(e.$store.state.title))]),s("div",{attrs:{id:"timeline-author"}},[e._v("By "+e._s(e.$store.state.author))]),e.$store.state.description?s("div",{attrs:{id:"timeline-description"},domProps:{textContent:e._s(e.$store.state.description)},on:{click:function(t){return e.toggleHeader()}}}):e._e(),e.$store.state.isAuthor?s("div",{staticClass:"my-timelines-link"},[s("router-link",{staticClass:"btn btn-tertiary",attrs:{to:"/"}},[e._v(" BACK TO MY TIMELINES ")])],1):e._e()]),s("div",{staticClass:"header-section years"}),s("div",{class:{"header-section":!0,"zoom-section":!0,expanded:e.headerExpanded}},[s("div",{attrs:{id:"zoom-button-container"}},[s("ul",{staticClass:"inline-list toggles"},[e.$store.state.isAuthor||e.$store.state.categories&&e.$store.state.categories.length?s("li",{staticClass:"list-inline-item key",class:{selected:e.keyShown},attrs:{"data-target":"#categories-modal"},on:{click:e.toggleKey}},[s("key-icon")],1):e._e(),s("li",{staticClass:"list-inline-item zoom-toggle zoom-in",class:{selectable:!e.$store.state.minimized},on:{click:function(t){return e.$store.commit("toggleMinimized")}}},[s("minimize-icon")],1),s("li",{staticClass:"list-inline-item zoom-toggle zoom-out",class:{selectable:e.$store.state.minimized},on:{click:function(t){return e.$store.commit("toggleMinimized")}}},[s("maximize-icon")],1)]),e.keyShown?s("categories"):e._e()],1)])]),s("section",{attrs:{id:"timeline"}},[s("div",{staticClass:"year labels"},[s("div",{staticClass:"incidental",on:{click:function(t){return e.$store.commit("unExpandMobileEvents")}}}),s("div",{staticClass:"year_scale"},[s("div",{staticClass:"label_assembly"},[e.$store.state.isAuthor?s("button",{staticClass:"btn btn-tertiary btn-add-case",attrs:{type:"button",id:"top-add-cases-button","data-toggle":"modal","data-target":"#add-case-modal"},on:{click:function(t){return e.openModal(null,"case")}}},[s("add-icon")],1):e._e(),s("h6",{attrs:{id:"caselaw-label"},on:{click:function(t){return e.$store.commit("unExpandMobileEvents")}}},[e._v("CASELAW")]),s("h6",{attrs:{id:"events-label"},on:{click:function(t){return e.$store.commit("expandMobileEvents")}}},[e._v("EVENTS")]),e.$store.state.isAuthor?s("button",{staticClass:"btn btn-tertiary btn-add-event",attrs:{type:"button",id:"top-add-events-button","data-toggle":"modal","data-target":"#add-event-modal"},on:{click:function(t){return e.openModal(null,"event")}}},[s("add-icon")],1):e._e()])]),s("div",{staticClass:"spans row",on:{click:function(t){return e.$store.commit("expandMobileEvents")}}})]),e._l(e.years,(function(e,t){return s("year",{key:"year_"+t,attrs:{year_data:e,year_value:t}})})),"empty"===e.$store.getters.empty?s("div",{staticClass:"year welcome"},[e.$store.state.isAuthor&&!this.$store.getters.isMobile?s("div",{staticClass:"incidental"},[e._v(" Welcome to your brand new timeline. Start adding content by clicking on the plus sign next to Cases or Events. ")]):e.$store.state.isAuthor&&this.$store.getters.isMobile?s("div",{staticClass:"incidental"},[e._v(" Welcome to your brand new timeline. We have not yet developed authorship mode for mobile devices. Please let us know if you'd like us to prioritize it. ")]):s("div",{staticClass:"incidental"},[e._v("The author of this timeline has not yet added any cases or events.")]),s("div",{staticClass:"year_scale"}),s("div",{staticClass:"spans"})]):e._e()],2),e.showCase?s("add-case-modal",{attrs:{"data-toggle":"modal","data-target":"#add-case-modal",modal:e.showCase,case:e.event,shown:e.showCase},on:{"update:modal":function(t){e.showCase=t}}}):e.showEvent?s("add-event-modal",{attrs:{"data-toggle":"modal","data-target":"#add-event-modal",modal:e.showEvent,event:e.event,shown:e.showEvent},on:{"update:modal":function(t){e.showEvent=t}}}):e._e(),e.showReadOnly?s("readonly-modal",{attrs:{"data-toggle":"modal","data-target":"#readonly-modal",modal:e.showReadOnly,event:e.event,shown:e.showReadOnly},on:{"update:modal":function(t){e.showReadOnly=t}}}):e._e()],1)},o=[],r={functional:!0,render(e,t){const{_c:s,_v:a,data:i,children:n=[]}=t,{class:o,staticClass:r,style:l,staticStyle:c,attrs:d={},...u}=i;return s("svg",{class:["feather feather-minimize-2",o,r],style:[l,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},d),...u},n.concat([s("path",{attrs:{d:"M4 14h6v6M20 10h-6V4M14 10l7-7M3 21l7-7"}})]))}},l={functional:!0,render(e,t){const{_c:s,_v:a,data:i,children:n=[]}=t,{class:o,staticClass:r,style:l,staticStyle:c,attrs:d={},...u}=i;return s("svg",{class:["feather feather-maximize-2",o,r],style:[l,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},d),...u},n.concat([s("path",{attrs:{d:"M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"}})]))}},c={functional:!0,render(e,t){const{_c:s,_v:a,data:i,children:n=[]}=t,{class:o,staticClass:r,style:l,staticStyle:c,attrs:d={},...u}=i;return s("svg",{class:["feather feather-plus-circle",o,r],style:[l,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},d),...u},n.concat([s("circle",{attrs:{cx:"12",cy:"12",r:"10"}}),s("path",{attrs:{d:"M12 8v8M8 12h8"}})]))}},d={functional:!0,render(e,t){const{_c:s,_v:a,data:i,children:n=[]}=t,{class:o,staticClass:r,style:l,staticStyle:c,attrs:d={},...u}=i;return s("svg",{class:["feather feather-key",o,r],style:[l,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},d),...u},n.concat([s("path",{attrs:{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 11-7.778 7.778 5.5 5.5 0 017.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"}})]))}},u=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"modal",attrs:{id:"add-case-modal",tabindex:"-1",role:"dialog"},on:{click:function(e){e.stopPropagation()}}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[this.case&&this.case.name?s("h5",{staticClass:"modal-title"},[e._v(e._s(this.case.name))]):s("h5",{staticClass:"modal-title"},[e._v("ADD CASELAW")]),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:function(t){return t.stopPropagation(),e.closeModal(t)}}},[s("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])]),s("div",{staticClass:"modal-body"},[this.case&&"number"===typeof this.case.id?e._e():s("form",{attrs:{id:"form-search-cap"},on:{submit:function(e){e.stopPropagation(),e.preventDefault()}}},[s("h6",[e._v("Search CAP")]),s("div",{attrs:{id:"field-group-search"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.searchText,expression:"searchText"}],staticClass:"form-control",attrs:{id:"field-search-cap",placeholder:"Enter "+e.extraFields.cap.value},domProps:{value:e.searchText},on:{input:function(t){t.target.composing||(e.searchText=t.target.value)}}}),s("span",[e._v("Search using:")]),s("v-select",{attrs:{options:["Name abbreviation","Citation","Text search"],clearable:!1,placeholder:"search"},model:{value:e.extraFields.cap.value,callback:function(t){e.$set(e.extraFields.cap,"value",t)},expression:"extraFields.cap.value"}}),s("span",{staticClass:"button-container"},[s("search-button",{attrs:{showLoading:e.showLoading}})],1)],1),e.searchResults.length?s("ul",{staticClass:"results-list"},e._l(e.searchResults,(function(t){return s("div",{key:t.id,staticClass:"result-container",class:e.chosenCase.id===t.id?"chosen":"",on:{click:function(s){return e.autofillCase(t)}}},[s("case-result",{attrs:{result:t}})],1)})),0):e._e(),e.showNoSearchResults?s("ul",{staticClass:"results-list"},[s("li",{staticClass:"result-container p-2"},[e._v("No results found")])]):e._e(),s("hr")]),s("form",{attrs:{id:"form-add-case"},on:{submit:function(e){e.stopPropagation()}}},[s("div",{staticClass:"form-label-group",attrs:{id:"field-group-url"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.newCase.url,expression:"newCase.url"}],staticClass:"form-control",attrs:{id:"field-url",placeholder:"URL"},domProps:{value:e.newCase.url},on:{input:function(t){t.target.composing||e.$set(e.newCase,"url",t.target.value)}}}),s("label",{attrs:{for:"field-url"}},[e._v("URL")])]),s("div",{staticClass:"form-label-group",attrs:{id:"field-group-citation"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.newCase.citation,expression:"newCase.citation"}],staticClass:"form-control",attrs:{id:"field-citation",placeholder:"Citation"},domProps:{value:e.newCase.citation},on:{input:function(t){t.target.composing||e.$set(e.newCase,"citation",t.target.value)}}}),s("label",{attrs:{for:"field-citation"}},[e._v("Citation")])]),s("div",{staticClass:"form-label-group",attrs:{id:"field-group-name"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.newCase.name,expression:"newCase.name"}],staticClass:"form-control",attrs:{id:"field-name",placeholder:"Case name",required:""},domProps:{value:e.newCase.name},on:{input:function(t){t.target.composing||e.$set(e.newCase,"name",t.target.value)}}}),s("label",{attrs:{for:"field-name"}},[e._v("Case name")])]),s("div",{staticClass:"form-label-group",attrs:{id:"field-group-short"}},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newCase.short_description,expression:"newCase.short_description"}],staticClass:"form-control",attrs:{id:"field-short-description",placeholder:"SHORT DESCRIPTION"},domProps:{value:e.newCase.short_description},on:{input:function(t){t.target.composing||e.$set(e.newCase,"short_description",t.target.value)}}})]),s("div",{staticClass:"form-label-group",attrs:{id:"field-group-date"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.newCase.decision_date,expression:"newCase.decision_date"}],staticClass:"form-control",attrs:{id:"field-decision-date",placeholder:"DECISION DATE",type:"date",required:""},domProps:{value:e.newCase.decision_date},on:{input:function(t){t.target.composing||e.$set(e.newCase,"decision_date",t.target.value)}}}),s("label",{attrs:{for:"field-decision-date"}},[e._v("DECISION DATE")])]),s("div",{staticClass:"form-label-group",attrs:{id:"field-group-long"}},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newCase.long_description,expression:"newCase.long_description"}],staticClass:"form-control",attrs:{id:"field-long-description",placeholder:"LONGER DESCRIPTION"},domProps:{value:e.newCase.long_description},on:{input:function(t){t.target.composing||e.$set(e.newCase,"long_description",t.target.value)}}})]),s("v-select",{attrs:{transition:"",id:"field-group-jurisdiction",label:"jurisdiction",placeholder:"Jurisdiction",options:e.choices.jurisdictions},on:{input:e.chooseJurisdiction},model:{value:e.newCase.jurisdiction,callback:function(t){e.$set(e.newCase,"jurisdiction",t)},expression:"newCase.jurisdiction"}}),s("v-select",{attrs:{transition:"",id:"field-group-court",label:"courtName",placeholder:"Court",options:e.choices.courts},model:{value:e.newCase.court,callback:function(t){e.$set(e.newCase,"court",t)},expression:"newCase.court"}}),s("v-select",{staticClass:"color-dropdown",attrs:{transition:"",label:"color",placeholder:"Border color",filterable:!1,clearable:!1,options:e.colors},on:{input:e.setSelected},scopedSlots:e._u([{key:"selected-option",fn:function(t){var a=t.color;return[s("span",{staticClass:"color-square",style:{backgroundColor:a}},[e._v(" "+e._s(a)+" ")])]}},{key:"option",fn:function(t){var a=t.color;return[s("span",{staticClass:"color-square",style:{backgroundColor:a}},[e._v(" "+e._s(a)+" ")])]}}]),model:{value:e.newCase.color,callback:function(t){e.$set(e.newCase,"color",t)},expression:"newCase.color"}}),s("v-select",{attrs:{multiple:"",id:"field-group-categories",filterable:!1,transition:"",label:"name",placeholder:"Categories",options:e.$store.state.categories},scopedSlots:e._u([{key:"selected-option",fn:function(t){var a=t.color,i=t.shape,n=t.name;return[s("shape-component",{attrs:{width:20,color:a,shapetype:i}}),s("span",{domProps:{textContent:e._s(n)}})]}},{key:"option",fn:function(t){var a=t.color,i=t.shape,n=t.name;return[s("shape-component",{attrs:{width:28,color:a,shapetype:i}}),s("span",{domProps:{textContent:e._s(n)}})]}}]),model:{value:e.newCase.categories,callback:function(t){e.$set(e.newCase,"categories",t)},expression:"newCase.categories"}})],1),e.errors.length?s("div",{staticClass:"form-errors p-2 mt-2 small"},[s("b",[e._v("Please correct the following error(s):")]),s("ul",{staticClass:"m-0 list-inline"},e._l(e.errors,(function(t){return s("li",{key:t,staticClass:"list-inline-item"},[e._v(e._s(t))])})),0)]):e._e()]),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-tertiary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(t){return t.stopPropagation(),e.closeModal(t)}}},[e._v(" Cancel ")]),this.case&&this.case.name?[s("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:e.deleteCase}},[e._v(" Delete ")]),s("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(t){return t.stopPropagation(),e.updateCase(t)}}},[e._v(" Update ")])]:[s("button",{staticClass:"btn btn-primary btn-highlight",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(t){return t.stopPropagation(),e.addCase(t)}}},[e._v(" ADD ")])]],2)])])])},h=[],p=s("7338"),m=s.n(p),v=s("94ea");m.a.defaults.xsrfHeaderName="X-CSRFTOKEN",m.a.defaults.xsrfCookieName="csrftoken";const g=urls,f=choices,_=user;f.colors=["#00db67","#ccff6d","#dbc600","#db8f00","#ff8e7a","#ff736c","#e5435c","#986d81","#7e84ff","#3656f6","#2f2f2f","#3e667a","#00b7db","#c4c4c4"];const C=[];for(let ot=0;ot<f.jurisdictions.length;ot++)C.push(f.jurisdictions[ot][1]);f.jurisdictions=C;const y=[];for(let ot=0;ot<f.courts.length;ot++)y.push({slug:f.courts[ot][0],courtName:f.courts[ot][1]});f.courts=y,a["default"].use(v["a"]);const w=new v["a"].Store({state:{mobileEventsExpanded:!1,breakPoint:"lg",user:_,choices:f,requestStatus:"nominal",notificationMessage:null,urls:{chronolawgic_api_create:g.chronolawgic_api_create,chronolawgic_api_retrieve:g.chronolawgic_api_retrieve,chronolawgic_api_update:g.chronolawgic_api_update,chronolawgic_api_delete:g.chronolawgic_api_delete,chronolawgic_api_update_admin:g.chronolawgic_api_update_admin,static:g.static,api_root:g.api_root},availableTimelines:[],minimized:!0,id:1,title:"",description:"",createdBy:-1,isAuthor:!1,author:"",categories:[],events:[],cases:[],templateEvent:{name:"",short_description:"",long_description:"",start_date:"",end_date:"",url:"",color:""},templateCase:{url:"",name:"",citation:"",short_description:"",long_description:"",jurisdiction:"",reporter:"",decision_date:"",categories:[],color:""},templateCategory:{name:"",shape:"",color:""}},mutations:{expandMobileEvents(e){e.mobileEventsExpanded=!0},setBreakPoint(e,t){e.breakPoint=t},unExpandMobileEvents(e){e.mobileEventsExpanded=!1},toggleMinimized(e){e.minimized=!e.minimized},setAvailableTimelines(e,t){e.availableTimelines=t},setTimeline(e,t){e.title=t.title,e.author=t.author?t.author:"CAP User",e.description=t.description,e.categories=t.categories,e.events=t.events,e.cases=t.cases},setTimelineId(e,t){e.id=t},setCreatedBy(e,t){e.createdBy=t},setAuthor(e,t){e.isAuthor=t},setCategories(e,t){e.categories=t},setRequestStatus(e,t){e.requestStatus=t},setRequestStatusTerminal(e,t){e.requestStatus=t,setTimeout((function(){e.requestStatus="nominal"}),5e3)},setNotificationMessage(e,t){e.notificationMessage=t,setTimeout((function(){e.notificationMessage=null}),5e3)},addEvent(e,t){t.id=this.generateUUID(),e.events.push(t),this.dispatch("requestUpdateTimeline")},addCase(e,t){t.id=this.generateUUID(),e.cases.push(t),this.dispatch("requestUpdateTimeline")},updateEvent(e,t){for(let s=0;s<e.events.length;s++)if(e.events[s].id===t.id){e.events[s]=t,this.dispatch("requestUpdateTimeline");break}},updateCase(e,t){for(let s=0;s<e.cases.length;s++)if(e.cases[s].id===t.id){e.cases[s]=t,this.dispatch("requestUpdateTimeline");break}},deleteEvent(e,t){let s=-1;for(let a=0;a<e.events.length;a++)if(e.events[a].id===t){s=a;break}e.events.splice(s,1),this.dispatch("requestUpdateTimeline")},deleteCase(e,t){let s=-1;for(let a=0;a<e.cases.length;a++)if(e.cases[a].id===t){s=a;break}e.cases.splice(s,1),this.dispatch("requestUpdateTimeline")},saveCategories(e,t){e.categories=t;for(let s=0;s<e.categories.length;s++)e.categories[s].id||(e.categories[s].id=w.generateUUID());this.dispatch("requestUpdateTimeline")}},getters:{breakPoint:e=>e.breakPoint,isMobile:e=>"xs"===e.breakPoint||"sm"===e.breakPoint,mobileEventsExpanded:e=>e.mobileEventsExpanded,minimized:e=>e.minimized,cases:e=>e.cases,choices:e=>e.choices,availableTimelines:e=>e.availableTimelines,id:e=>e.id,requestStatus:e=>e.requestStatus,notificationMessage:e=>e.notificationMessage,templateEvent:e=>e.templateEvent,templateCase:e=>e.templateCase,templateCategory:e=>e.templateCategory,empty:e=>"pending"==e.requestStatus?"pending":e.events.length+e.cases.length===0?"empty":"populated",firstYear:e=>{if(0===e.cases.length&&0===e.events.length)return 0;let t=9999999,s=9999999;return e.events.length&&(s=e.events.reduce((e,t)=>new Date(t.start_date).getUTCFullYear()<e?new Date(t.start_date).getUTCFullYear():e,new Date(e.events[0].start_date).getUTCFullYear())),e.cases.length&&(t=e.cases.reduce((e,t)=>new Date(t.decision_date).getUTCFullYear()<e?new Date(t.decision_date).getUTCFullYear():e,new Date(e.cases[0].decision_date).getUTCFullYear())),t<s?t:s},lastYear:e=>{if(0===e.cases.length&&0===e.events.length)return 0;let t=0,s=0;return e.events.length&&(t=e.events.reduce((e,t)=>new Date(t.end_date).getUTCFullYear()>e?new Date(t.end_date).getUTCFullYear():e,new Date(e.events[0].end_date).getUTCFullYear())),e.cases.length&&(s=e.cases.reduce((e,t)=>new Date(t.decision_date).getUTCFullYear()>e?new Date(t.decision_date).getUTCFullYear():e,new Date(e.cases[0].decision_date).getUTCFullYear())),s>t?s:t},events:e=>e.events.sort((e,t)=>e.start_date>t.start_date?1:-1),eventByStartYear:e=>t=>e.events.filter(e=>new Date(e.start_date).getUTCFullYear()===t),casesByYear:e=>t=>e.cases.filter(e=>t===new Date(e.decision_date).getUTCFullYear()),timeline:e=>({title:e.title,author:e.author,events:e.events,cases:e.cases,categories:e.categories}),categories:e=>e.categories,category:e=>t=>e.categories.find(e=>e.id===t),randomColor:e=>e.colors[Math.floor(Math.random()*e.colors.length)]},actions:{requestCreateTimeline:function({commit:e}){e("setRequestStatus","pending"),m.a.post(this.state.urls.chronolawgic_api_create).then(e=>e.data).then(e=>{"ok"===e.status&&this.dispatch("requestTimelineList")}).then(()=>{e("setRequestStatusTerminal","success"),e("setNotificationMessage","Timeline Created")}).catch(t=>{e("setRequestStatusTerminal","error"),e("setNotificationMessage",t)})},requestDeleteTimeline:function({commit:e},t){e("setRequestStatus","pending"),m.a.delete(this.state.urls.chronolawgic_api_delete+t).then(e=>e.data).then(e=>{"ok"===e.status&&this.dispatch("requestTimelineList")}).then(()=>{e("setRequestStatusTerminal","success"),e("setNotificationMessage","Timeline Deleted")}).catch(t=>{e("setRequestStatusTerminal","error"),e("setNotificationMessage",t)})},requestUpdateTimeline:function({commit:e}){e("setRequestStatus","pending");let t=JSON.stringify({timeline:this.getters.timeline});m.a.post(this.state.urls.chronolawgic_api_update+this.state.id,t,{headers:{"Content-Type":"application/json"}}).then(e=>e.data).then(()=>{e("setRequestStatusTerminal","success"),e("setNotificationMessage","Timeline Saved")}).catch(t=>{e("setRequestStatusTerminal","error"),e("setNotificationMessage",t)})},requestTimeline:function({commit:e},t){e("setTimelineId",""),e("setTimeline",{title:""}),e("setRequestStatus","pending"),m.a.get(this.state.urls.chronolawgic_api_retrieve+t).then(e=>e.data).then(t=>{"ok"===t.status&&(e("setTimelineId",t["id"]),e("setTimeline",t["timeline"]),e("setCreatedBy",t["created_by"]),e("setAuthor",t["is_owner"]))}).then(()=>{e("setRequestStatusTerminal","success")}).catch(t=>{e("setRequestStatusTerminal","error"),e("setNotificationMessage",t)})},requestTimelineList:function({commit:e}){e("setRequestStatus","pending"),m.a.get(this.state.urls.chronolawgic_api_retrieve).then(e=>e.data).then(t=>{"ok"===t.status&&e("setAvailableTimelines",t["timelines"])}).then(()=>{e("setRequestStatusTerminal","success")}).catch(t=>{e("setRequestStatusTerminal","error"),e("setNotificationMessage",t)})},requestUpdateAdmin:function({commit:e},t){e("setRequestStatus","pending");let s=t.author.trim(),a=JSON.stringify({title:t.title,author:s||"CAP User",description:t.description});return m.a.post(this.state.urls.chronolawgic_api_update_admin+t.id,a,{headers:{"Content-Type":"application/json"}}).then(e=>e.data).then(()=>{e("setRequestStatusTerminal","success"),e("setNotificationMessage","Change Saved")}).catch(t=>{e("setRequestStatusTerminal","error"),e("setNotificationMessage",t)})}}});w.generateUUID=()=>"xxxxxxxxxx".replace(/[xy]/g,(function(e){let t=16*Math.random()|0,s="x"===e?t:3&t|8;return s.toString(16)}));var b=w,k=s("39e2"),E=s.n(k),x=s("6104"),M=s("15f7"),$=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("svg",{attrs:{width:e.width,height:e.height,viewBox:"0 0 80 80","aria-labelledby":e.shapetype,fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[s("title",{attrs:{lang:"en"},domProps:{textContent:e._s(e.title||e.shapetype+" icon")}}),"circle"===e.shapetype?[s("circle",{attrs:{cx:"33",cy:"40",r:"33",fill:e.color}})]:"polygon1"===e.shapetype?[s("path",{attrs:{d:"M32.3588 2.55166C36.9151 -0.758709 43.0849 -0.758709 47.6412 2.55166L74.2053 21.8516C78.7616 25.162 80.6682 31.0297 78.9278 36.386L68.7812 67.614C67.0409 72.9703 62.0494 76.5967 56.4175 76.5967H23.5825C17.9506 76.5967 12.9591 72.9703 11.2188 67.614L1.0722 36.386C-0.668168 31.0297 1.23839 25.162 5.79472 21.8516L32.3588 2.55166Z",fill:e.color}})]:"polygon2"===e.shapetype?[s("path",{attrs:{d:"M28.5 1.75278C32.5222 -0.569449 37.4778 -0.56945 41.5 1.75278L63.141 14.2472C67.1632 16.5694 69.641 20.8611 69.641 25.5056V50.4944C69.641 55.1389 67.1632 59.4306 63.141 61.7528L41.5 74.2472C37.4778 76.5694 32.5222 76.5694 28.5 74.2472L6.85898 61.7528C2.83677 59.4306 0.358982 55.1389 0.358982 50.4944V25.5056C0.358982 20.8611 2.83677 16.5694 6.85898 14.2472L28.5 1.75278Z",fill:e.color}})]:"rhombus"===e.shapetype?[s("path",{attrs:{d:"M33.636 3.36396C37.1508 -0.150754 42.8492 -0.150758 46.364 3.36396L76.636 33.636C80.1508 37.1508 80.1508 42.8492 76.636 46.364L46.364 76.636C42.8492 80.1508 37.1508 80.1508 33.636 76.636L3.36396 46.364C-0.150754 42.8492 -0.150758 37.1508 3.36396 33.636L33.636 3.36396Z",fill:e.color}})]:"triangle"===e.shapetype?[s("path",{attrs:{d:"M35.1362 4.5C38.6003 -1.5 47.2606 -1.5 50.7247 4.5L84.0666 62.25C87.5307 68.25 83.2006 75.75 76.2724 75.75H9.58846C2.66025 75.75 -1.66987 68.25 1.79423 62.25L35.1362 4.5Z",fill:e.color}})]:e._e()],2)},T=[],S={name:"shape-component",props:["shapetype","color","width","title"],data(){return{height:30,ratios:{circle:1,rhombus:.8,polygon1:.85,polygon2:.9,triangle:.7,rectangle:1}}},mounted(){this.height=this.width*this.ratios[this.shapetype]}},P=S,O=s("a6c2"),N=Object(O["a"])(P,$,T,!1,null,null,null),j=N.exports,D={name:"add-case-modal",components:{vSelect:E.a,CaseResult:x["default"],SearchButton:M["a"],ShapeComponent:j},props:["shown","modal","case"],data(){return{choices:{},searchResults:[],showNoSearchResults:!1,searchText:"",chosenCase:{},newCase:{},errors:[],colors:[],extraFields:{cap:{name:"search by",label:"Name abbreviation",value:"Name abbreviation"}},showLoading:!1,categories:[]}},methods:{checkForm(){this.errors=[],this.newCase.name||this.errors.push("Case name is required."),this.newCase.decision_date||this.errors.push("Decision date is required.")},closeModal(){this.$parent.closeModal(),this.$parent.repopulateTimeline(),this.setupCase()},updateCase(){if(this.checkForm(),this.errors.length)return;let e=this.unbind(this.newCase);e.jurisdiction||(e.jurisdiction=""),e.court||(e.court=""),e.categories=e.categories.map(e=>e.id),b.commit("updateCase",e),this.closeModal()},addCase(){if(this.checkForm(),this.errors.length)return;let e=this.unbind(this.newCase);e.categories=e.categories.map(e=>e.id),b.commit("addCase",e),this.closeModal()},deleteCase(){b.commit("deleteCase",this.case.id),this.closeModal()},chooseCase(e){this.chosenCase=e},setSelected(e){this.newCase.color=e},formatDate(e){let t=e.split("-"),s=t[0],a=3===t.length?t[2]:"01",i=t.length>=2?t[1]:"01";return s+"-"+i+"-"+a},autofillCase(e){this.chosenCase=e,this.newCase.name=this.chosenCase.name_abbreviation,this.newCase.citation=this.chosenCase.citations[0].cite,this.newCase.url=this.chosenCase.frontend_url,this.newCase.decision_date=this.formatDate(this.chosenCase.decision_date),this.newCase.jurisdiction=this.chosenCase.jurisdiction.name_long,this.newCase.court=this.chosenCase.court.name},searchCAP(){if(this.showNoSearchResults=!1,this.searchText){let e;this.showLoading=!0,e="Citation"===this.extraFields.cap.value?"cite":"Name abbreviation"===this.extraFields.cap.value?"name_abbreviation":"search";let t=b.state.urls.api_root+"cases?"+e+"="+this.searchText;m.a.get(t).then(e=>e.data).then(e=>{this.searchResults=e.results,0===this.searchResults.length&&(this.showNoSearchResults=!0),this.showLoading=!1})}},valueUpdated(){this.searchCAP()},clearContent(){this.closeModal(),this.setupCase()},unbind(e){return JSON.parse(JSON.stringify(e))},hydrateCategories(e=[]){let t=[];for(let s=0;s<e.length;s++){let a=b.getters.category(e[s]);a&&t.push(a)}return t},setupCase(e){this.newCase=e?this.unbind(this.case):this.unbind(b.getters.templateCase),this.newCase.categories=this.hydrateCategories(this.newCase.categories)},chooseJurisdiction(e){e&&(this.newCase.jurisdiction=e),this.newCase=this.unbind(this.newCase)},chooseCourt(e){e&&(this.newCase.court=e.courtName),this.newCase=this.unbind(this.newCase)}},watch:{case(e){this.setupCase(e)}},beforeMount(){this.colors=b.getters.choices.colors,this.choices=b.getters.choices,this.categories=b.getters.categories,this.setupCase(this.case)}},A=D,L=Object(O["a"])(A,u,h,!1,null,null,null),q=L.exports,R=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"modal",attrs:{id:"add-event-modal",tabindex:"-1",role:"dialog"},on:{click:function(e){e.stopPropagation()}}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[this.event&&this.event.name?s("h5",{staticClass:"modal-title"},[e._v(e._s(this.event.name))]):s("h5",{staticClass:"modal-title"},[e._v("ADD EVENT")]),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:function(t){return t.stopPropagation(),e.closeModal(t)}}},[s("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])]),s("div",{staticClass:"modal-body"},[s("form",{on:{click:function(e){e.stopPropagation(),e.preventDefault()},submit:function(t){return t.preventDefault(),e.addEvent(t)}}},[s("div",{staticClass:"form-label-group",attrs:{id:"field-group-name"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.newEvent.name,expression:"newEvent.name"}],staticClass:"form-control",attrs:{id:"field-event-name",placeholder:"NAME",required:""},domProps:{value:e.newEvent.name},on:{input:function(t){t.target.composing||e.$set(e.newEvent,"name",t.target.value)}}}),s("label",{attrs:{for:"field-event-name"}},[e._v("EVENT NAME")])]),s("div",{staticClass:"form-label-group",attrs:{id:"field-group-url"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.newEvent.url,expression:"newEvent.url"}],staticClass:"form-control",attrs:{id:"field-event-url",placeholder:"URL"},domProps:{value:e.newEvent.url},on:{input:function(t){t.target.composing||e.$set(e.newEvent,"url",t.target.value)}}}),s("label",{attrs:{for:"field-event-url"}},[e._v("SOURCE URL")])]),s("div",{staticClass:"form-label-group",attrs:{id:"field-group-short-description"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.newEvent.short_description,expression:"newEvent.short_description"}],staticClass:"form-control",attrs:{id:"field-event-short-description",placeholder:"SHORT DESCRIPTION"},domProps:{value:e.newEvent.short_description},on:{input:function(t){t.target.composing||e.$set(e.newEvent,"short_description",t.target.value)}}}),s("label",{attrs:{for:"field-event-short-description"}},[e._v("SHORT DESCRIPTION")])]),s("div",{staticClass:"form-label-group",attrs:{id:"field-group-start-date"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.newEvent.start_date,expression:"newEvent.start_date"}],staticClass:"form-control",attrs:{id:"field-event-start-date",placeholder:"DECISION DATE",type:"date",required:""},domProps:{value:e.newEvent.start_date},on:{input:function(t){t.target.composing||e.$set(e.newEvent,"start_date",t.target.value)}}}),s("label",{attrs:{for:"field-event-start-date"}},[e._v("START DATE")])]),s("div",{staticClass:"form-label-group",attrs:{id:"field-group-long-description"}},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newEvent.long_description,expression:"newEvent.long_description"}],staticClass:"form-control",attrs:{id:"field-event-long-description",placeholder:"LONGER DESCRIPTION"},domProps:{value:e.newEvent.long_description},on:{input:function(t){t.target.composing||e.$set(e.newEvent,"long_description",t.target.value)}}})]),s("div",{staticClass:"form-label-group",attrs:{id:"field-group-end-date"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.newEvent.end_date,expression:"newEvent.end_date"}],staticClass:"form-control",attrs:{id:"field-event-end-date",placeholder:"DECISION DATE",type:"date"},domProps:{value:e.newEvent.end_date},on:{input:function(t){t.target.composing||e.$set(e.newEvent,"end_date",t.target.value)}}}),s("label",{attrs:{for:"field-event-start-date"}},[e._v("END DATE")])]),s("v-select",{staticClass:"color-dropdown",attrs:{transition:"",label:"color",filterable:!1,clearable:!1,options:e.colors},on:{input:e.setSelected},scopedSlots:e._u([{key:"selected-option",fn:function(t){var a=t.color;return[e._v(" color: "),s("span",{staticClass:"color-square",style:{backgroundColor:a}},[e._v(" "+e._s(a)+" ")])]}},{key:"option",fn:function(t){var a=t.color;return[s("span",{staticClass:"color-square",style:{backgroundColor:a}},[e._v(" "+e._s(a)+" ")])]}}]),model:{value:e.newEvent.color,callback:function(t){e.$set(e.newEvent,"color",t)},expression:"newEvent.color"}})],1),e.errors.length?s("div",{staticClass:"form-errors p-2 mt-2 small"},[s("b",[e._v("Please correct the following error(s):")]),s("ul",{staticClass:"m-0 list-inline"},e._l(e.errors,(function(t){return s("li",{key:t,staticClass:"list-inline-item"},[e._v(e._s(t))])})),0)]):e._e()]),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-tertiary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(t){return t.stopPropagation(),e.closeModal(t)}}},[e._v(" Cancel ")]),this.event&&this.event.id?[s("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:e.deleteEvent}},[e._v(" Delete ")]),s("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(t){return t.stopPropagation(),e.updateEvent(t)}}},[e._v(" Update ")])]:e._e(),this.event&&this.event.name?e._e():[s("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":e.$parent.showEvent?"none":"modal"},on:{click:function(t){return t.stopPropagation(),e.addEvent(t)}}},[e._v("ADD ")])]],2)])])])},F=[],I=(s("1465"),{name:"add-event-modal",props:["shown","modal","event"],components:{vSelect:E.a},data(){return{colors:[],newEvent:{},errors:[]}},methods:{getRandomColor(){return this.colors[Math.floor(Math.random()*this.colors.length)]},clearContent(){this.newEvent=b.getters.templateEvent},checkForm(){this.errors=[],this.newEvent.name||this.errors.push("Event name is required."),this.newEvent.start_date||this.errors.push("Start date is required."),this.newEvent.end_date||this.errors.push("End date is required."),new Date(this.newEvent.end_date)-new Date(this.newEvent.start_date)<0&&this.errors.push("Start date must be earlier than end date.")},closeModal(){this.$parent.closeModal(),this.$parent.repopulateTimeline(),this.setupEvent()},addEvent(){this.checkForm(),this.errors.length||(b.commit("addEvent",this.newEvent),this.closeModal())},deleteEvent(){b.commit("deleteEvent",this.event.id),this.closeModal()},updateEvent(){if(this.checkForm(),this.errors.length)return;let e=this.unbind(this.newEvent);b.commit("updateEvent",e),this.closeModal()},unbind(e){return JSON.parse(JSON.stringify(e))},setupEvent(e){this.newEvent=e?this.unbind(this.event):this.unbind(b.getters.templateEvent),this.newEvent.color||(this.newEvent.color=this.getRandomColor())},setSelected(e){this.newEvent.color=e,this.newEvent=this.unbind(this.newEvent)}},watch:{event(e){this.setupEvent(e)}},mounted(){this.colors=b.getters.choices.colors,this.setupEvent(this.event)}}),U=I,Y=Object(O["a"])(U,R,F,!1,null,null,null),z=Y.exports,B=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"modal",attrs:{id:"readonly-modal",tabindex:"-1",role:"dialog"},on:{click:function(e){e.stopPropagation()}}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title"},[e._v(e._s(e.event.name))]),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:function(t){return t.stopPropagation(),e.closeModal(t)}}},[s("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])]),s("div",{staticClass:"modal-body"},[s("article",{staticClass:"info"},[e.categories&&e.categories.length?s("p",[s("span",{staticClass:"label"},[e._v("Categories: ")]),s("ul",{staticClass:"list-inline"},e._l(e.categories,(function(t){return s("li",{key:t.id,staticClass:"list-inline-item"},[s("shape-component",{attrs:{width:24,color:t.color,shapetype:t.shape}}),s("span",{staticClass:"category-name",domProps:{textContent:e._s(t.name)}})],1)})),0)]):e._e(),e.event.url?s("p",[s("span",{staticClass:"label"},[e._v("Source: ")]),s("a",{attrs:{href:e.event.url,target:"_blank"}},[e._v(e._s(e.domain))])]):e._e(),e.event.citation?s("p",[s("span",{staticClass:"label"},[e._v("Citation: ")]),e._v(" "+e._s(e.event.citation)+" ")]):e._e(),e.event.decision_date?s("p",[s("span",{staticClass:"label"},[e._v("Decision date: ")]),e._v(" "+e._s(e.event.decision_date)+" ")]):e._e(),e.event.start_date?s("p",[s("span",{staticClass:"label"},[e._v("Start date: ")]),e._v(" "+e._s(e.event.start_date)+" ")]):e._e(),e.event.end_date?s("p",[s("span",{staticClass:"label"},[e._v("End date: ")]),e._v(" "+e._s(e.event.end_date)+" ")]):e._e(),e.event.short_description?s("p",{staticClass:"short-description"},[e._v(" "+e._s(e.event.short_description)+" ")]):e._e()]),e.event.short_description&&e.event.long_description?s("hr"):e._e(),e.event.long_description?s("div",{staticClass:"long-description"},e._l(e.event.long_description.split("\n"),(function(t,a){return s("p",{key:a},[e._v(" "+e._s(t)+" ")])})),0):e._e()]),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-tertiary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(t){return t.stopPropagation(),e.closeModal(t)}}},[e._v(" Close ")])])])])])},H=[],W={name:"readonly-modal",props:["modal","event","shown"],components:{ShapeComponent:j},data(){return{domain:"",categories:[]}},watch:{event:{handler(e){this.event.categories=e.categories,this.hydrateCategories()},deep:!0}},methods:{closeModal(){this.$parent.closeModal()},hydrateCategories(){if(this.categories=[],this.event.categories)for(let e=0;e<this.event.categories.length;e++)this.categories.push(b.getters.categories.find(t=>t.id===this.event.categories[e]))}},mounted(){if(this.event.url){let e=new URL(this.event.url);this.domain=e.hostname}this.hydrateCategories()}},J=W,V=Object(O["a"])(J,B,H,!1,null,"a7be94bc",null),K=V.exports,G=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.year_data.involvesAnyItem||!e.$store.getters.minimized?s("div",{staticClass:"year",class:{no_content_year:e.noContent,cases_only_year:e.casesWithoutEvents,events_only_year:e.eventsWithoutCases,cases_and_events_year:e.casesAndEvents},attrs:{"aria-label":e.year_value},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.clearPreviewEvent(t)}}},[e.$store.getters.isMobile&&e.$store.getters.mobileEventsExpanded?s("div",{staticClass:"incidental",on:{click:function(t){return e.$store.commit("unExpandMobileEvents")}}},[e.year_data.case_list.length>0?s("div",{staticClass:"case_placeholder"},[s("more-horizontal"),s("span",{staticClass:"case_count"},[e._v(e._s(e.year_data.case_list.length))])],1):e._e()]):s("div",{staticClass:"incidental"},e._l(e.year_data.case_list,(function(t){return s("case",{key:t.id,attrs:{year_value:e.year_value,case_data:t}})})),1),e.$store.getters.isMobile?s("div",{staticClass:"year_scale"},[s("div",{staticClass:"simple-mobile-year-label"},[e._v(e._s(e.year_value))])]):s("div",{staticClass:"year_scale"},[s("year-label",{attrs:{year:e.year_value}})],1),s("TimeLineSlice",{attrs:{event_list:e.year_data.event_list,year_value:e.year_value}}),s("event-preview",{attrs:{event:e.event}})],1):e.year_data.firstYearNoNewItems&&!e.year_data.involvesAnyItem&&e.$store.getters.minimized?s("div",{staticClass:"year placeholder"},[s("div",{staticClass:"incidental",on:{click:function(t){return e.$store.commit("unExpandMobileEvents")}}}),s("div",{staticClass:"year_scale",on:{click:function(t){return e.$store.commit("toggleMinimized")}}},[s("more-vertical")],1),s("div",{staticClass:"spans",on:{click:function(t){return e.$store.commit("expandMobileEvents")}}})]):e._e()},Z=[],X=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"spans row",on:{click:function(t){return e.$store.commit("expandMobileEvents")}}},e._l(e.event_list,(function(t,a){return s("div",{key:e.year_value+a,class:["event_col","ec_"+(a+1),"col-1","e"+e.year_value]},[e.$store.getters.isMobile&&!e.$store.getters.mobileEventsExpanded?[Object.keys(t).length>0?s("div",{class:{fill:!0,"first-event-year":parseInt(e.year_value)===new Date(t.start_date).getUTCFullYear(),"last-event-year":parseInt(e.year_value)===new Date(t.end_date).getUTCFullYear(),"light-color":e.checkIfLight(t.color)},style:{"background-color":t.color,"border-bottom":parseInt(e.year_value)===new Date(t.end_date).getUTCFullYear()?"1rem solid gray":"","min-height":"1rem"},attrs:{tabindex:parseInt(e.year_value)===new Date(t.start_date).getUTCFullYear()?"0":"-1"},on:{click:function(t){return e.$store.commit("expandMobileEvents")}}}):e._e()]:[Object.keys(t).length>0?s("div",{ref:e.fillRefGenerator(t,e.year_value),refInFor:!0,class:{fill:!0,"first-event-year":parseInt(e.year_value)===new Date(t.start_date).getUTCFullYear(),"last-event-year":parseInt(e.year_value)===new Date(t.end_date).getUTCFullYear(),"light-color":e.checkIfLight(t.color)},style:{"background-color":t.color,"border-bottom":parseInt(e.year_value)===new Date(t.end_date).getUTCFullYear()?"1rem solid gray":"","min-height":"1rem"},attrs:{tabindex:parseInt(e.year_value)===new Date(t.start_date).getUTCFullYear()?"0":"-1","data-toggle":e.dataToggle,"data-target":e.dataTarget,"data-event-fill":t.id},on:{click:function(s){return e.openModal(t)},blur:function(s){return e.handleFocus(t)},focus:function(s){return e.handleFocus(t)}}},[parseInt(e.year_value)===new Date(t.start_date).getUTCFullYear()?s("div",{ref:"event-label"+t.id,refInFor:!0,staticClass:"event_label",style:{width:e.setLabelWidth(t.end_date,t.start_date)},domProps:{textContent:e._s(t.name)}}):e._e()]):e._e()]],2)})),0)},Q=[],ee={name:"TimelineSlice",props:["year_value","event_list"],computed:{dataToggle:()=>b.getters.isMobile||b.state.isAuthor&&!b.getters.isMobile?"modal":"",dataTarget:()=>b.getters.isMobile?"#readonly-modal":b.state.isAuthor&&!b.getters.isMobile?"#add-event-modal":"",showPreview:()=>!b.state.isAuthor&&!b.getters.isMobile},methods:{closeModal(){this.$emit("closeModal")},openModal(e){this.showPreview?this.toggleEventPreview(e,!0):this.$parent.$parent.openModal(e,"event")},handleFocus(e){this.toggleEventPreview(e,!0)},handleBlur(e){this.toggleEventPreview(e,!1)},toggleEventPreview(e,t){this.showPreview&&(t?this.$parent.previewEvent(e):this.$parent.clearPreviewEvent())},fillRefGenerator(e,t){const s=parseInt(t)===new Date(e.start_date).getUTCFullYear(),a=parseInt(t)===new Date(e.end_date).getUTCFullYear();return s===t?"first_year_fill_"+e.id:a===t?"last_year_fill_"+e.id:void 0},setLabelWidth(e,t){let s,a=new Date(e).getUTCFullYear()-new Date(t).getUTCFullYear(),i=110;return s=a*i,s=s<i?i:s,s+"px"},checkIfLight(e){let t=["#00db67","#ccff6d","#dbc600","#db8f00"];return t.indexOf(e.toLowerCase())>-1}}},te=ee,se=Object(O["a"])(te,X,Q,!1,null,null,null),ae=se.exports,ie=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("button",{staticClass:"case-button",attrs:{type:"button","data-toggle":"modal","data-target":e.dataTarget,tabindex:"0"},on:{focus:e.handleFocus,click:function(t){return e.openModal(e.case_data)}}},[s("article",{staticClass:"case"},[s("div",{staticClass:"border",style:{backgroundColor:e.case_data.color}}),s("header",[s("span",{staticClass:"case-name"},[e._v(" "+e._s(e.case_data.name)+" ")]),e.case_data.url?s("a",{staticClass:"case-link",attrs:{href:e.case_data.url,target:"_blank"},on:{click:function(e){e.stopPropagation()}}},[s("link-case")],1):e._e()]),s("section",{staticClass:"desc"},[e._v(" "+e._s(e.case_data.short_description)+" ")]),e.categories&&e.categories.length?s("div",{staticClass:"categories"},[s("ul",{staticClass:"list-inline"},e._l(e.categories,(function(e){return s("li",{key:e.id,staticClass:"list-inline-item",attrs:{title:"category.name"}},[s("shape-component",{attrs:{width:20,title:e.name,color:e.color,shapetype:e.shape}})],1)})),0)]):e._e()])])},ne=[],oe={functional:!0,render(e,t){const{_c:s,_v:a,data:i,children:n=[]}=t,{class:o,staticClass:r,style:l,staticStyle:c,attrs:d={},...u}=i;return s("svg",{class:[o,r],style:[l,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",height:"24",width:"24"},d),...u},n.concat([s("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),s("path",{attrs:{d:"M19 19H5V5h7V3H5a2 2 0 00-2 2v14a2 2 0 002 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"}})]))}};const re=new a["default"];var le={name:"Case",props:["case_data","year_value"],components:{LinkCase:oe,ShapeComponent:j},computed:{dataTarget:()=>b.getters.isMobile||!b.state.isAuthor?"#readonly-modal":"#add-case-modal"},watch:{case_data:{handler(e){this.case_data.categories=e.categories,this.hydrateCategories()},deep:!0}},data(){return{categories:[],timelineCategories:b.getters.categories}},methods:{openModal(e){this.$parent.$parent.openModal(e,"case")},closeModal(){re.$emit("closeModal")},handleFocus(){re.$emit("closePreview")},repopulateTimeline(){this.$parent.repopulateTimeline()},hydrateCategories(){this.categories=[];for(let e=0;e<this.case_data.categories.length;e++){let t=this.timelineCategories.find(t=>t.id===this.case_data.categories[e]);t&&this.categories.push(t)}}},mounted(){this.case_data.categories&&this.hydrateCategories(),re.$on("updateCategories",e=>{this.case_data.categories&&(this.timelineCategories=e,this.hydrateCategories())})}},ce=le,de=Object(O["a"])(ce,ie,ne,!1,null,null,null),ue=de.exports,he=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.event?s("div",{staticClass:"event-preview",style:{border:"1px solid "+this.event.color}},[s("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(t){return e.$parent.clearPreviewEvent()}}},[s("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])]),s("h5",[e._v(" "+e._s(e.event.name)+" ")]),e.event.short_description?[s("div",{staticClass:"event-preview-body"},e._l(e.event.short_description.split("\n"),(function(t){return s("p",{key:t},[e._v(" "+e._s(t)+" ")])})),0)]:e._e(),s("button",{staticClass:"see-more btn btn-tertiary",attrs:{"data-toggle":"modal","data-target":"#readonly-modal"},on:{click:function(t){return e.openModal(e.event)}}},[e._v(" See more ")])],2):e._e()},pe=[],me={name:"EventPreview",props:["event"],methods:{openModal(){this.$parent.$parent.openModal(this.event,"event"),this.$parent.clearPreviewEvent()}}},ve=me,ge=Object(O["a"])(ve,he,pe,!1,null,null,null),fe=ge.exports,_e={functional:!0,render(e,t){const{_c:s,_v:a,data:i,children:n=[]}=t,{class:o,staticClass:r,style:l,staticStyle:c,attrs:d={},...u}=i;return s("svg",{class:["feather feather-more-vertical",o,r],style:[l,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},d),...u},n.concat([s("circle",{attrs:{cx:"12",cy:"12",r:"1"}}),s("circle",{attrs:{cx:"12",cy:"5",r:"1"}}),s("circle",{attrs:{cx:"12",cy:"19",r:"1"}})]))}},Ce={functional:!0,render(e,t){const{_c:s,_v:a,data:i,children:n=[]}=t,{class:o,staticClass:r,style:l,staticStyle:c,attrs:d={},...u}=i;return s("svg",{class:["feather feather-more-horizontal",o,r],style:[l,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},d),...u},n.concat([s("circle",{attrs:{cx:"12",cy:"12",r:"1"}}),s("circle",{attrs:{cx:"19",cy:"12",r:"1"}}),s("circle",{attrs:{cx:"5",cy:"12",r:"1"}})]))}},ye=a["default"].component("YearLabel",{template:'\n    <svg version="1.1" id="Layer_1" width="125px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 250 125" xml:space="preserve" @mouseover="yearHoverToggle(true)" @mouseleave="yearHoverToggle(false)">\n      <rect style="fill:#FFFFFF;" x="0" y="34" height="60" width="178" />\n      <line v-if="!yearHover" style="fill:none;stroke:#363636;stroke-width:4;stroke-miterlimit:10;" x1="29.5" y1="62.5" x2="50.5" y2="62.5"/>\n      <text style="font-family: \'source-code\', monospace;" transform="matrix(2 0 0 2 80 75)" >{{year}}</text>\n      <g id="circles" v-if="yearHover">\n        <g style="cursor:pointer;" @click="addCase(year)" data-toggle="modal" data-target="#add-case-modal">\n          <circle style="fill:#FFF;stroke:#363636;stroke-width:3;stroke-miterlimit:10;" cx="40" cy="63.2" r="20"/>\n          <line style="fill:none;stroke:#363636;stroke-width:3;stroke-miterlimit:10;" x1="40" y1="52" x2="40" y2="73"/>\n          <line style="fill:none;stroke:#363636;stroke-width:3;stroke-miterlimit:10;" x1="29.5" y1="62.5" x2="50.5" y2="62.5"/>\n        </g>\n        <g style="cursor:pointer;" @click="addEvent(year)" data-toggle="modal" data-target="#add-event-modal">\n          <circle style="fill:#EEE;stroke:#363636;stroke-width:3;stroke-miterlimit:10;" cx="210" cy="63.2" r="20"/>\n          <line style="fill:none;stroke:#363636;stroke-width:3;stroke-miterlimit:10;" x1="210" y1="52" x2="210" y2="73"/>\n          <line style="fill:none;stroke:#363636;stroke-width:3;stroke-miterlimit:10;" x1="199.5" y1="62.5" x2="220.5" y2="62.5"/>\n        </g>\n      </g>\n    </svg>',props:["year"],data(){return{yearHover:!1}},methods:{addCase(e){this.$parent.$parent.openModal({decision_date:e+"-01-01"},"case")},addEvent(e){this.$parent.$parent.openModal({start_date:e+"-01-01"},"event")},yearHoverToggle(e){this.yearHover=!!this.$store.state.isAuthor&&e}}}),we={name:"Year",components:{TimeLineSlice:ae,Case:ue,EventPreview:fe,MoreVertical:_e,MoreHorizontal:Ce,YearLabel:ye},data(){return{event_count:this.year_data.event_list.reduce((e,t)=>e+Object.keys(t).length,0),event:null,showAddButton:!1}},props:["year_data","year_value","mobileEventsExpanded"],computed:{noContent:function(){return this.event_count+this.year_data.case_list.length===0},casesWithoutEvents:function(){return 0===this.event_count&&this.year_data.case_list.length>0},eventsWithoutCases:function(){return this.event_count>0&&0===this.year_data.case_list.length},casesAndEvents:function(){return this.event_count>0&&this.year_data.case_list.length>0}},methods:{repopulateTimeline(){this.$parent.repopulateTimeline()},clearPreviewEvent(){this.event=null},previewEvent(e){this.event=e,re.$emit("closePreview",this.year_value)}},mounted(){re.$on("closePreview",e=>{this.year_value!==e&&(this.event=null)})}},be=we,ke=Object(O["a"])(be,G,Z,!1,null,null,null),Ee=ke.exports,xe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"categories-modal",tabindex:"-1",role:"dialog"}},[s("div",{staticClass:"categories-modal-dialog"},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title"},[e._v("CATEGORIES")]),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:function(t){return t.stopPropagation(),e.$parent.toggleKey()}}},[s("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])]),this.$store.state.isAuthor?s("div",{staticClass:"modal-body"},[s("ul",[e._m(0),e._l(e.categoryList,(function(e,t){return s("category",{key:t,attrs:{content:e}})}))],2),s("div",{staticClass:"btn-group"},[s("button",{staticClass:"btn btn-tertiary",on:{click:e.addCategoryFields}},[e._v("New "),s("add-icon")],1),s("button",{staticClass:"btn btn-tertiary",on:{click:e.$parent.toggleKey}},[e._v("Cancel")]),s("button",{staticClass:"btn btn-primary",on:{click:e.saveCategories}},[e._v("Save")])]),e.errors.length?s("div",{staticClass:"form-errors p-2 mt-2 small"},[s("b",[e._v("Please correct the following error(s):")]),s("ul",{staticClass:"m-0 list-inline"},e._l(e.errors,(function(t){return s("li",{key:t,staticClass:"list-inline-item"},[e._v(e._s(t))])})),0)]):e._e()]):s("div",{staticClass:"modal-body"},[s("ul",e._l(e.categoryList,(function(t,a){return s("li",{key:a,staticClass:"category-readonly"},[s("span",[s("shape-component",{attrs:{width:28,color:t.color,shapetype:t.shape}})],1),s("span",{staticClass:"name",domProps:{textContent:e._s(t.name)}})])})),0)])])])])},Me=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",{staticClass:"category"},[s("span",{attrs:{id:"shape-label"}},[e._v("Shape")]),s("span",{attrs:{id:"input-label"}},[e._v("Name")]),s("span",{attrs:{id:"color-label"}},[e._v("Color")]),s("span")])}],$e=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",{staticClass:"category"},[s("v-select",{staticClass:"shape-select",attrs:{options:e.shapes,transition:"",filterable:!1,clearable:!1,label:"shape"},scopedSlots:e._u([{key:"selected-option",fn:function(t){var a=t.shape;return[s("shape-component",{attrs:{width:28,color:e.content.color,shapetype:a}})]}},{key:"option",fn:function(t){var a=t.shape;return[s("shape-component",{attrs:{width:28,color:e.content.color,shapetype:a}})]}}]),model:{value:e.content.shape,callback:function(t){e.$set(e.content,"shape",t)},expression:"content.shape"}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.content.name,expression:"content.name"}],staticClass:"shape-name",attrs:{required:""},domProps:{value:e.content.name},on:{input:function(t){t.target.composing||e.$set(e.content,"name",t.target.value)}}}),s("v-select",{staticClass:"color-dropdown shape-color",attrs:{transition:"",filterable:!1,clearable:!1,label:"color",options:e.colors},scopedSlots:e._u([{key:"selected-option",fn:function(e){var t=e.color;return[s("span",{staticClass:"color-square",style:{backgroundColor:t}})]}},{key:"option",fn:function(e){var t=e.color;return[s("span",{staticClass:"color-square",style:{backgroundColor:t}})]}}]),model:{value:e.content.color,callback:function(t){e.$set(e.content,"color",t)},expression:"content.color"}}),s("button",{staticClass:"close category-remove",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:function(t){return e.$parent.removeCategory(e.content.id)}}},[s("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])],1)},Te=[],Se={name:"category",props:["content"],components:{vSelect:E.a,ShapeComponent:j},data(){return{shapes:["circle","polygon1","polygon2","rhombus","triangle"],colors:[]}},methods:{getRandom(e){return e[Math.floor(Math.random()*e.length)]}},mounted(){this.colors=b.getters.choices.colors,this.content.shape||(this.content.shape=this.getRandom(this.shapes)),this.content.color||(this.content.color=this.getRandom(this.colors))}},Pe=Se,Oe=Object(O["a"])(Pe,$e,Te,!1,null,"1fb47e00",null),Ne=Oe.exports,je={name:"categories",components:{ShapeComponent:j,Category:Ne,AddIcon:c},data(){return{errors:[],vectors:[],colors:[],categoryList:[],categoryTemplate:{shape:"",name:"",color:""}}},watch:{categoryList:{handler(e){this.categoryList=e},deep:!0}},methods:{checkForm(){this.errors=[];let e=new Set;for(let t=0;t<this.categoryList.length;t++)e.add(this.categoryList[t].name);e.size!==this.categoryList.length&&this.errors.push("Categories must be unique.")},addCategoryFields(){this.categoryList.push(this.unbind(b.getters.templateCategory))},unbind(e){return JSON.parse(JSON.stringify(e))},saveCategories(){this.checkForm(),this.errors.length||(re.$emit("updateCategories",this.categoryList),b.commit("saveCategories",this.categoryList),this.$parent.toggleKey())},removeCategory(e){let t=-1;for(let s=0;s<this.categoryList.length;s++)if(this.categoryList[s].id===e){t=s;break}t>-1&&this.categoryList.splice(t,1)}},mounted(){this.categoryList=this.unbind(b.getters.categories),this.categoryList.length||this.addCategoryFields()}},De=je,Ae=Object(O["a"])(De,xe,Me,!1,null,null,null),Le=Ae.exports,qe={name:"Timeline",components:{AddCaseModal:q,AddEventModal:z,AddIcon:c,KeyIcon:d,ReadonlyModal:K,Year:Ee,MinimizeIcon:r,MaximizeIcon:l,Categories:Le},computed:{title(){return this.$store.state.title}},data(){return{headerExpanded:!1,checked:!1,showCase:!1,showEvent:!1,showReadOnly:!1,keyShown:!1,years:{},event:null,windowWidth:window.innerWidth}},watch:{title(){this.repopulateTimeline()},windowWidth(e,t){this.widthToBreakpoint(e)!==this.widthToBreakpoint(t)&&this.$store.commit("setBreakPoint",this.widthToBreakpoint(e))}},methods:{check(){this.checked=!this.checked},onResize(){this.windowWidth=window.innerWidth},openModal(e,t){this.showEvent=!1,this.showCase=!1,this.showReadOnly=!1,this.event=null,e&&(this.event=JSON.parse(JSON.stringify(e))),this.$store.state.isAuthor&&!this.$store.getters.isMobile?(this.showEvent="event"===t,this.showCase="case"===t):this.showReadOnly=!0},closeModal(){this.showEvent=!1,this.showCase=!1,this.showReadOnly=!1,this.event=null,re.$emit("closeModal")},widthToBreakpoint(e){switch(!0){case e<576:return"xs";case e<768:return"sm";case e<992:return"md";case e<11200:return"lg";default:return"xl"}},toggleHeader(){(this.$store.state.description||this.$store.state.title.length>25)&&(this.headerExpanded=!this.headerExpanded)},toggleKey(){this.keyShown=!this.keyShown},handleEscape(){re.$emit("closePreview"),this.closeModal()},repopulateTimeline(){this.years={};const e=this.$store.getters.firstYear,t=this.$store.getters.lastYear;this.years={};for(let s=e;s<=t;s++)this.$set(this.years,s,{case_list:[],event_list:Array(12).fill({}),firstYearNoNewItems:!1,involvesAnyItem:!1});for(let s=e;s<=t;s++){const t=this.$store.getters.eventByStartYear(s),a=this.$store.getters.casesByYear(s);if(this.$set(this.years[s],"case_list",a),a.length+t.length>0)this.$set(this.years[s],"involvesAnyItem",!0);else if(s>e){const e=this.$store.getters.eventByStartYear(s-1).length,t=this.$store.getters.casesByYear(s-1).length;this.$set(this.years[s],"firstYearNoNewItems",e+t>0)}t.length>0&&t.forEach(e=>{for(let t=0;t<12;t++)if(0===Object.keys(this.years[s].event_list[t]).length){let a=new Date(e.end_date).getUTCFullYear()-new Date(e.start_date).getUTCFullYear();for(let i=0;i<=a;i++)this.$set(this.years[s+i].event_list,t,e),this.$set(this.years[s+i],"involvesAnyItem",!0);return!1}})}}},beforeDestroy(){window.removeEventListener("resize",this.onResize)},created(){re.$on("openModal",(e,t)=>{this.openModal(e,t)})},mounted(){this.$nextTick(()=>{window.addEventListener("resize",this.onResize)}),this.$store.commit("setBreakPoint",this.widthToBreakpoint(this.windowWidth))}},Re=qe,Fe=Object(O["a"])(Re,n,o,!1,null,null,null),Ie=Fe.exports,Ue=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("main",{staticClass:"admin"},[e._m(0),"True"===this.$store.state.user.is_authenticated?s("section",{attrs:{id:"timeline"}},["True"===this.$store.state.user.is_authenticated?s("h6",{staticClass:"timelines-title"},[e._v("Your timelines")]):e._e(),this.$store.getters.availableTimelines.length?e._e():[s("p",{staticClass:"welcome"},[e._v(" Welcome to Chronolawgic, the Caselaw Access Project tool for creating caselaw-focused timelines. To create your first timeline, click on the plus sign in the middle of the rectangle below, then click on the "),s("span",{staticClass:"inline-icon"},[s("edit-icon")],1),e._v(" symbol to set a title and description. ")])],s("div",{staticClass:"timeline-assembly add-timeline"},[s("div",{staticClass:"timeline-card"},[s("button",{staticClass:"btn btn-tertiary",attrs:{type:"button"},on:{click:function(t){return e.$store.dispatch("requestCreateTimeline")}}},[s("add-icon")],1)])]),this.$store.getters.availableTimelines.length?e._l(this.$store.getters.availableTimelines,(function(t){return s("div",{key:t.id,staticClass:"timeline-assembly"},[s("nav",[s("div",{staticClass:"editcancel",attrs:{title:"edit"}},[Object.prototype.hasOwnProperty.call(e.editMode,t.id)?s("button",{staticClass:"btn btn-edit",on:{click:function(s){return e.toggleEdit(t)},keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"esc",27,s.key,["Esc","Escape"])?null:e.toggleEdit(t)}}},[s("cancel-icon")],1):s("button",{staticClass:"btn btn-edit",on:{click:function(s){return e.toggleEdit(t)}}},[s("edit-icon")],1)]),s("div",{staticClass:"delete",attrs:{title:"delete timeline"}},[Object.prototype.hasOwnProperty.call(e.editMode,t.id)?s("button",{staticClass:"btn btn-edit",on:{click:function(s){return e.$store.dispatch("requestDeleteTimeline",t.id)}}},[s("delete-icon")],1):e._e()]),s("div",{staticClass:"save",attrs:{title:"save changes"}},[s("button",{staticClass:"btn btn-edit",on:{click:function(s){return e.saveEdit(t.id)}}},[Object.prototype.hasOwnProperty.call(e.editMode,t.id)?s("save-icon"):e._e()],1)])]),s("div",{staticClass:"timeline-card"},[s("div",{staticClass:"content"},[s("header",{staticClass:"title"},[Object.prototype.hasOwnProperty.call(e.editMode,t.id)?s("div",{staticClass:"title-edit"},[s("div",{staticClass:"label"},[e._v("Title")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.editMode[t.id].title,expression:"editMode[timeline.id].title"}],staticClass:"title-input title",attrs:{type:"text"},domProps:{value:e.editMode[t.id].title},on:{keyup:[function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"esc",27,s.key,["Esc","Escape"])?null:e.toggleEdit(t)},function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.saveEdit(t.id)}],input:function(s){s.target.composing||e.$set(e.editMode[t.id],"title",s.target.value)}}})]):s("h3",[s("router-link",{attrs:{to:t.id.toString()},domProps:{textContent:e._s(t.title)}})],1)]),s("div",{class:{author:!0,editmode:Object.prototype.hasOwnProperty.call(e.editMode,t.id)}},[Object.prototype.hasOwnProperty.call(e.editMode,t.id)?s("div",{staticClass:"author-edit"},[s("div",{staticClass:"label"},[e._v("Author")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.editMode[t.id].author,expression:"editMode[timeline.id].author"}],staticClass:"author-input",attrs:{placeholder:"CAP User"},domProps:{value:e.editMode[t.id].author},on:{keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"esc",27,s.key,["Esc","Escape"])?null:e.toggleEdit(t)},input:function(s){s.target.composing||e.$set(e.editMode[t.id],"author",s.target.value)}}})]):s("p",[e._v(" Author: "+e._s(t.author)+" ")])]),s("div",{class:{description:!0,editmode:Object.prototype.hasOwnProperty.call(e.editMode,t.id)}},[Object.prototype.hasOwnProperty.call(e.editMode,t.id)?s("div",{staticClass:"description-edit"},[s("div",{staticClass:"label"},[e._v("Description")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.editMode[t.id].description,expression:"editMode[timeline.id].description"}],staticClass:"description-input",domProps:{value:e.editMode[t.id].description},on:{keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"esc",27,s.key,["Esc","Escape"])?null:e.toggleEdit(t)},input:function(s){s.target.composing||e.$set(e.editMode[t.id],"description",s.target.value)}}})]):s("p",{domProps:{textContent:e._s(t.description)}})])]),s("aside",[s("div",{staticClass:"stat"},[s("div",{staticClass:"label"},[e._v("Cases")]),s("div",{staticClass:"case_count value",domProps:{textContent:e._s(t.case_count)}})]),s("div",{staticClass:"stat"},[s("div",{staticClass:"label"},[e._v("Events")]),s("div",{staticClass:"event_count value",domProps:{textContent:e._s(t.event_count)}},[e._v("0")])])])])])})):e._e()],2):s("section",{staticClass:"not-logged-in"},[e._v(" Welcome! To create Chronolawgic timelines, you must "),s("a",{attrs:{href:"../../../user/login"}},[e._v("log in")]),e._v(" to your Caselaw Access Project account. For more information on Chronolawgic, "),s("a",{attrs:{href:"../"}},[e._v("click here")]),e._v(". ")]),s("br")])},Ye=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"top-menu"},[s("h2",[s("a",{attrs:{href:"../../"}},[e._v("Labs:")]),e._v(" Chronolawgic")]),s("h5",{staticClass:"subhead"},[e._v("A legal timeline tool.")])])}],ze={functional:!0,render(e,t){const{_c:s,_v:a,data:i,children:n=[]}=t,{class:o,staticClass:r,style:l,staticStyle:c,attrs:d={},...u}=i;return s("svg",{class:["feather feather-edit",o,r],style:[l,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},d),...u},n.concat([s("path",{attrs:{d:"M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"}}),s("path",{attrs:{d:"M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"}})]))}},Be={functional:!0,render(e,t){const{_c:s,_v:a,data:i,children:n=[]}=t,{class:o,staticClass:r,style:l,staticStyle:c,attrs:d={},...u}=i;return s("svg",{class:["feather feather-save",o,r],style:[l,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},d),...u},n.concat([s("path",{attrs:{d:"M19 21H5a2 2 0 01-2-2V5a2 2 0 012-2h11l5 5v11a2 2 0 01-2 2z"}}),s("path",{attrs:{d:"M17 21v-8H7v8M7 3v5h8"}})]))}},He={functional:!0,render(e,t){const{_c:s,_v:a,data:i,children:n=[]}=t,{class:o,staticClass:r,style:l,staticStyle:c,attrs:d={},...u}=i;return s("svg",{class:["feather feather-x-circle",o,r],style:[l,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},d),...u},n.concat([s("circle",{attrs:{cx:"12",cy:"12",r:"10"}}),s("path",{attrs:{d:"M15 9l-6 6M9 9l6 6"}})]))}},We={functional:!0,render(e,t){const{_c:s,_v:a,data:i,children:n=[]}=t,{class:o,staticClass:r,style:l,staticStyle:c,attrs:d={},...u}=i;return s("svg",{class:["feather feather-trash-2",o,r],style:[l,c],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},d),...u},n.concat([s("path",{attrs:{d:"M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2M10 11v6M14 11v6"}})]))}},Je={name:"Admin",components:{AddIcon:c,EditIcon:ze,SaveIcon:Be,CancelIcon:He,DeleteIcon:We},data(){return{editMode:{},timelines:{}}},methods:{toggleEdit(e){Object.prototype.hasOwnProperty.call(this.editMode,e.id)?this.$delete(this.editMode,e.id):(this.$set(this.editMode,e.id,{}),this.$set(this.editMode[e.id],"id",e.id),this.$set(this.editMode[e.id],"title",e.title),this.$set(this.editMode[e.id],"author",e.author),this.$set(this.editMode[e.id],"description",e.description))},saveEdit(e){Object.prototype.hasOwnProperty.call(this.editMode,e)&&this.$store.dispatch("requestUpdateAdmin",this.editMode[e]).then(()=>{this.$delete(this.editMode,e),this.$store.dispatch("requestTimelineList")})}}},Ve=Je,Ke=Object(O["a"])(Ve,Ue,Ye,!1,null,null,null),Ge=Ke.exports,Ze=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("main",["pending"===e.$store.getters.requestStatus?s("div",{attrs:{id:"loading"}}):e._e(),e.$store.getters.notificationMessage?s("div",["error"!==e.$store.getters.requestStatus?s("div",{staticClass:"flash",attrs:{id:"success_msg"}},[e._v(" "+e._s(e.$store.getters.notificationMessage)+" ")]):e._e(),"error"===e.$store.getters.requestStatus?s("div",{staticClass:"flash",attrs:{id:"error_msg"}},[e._v(" "+e._s(e.$store.getters.notificationMessage)+" ")]):e._e()]):e._e(),s("router-view")],1)},Xe=[],Qe=s("a881"),et=s.n(Qe),tt={name:"Admin",components:{},created(){re.$on("closeModal",()=>{et()(".modal-backdrop").remove(),et()("body").removeClass("modal-open")})}},st=tt,at=Object(O["a"])(st,Ze,Xe,!1,null,null,null),it=at.exports;a["default"].config.devtools=!0,a["default"].config.productionTip=!1,a["default"].use(i["a"]);const nt=new i["a"]({mode:"history",base:"labs/chronolawgic/timeline/",routes:[{path:"/",component:Ge,name:"admin"},{path:"/:timeline",component:Ie,name:"timeline"},{path:"*",redirect:"/"}]});nt.afterEach(e=>{"timeline"===e.name&&e.params.timeline&&b.dispatch("requestTimeline",e.params.timeline),"admin"===e.name&&b.dispatch("requestTimelineList")}),new a["default"]({el:"#app",store:b,template:"<App/>",components:{App:it,Timeline:Ie,Admin:Ge},router:nt})}});
//# sourceMappingURL=labs-chronolawgic.e0d4ddb0.js.map