{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./static/js/labs/chronolawgic/timeline.vue?72a5","webpack:///./static/img/icons/minimize-2.svg","webpack:///./static/img/icons/maximize-2.svg","webpack:///./static/img/icons/plus-circle.svg","webpack:///./static/img/icons/key.svg","webpack:///./static/js/labs/chronolawgic/add-case-modal.vue?974c","webpack:///./static/js/labs/chronolawgic/store.js","webpack:///./static/js/labs/chronolawgic/shape-component.vue?a75a","webpack:///static/js/labs/chronolawgic/shape-component.vue","webpack:///./static/js/labs/chronolawgic/shape-component.vue?8850","webpack:///./static/js/labs/chronolawgic/shape-component.vue","webpack:///static/js/labs/chronolawgic/add-case-modal.vue","webpack:///./static/js/labs/chronolawgic/add-case-modal.vue?5f0c","webpack:///./static/js/labs/chronolawgic/add-case-modal.vue","webpack:///./static/js/labs/chronolawgic/add-event-modal.vue?7c93","webpack:///static/js/labs/chronolawgic/add-event-modal.vue","webpack:///./static/js/labs/chronolawgic/add-event-modal.vue?b7eb","webpack:///./static/js/labs/chronolawgic/add-event-modal.vue","webpack:///./static/js/labs/chronolawgic/readonly-modal.vue?ec62","webpack:///static/js/labs/chronolawgic/readonly-modal.vue","webpack:///./static/js/labs/chronolawgic/readonly-modal.vue?a6c1","webpack:///./static/js/labs/chronolawgic/readonly-modal.vue","webpack:///./static/js/labs/chronolawgic/year.vue?afb7","webpack:///./static/js/labs/chronolawgic/timeline-slice.vue?9a99","webpack:///static/js/labs/chronolawgic/timeline-slice.vue","webpack:///./static/js/labs/chronolawgic/timeline-slice.vue?22a9","webpack:///./static/js/labs/chronolawgic/timeline-slice.vue","webpack:///./static/js/labs/chronolawgic/case.vue?6bec","webpack:///./static/img/icons/open_in_new-24px.svg","webpack:///./static/js/labs/chronolawgic/event-bus.js","webpack:///static/js/labs/chronolawgic/case.vue","webpack:///./static/js/labs/chronolawgic/case.vue?59e7","webpack:///./static/js/labs/chronolawgic/case.vue","webpack:///./static/js/labs/chronolawgic/event-preview.vue?526e","webpack:///static/js/labs/chronolawgic/event-preview.vue","webpack:///./static/js/labs/chronolawgic/event-preview.vue?b050","webpack:///./static/js/labs/chronolawgic/event-preview.vue","webpack:///./static/img/icons/more-vertical.svg","webpack:///./static/img/icons/more-horizontal.svg","webpack:///./static/js/labs/chronolawgic/year-label.js","webpack:///static/js/labs/chronolawgic/year.vue","webpack:///./static/js/labs/chronolawgic/year.vue?a818","webpack:///./static/js/labs/chronolawgic/year.vue","webpack:///./static/js/labs/chronolawgic/categories.vue?0e26","webpack:///./static/js/labs/chronolawgic/category.vue?512e","webpack:///static/js/labs/chronolawgic/category.vue","webpack:///./static/js/labs/chronolawgic/category.vue?d286","webpack:///./static/js/labs/chronolawgic/category.vue","webpack:///static/js/labs/chronolawgic/categories.vue","webpack:///./static/js/labs/chronolawgic/categories.vue?5063","webpack:///./static/js/labs/chronolawgic/categories.vue","webpack:///static/js/labs/chronolawgic/timeline.vue","webpack:///./static/js/labs/chronolawgic/timeline.vue?f141","webpack:///./static/js/labs/chronolawgic/timeline.vue","webpack:///./static/js/labs/chronolawgic/admin.vue?244b","webpack:///./static/img/icons/edit.svg","webpack:///./static/img/icons/save.svg","webpack:///./static/img/icons/cancel.svg","webpack:///./static/img/icons/trash-2.svg","webpack:///static/js/labs/chronolawgic/admin.vue","webpack:///./static/js/labs/chronolawgic/admin.vue?987e","webpack:///./static/js/labs/chronolawgic/admin.vue","webpack:///./static/js/labs/chronolawgic/app.vue?455a","webpack:///static/js/labs/chronolawgic/app.vue","webpack:///./static/js/labs/chronolawgic/app.vue?1222","webpack:///./static/js/labs/chronolawgic/app.vue","webpack:///./static/js/labs/chronolawgic/main.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","render","_vm","this","_h","$createElement","_c","_self","ref","class","$store","getters","mobileEventsExpanded","attrs","on","$event","type","indexOf","_k","keyCode","handleEscape","staticClass","headerExpanded","toggleHeader","_v","_s","state","title","author","domProps","description","_e","isAuthor","categories","keyShown","toggleKey","selectable","minimized","commit","openModal","_l","year_data","idx","empty","isMobile","showCase","event","showEvent","showReadOnly","staticRenderFns","functional","children","classNames","style","staticStyle","rest","assign","concat","stopPropagation","case","closeModal","preventDefault","directives","rawName","expression","extraFields","cap","target","composing","searchText","model","callback","$$v","$set","showLoading","searchResults","id","chosenCase","autofillCase","newCase","choices","jurisdictions","chooseJurisdiction","courts","colors","setSelected","scopedSlots","_u","fn","color","backgroundColor","shape","errors","error","deleteCase","updateCase","addCase","axios","defaults","xsrfHeaderName","xsrfCookieName","importUrls","urls","importChoices","importUser","user","slug","courtName","Vue","use","Vuex","store","Store","breakPoint","requestStatus","notificationMessage","chronolawgic_api_create","chronolawgic_api_retrieve","chronolawgic_api_update","chronolawgic_api_delete","chronolawgic_api_update_admin","static","api_root","availableTimelines","createdBy","events","cases","templateEvent","short_description","long_description","start_date","end_date","url","templateCase","citation","jurisdiction","reporter","decision_date","templateCategory","mutations","expandMobileEvents","setBreakPoint","newBreakPoint","unExpandMobileEvents","toggleMinimized","setAvailableTimelines","json","setTimeline","setTimelineId","timeline_id","setCreatedBy","setAuthor","setCategories","setRequestStatus","status","setRequestStatusTerminal","setTimeout","setNotificationMessage","message","addEvent","generateUUID","dispatch","caselaw","updateEvent","deleteEvent","event_index","caselaw_index","saveCategories","firstYear","first_case_year","first_event_year","reduce","min","e","Date","getUTCFullYear","lastYear","last_event_year","last_case_year","max","sort","a","b","eventByStartYear","year","filter","evt","casesByYear","cas","timeline","category","find","cat","randomColor","Math","floor","random","actions","requestCreateTimeline","post","then","response","new_tl","catch","requestDeleteTimeline","timelineId","delete","requestUpdateTimeline","JSON","stringify","headers","requestTimeline","requestTimelineList","requestUpdateAdmin","trim","replace","v","toString","width","height","shapetype","props","ratios","component","components","vSelect","CaseResult","SearchButton","ShapeComponent","showNoSearchResults","label","methods","$parent","repopulateTimeline","setupCase","checkForm","unbind","court","map","date","date_parts","split","day","month","name_abbreviation","citations","cite","frontend_url","formatDate","name_long","query","searchCAP","obj","parse","hydratedCats","existingCase","hydrateCategories","jur","watch","newEvent","setupEvent","existingEvent","domain","par","index","newval","deep","hostname","involvesAnyItem","no_content_year","noContent","cases_only_year","casesWithoutEvents","events_only_year","eventsWithoutCases","cases_and_events_year","casesAndEvents","year_value","clearPreviewEvent","case_list","case_data","event_list","firstYearNoNewItems","event_data","keys","parseInt","checkIfLight","fillRefGenerator","refInFor","dataToggle","dataTarget","handleFocus","setLabelWidth","computed","showPreview","$emit","toggleEventPreview","open","firstEventYear","lastEventYear","yearRange","base_size","lightColors","toLowerCase","EventBus","timelineCategories","item","foundCat","$on","border","desc","template","yearHover","yearHoverToggle","newHoverState","TimeLineSlice","Case","EventPreview","MoreVertical","MoreHorizontal","YearLabel","event_count","acc","element","showAddButton","_m","addCategoryFields","shapes","content","removeCategory","someList","Category","AddIcon","vectors","categoryList","categoryTemplate","uniqueCategories","Set","add","size","catID","catIndex","AddCaseModal","AddEventModal","KeyIcon","ReadonlyModal","Year","MinimizeIcon","MaximizeIcon","Categories","checked","years","windowWidth","innerWidth","newWidth","oldWidth","widthToBreakpoint","typeOfItem","finalYear","y","Array","fill","newEvents","newCases","lastYearECount","lastYearCCount","forEach","track_index","event_year","removeEventListener","onResize","$nextTick","addEventListener","is_authenticated","editMode","toggleEdit","saveEdit","case_count","timelines","$delete","config","devtools","productionTip","VueRouter","router","base","routes","path","Admin","Timeline","redirect","afterEach","to","params","el","App"],"mappings":"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","file":"js/labs-chronolawgic.e0d4ddb0.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"labs-chronolawgic\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/static/dist/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([11,\"chunk-common\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main',{ref:\"main-app-container\",class:{'mobile-event-expanded': _vm.$store.getters.mobileEventsExpanded },attrs:{\"id\":\"main-app\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.handleEscape($event)}}},[_c('div',{staticClass:\"row top-menu\"},[_c('header',{class:{ 'header-section': true, 'title': true, 'expanded': _vm.headerExpanded}},[_c('h4',{attrs:{\"id\":\"timeline-title\"},on:{\"click\":function($event){return _vm.toggleHeader()}}},[_vm._v(_vm._s(_vm.$store.state.title))]),_c('div',{attrs:{\"id\":\"timeline-author\"}},[_vm._v(\"By \"+_vm._s(_vm.$store.state.author))]),(_vm.$store.state.description)?_c('div',{attrs:{\"id\":\"timeline-description\"},domProps:{\"textContent\":_vm._s(_vm.$store.state.description)},on:{\"click\":function($event){return _vm.toggleHeader()}}}):_vm._e(),(_vm.$store.state.isAuthor)?_c('div',{staticClass:\"my-timelines-link\"},[_c('router-link',{staticClass:\"btn btn-tertiary\",attrs:{\"to\":\"/\"}},[_vm._v(\" BACK TO MY TIMELINES \")])],1):_vm._e()]),_c('div',{staticClass:\"header-section years\"}),_c('div',{class:{'header-section': true, 'zoom-section': true, 'expanded': _vm.headerExpanded}},[_c('div',{attrs:{\"id\":\"zoom-button-container\"}},[_c('ul',{staticClass:\"inline-list toggles\"},[(_vm.$store.state.isAuthor || (_vm.$store.state.categories && _vm.$store.state.categories.length))?_c('li',{staticClass:\"list-inline-item key\",class:{'selected': _vm.keyShown},attrs:{\"data-target\":\"#categories-modal\"},on:{\"click\":_vm.toggleKey}},[_c('key-icon')],1):_vm._e(),_c('li',{staticClass:\"list-inline-item zoom-toggle zoom-in\",class:{selectable: !_vm.$store.state.minimized},on:{\"click\":function($event){return _vm.$store.commit('toggleMinimized')}}},[_c('minimize-icon')],1),_c('li',{staticClass:\"list-inline-item zoom-toggle zoom-out\",class:{selectable: _vm.$store.state.minimized},on:{\"click\":function($event){return _vm.$store.commit('toggleMinimized')}}},[_c('maximize-icon')],1)]),(_vm.keyShown)?_c('categories'):_vm._e()],1)])]),_c('section',{attrs:{\"id\":\"timeline\"}},[_c('div',{staticClass:\"year labels\"},[_c('div',{staticClass:\"incidental\",on:{\"click\":function($event){return _vm.$store.commit('unExpandMobileEvents')}}}),_c('div',{staticClass:\"year_scale\"},[_c('div',{staticClass:\"label_assembly\"},[(_vm.$store.state.isAuthor)?_c('button',{staticClass:\"btn btn-tertiary btn-add-case\",attrs:{\"type\":\"button\",\"id\":\"top-add-cases-button\",\"data-toggle\":\"modal\",\"data-target\":\"#add-case-modal\"},on:{\"click\":function($event){return _vm.openModal(null, 'case')}}},[_c('add-icon')],1):_vm._e(),_c('h6',{attrs:{\"id\":\"caselaw-label\"},on:{\"click\":function($event){return _vm.$store.commit('unExpandMobileEvents')}}},[_vm._v(\"CASELAW\")]),_c('h6',{attrs:{\"id\":\"events-label\"},on:{\"click\":function($event){return _vm.$store.commit('expandMobileEvents')}}},[_vm._v(\"EVENTS\")]),(_vm.$store.state.isAuthor)?_c('button',{staticClass:\"btn btn-tertiary btn-add-event\",attrs:{\"type\":\"button\",\"id\":\"top-add-events-button\",\"data-toggle\":\"modal\",\"data-target\":\"#add-event-modal\"},on:{\"click\":function($event){return _vm.openModal(null, 'event')}}},[_c('add-icon')],1):_vm._e()])]),_c('div',{staticClass:\"spans row\",on:{\"click\":function($event){return _vm.$store.commit('expandMobileEvents')}}})]),_vm._l((_vm.years),function(year_data,idx){return _c('year',{key:'year_' + idx,attrs:{\"year_data\":year_data,\"year_value\":idx}})}),(_vm.$store.getters.empty === 'empty')?_c('div',{staticClass:\"year welcome\"},[(_vm.$store.state.isAuthor && !this.$store.getters.isMobile)?_c('div',{staticClass:\"incidental\"},[_vm._v(\" Welcome to your brand new timeline. Start adding content by clicking on the plus sign next to Cases or Events. \")]):(_vm.$store.state.isAuthor && this.$store.getters.isMobile)?_c('div',{staticClass:\"incidental\"},[_vm._v(\" Welcome to your brand new timeline. We have not yet developed authorship mode for mobile devices. Please let us know if you'd like us to prioritize it. \")]):_c('div',{staticClass:\"incidental\"},[_vm._v(\"The author of this timeline has not yet added any cases or events.\")]),_c('div',{staticClass:\"year_scale\"}),_c('div',{staticClass:\"spans\"})]):_vm._e()],2),(_vm.showCase)?_c('add-case-modal',{attrs:{\"data-toggle\":\"modal\",\"data-target\":\"#add-case-modal\",\"modal\":_vm.showCase,\"case\":_vm.event,\"shown\":_vm.showCase},on:{\"update:modal\":function($event){_vm.showCase=$event}}}):(_vm.showEvent)?_c('add-event-modal',{attrs:{\"data-toggle\":\"modal\",\"data-target\":\"#add-event-modal\",\"modal\":_vm.showEvent,\"event\":_vm.event,\"shown\":_vm.showEvent},on:{\"update:modal\":function($event){_vm.showEvent=$event}}}):_vm._e(),(_vm.showReadOnly)?_c('readonly-modal',{attrs:{\"data-toggle\":\"modal\",\"data-target\":\"#readonly-modal\",\"modal\":_vm.showReadOnly,\"event\":_vm.event,\"shown\":_vm.showReadOnly},on:{\"update:modal\":function($event){_vm.showReadOnly=$event}}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [\"feather feather-minimize-2\",classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"24\",\"height\":\"24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"d\":\"M4 14h6v6M20 10h-6V4M14 10l7-7M3 21l7-7\"}})])\n          )\n        }\n      }\n    ","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [\"feather feather-maximize-2\",classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"24\",\"height\":\"24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"d\":\"M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7\"}})])\n          )\n        }\n      }\n    ","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [\"feather feather-plus-circle\",classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"24\",\"height\":\"24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"stroke-width\":\"1.5\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('circle',{attrs:{\"cx\":\"12\",\"cy\":\"12\",\"r\":\"10\"}}),_c('path',{attrs:{\"d\":\"M12 8v8M8 12h8\"}})])\n          )\n        }\n      }\n    ","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [\"feather feather-key\",classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"24\",\"height\":\"24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"d\":\"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 11-7.778 7.778 5.5 5.5 0 017.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4\"}})])\n          )\n        }\n      }\n    ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal\",attrs:{\"id\":\"add-case-modal\",\"tabindex\":\"-1\",\"role\":\"dialog\"},on:{\"click\":function($event){$event.stopPropagation();}}},[_c('div',{staticClass:\"modal-dialog\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[(this.case && this.case.name)?_c('h5',{staticClass:\"modal-title\"},[_vm._v(_vm._s(this.case.name))]):_c('h5',{staticClass:\"modal-title\"},[_vm._v(\"ADD CASELAW\")]),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.closeModal($event)}}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"\")])])]),_c('div',{staticClass:\"modal-body\"},[(!(this.case && typeof(this.case.id) === 'number'))?_c('form',{attrs:{\"id\":\"form-search-cap\"},on:{\"submit\":function($event){$event.stopPropagation();$event.preventDefault();}}},[_c('h6',[_vm._v(\"Search CAP\")]),_c('div',{attrs:{\"id\":\"field-group-search\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchText),expression:\"searchText\"}],staticClass:\"form-control\",attrs:{\"id\":\"field-search-cap\",\"placeholder\":'Enter '+ _vm.extraFields.cap.value},domProps:{\"value\":(_vm.searchText)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.searchText=$event.target.value}}}),_c('span',[_vm._v(\"Search using:\")]),_c('v-select',{attrs:{\"options\":['Name abbreviation', 'Citation', 'Text search'],\"clearable\":false,\"placeholder\":\"search\"},model:{value:(_vm.extraFields.cap.value),callback:function ($$v) {_vm.$set(_vm.extraFields.cap, \"value\", $$v)},expression:\"extraFields.cap.value\"}}),_c('span',{staticClass:\"button-container\"},[_c('search-button',{attrs:{\"showLoading\":_vm.showLoading}})],1)],1),(_vm.searchResults.length)?_c('ul',{staticClass:\"results-list\"},_vm._l((_vm.searchResults),function(result){return _c('div',{key:result.id,staticClass:\"result-container\",class:_vm.chosenCase.id === result.id ? 'chosen' : '',on:{\"click\":function($event){return _vm.autofillCase(result)}}},[_c('case-result',{attrs:{\"result\":result}})],1)}),0):_vm._e(),(_vm.showNoSearchResults)?_c('ul',{staticClass:\"results-list\"},[_c('li',{staticClass:\"result-container p-2\"},[_vm._v(\"No results found\")])]):_vm._e(),_c('hr')]):_vm._e(),_c('form',{attrs:{\"id\":\"form-add-case\"},on:{\"submit\":function($event){$event.stopPropagation();}}},[_c('div',{staticClass:\"form-label-group\",attrs:{\"id\":\"field-group-url\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newCase.url),expression:\"newCase.url\"}],staticClass:\"form-control\",attrs:{\"id\":\"field-url\",\"placeholder\":\"URL\"},domProps:{\"value\":(_vm.newCase.url)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.newCase, \"url\", $event.target.value)}}}),_c('label',{attrs:{\"for\":\"field-url\"}},[_vm._v(\"URL\")])]),_c('div',{staticClass:\"form-label-group\",attrs:{\"id\":\"field-group-citation\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newCase.citation),expression:\"newCase.citation\"}],staticClass:\"form-control\",attrs:{\"id\":\"field-citation\",\"placeholder\":\"Citation\"},domProps:{\"value\":(_vm.newCase.citation)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.newCase, \"citation\", $event.target.value)}}}),_c('label',{attrs:{\"for\":\"field-citation\"}},[_vm._v(\"Citation\")])]),_c('div',{staticClass:\"form-label-group\",attrs:{\"id\":\"field-group-name\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newCase.name),expression:\"newCase.name\"}],staticClass:\"form-control\",attrs:{\"id\":\"field-name\",\"placeholder\":\"Case name\",\"required\":\"\"},domProps:{\"value\":(_vm.newCase.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.newCase, \"name\", $event.target.value)}}}),_c('label',{attrs:{\"for\":\"field-name\"}},[_vm._v(\"Case name\")])]),_c('div',{staticClass:\"form-label-group\",attrs:{\"id\":\"field-group-short\"}},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newCase.short_description),expression:\"newCase.short_description\"}],staticClass:\"form-control\",attrs:{\"id\":\"field-short-description\",\"placeholder\":\"SHORT DESCRIPTION\"},domProps:{\"value\":(_vm.newCase.short_description)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.newCase, \"short_description\", $event.target.value)}}})]),_c('div',{staticClass:\"form-label-group\",attrs:{\"id\":\"field-group-date\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newCase.decision_date),expression:\"newCase.decision_date\"}],staticClass:\"form-control\",attrs:{\"id\":\"field-decision-date\",\"placeholder\":\"DECISION DATE\",\"type\":\"date\",\"required\":\"\"},domProps:{\"value\":(_vm.newCase.decision_date)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.newCase, \"decision_date\", $event.target.value)}}}),_c('label',{attrs:{\"for\":\"field-decision-date\"}},[_vm._v(\"DECISION DATE\")])]),_c('div',{staticClass:\"form-label-group\",attrs:{\"id\":\"field-group-long\"}},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newCase.long_description),expression:\"newCase.long_description\"}],staticClass:\"form-control\",attrs:{\"id\":\"field-long-description\",\"placeholder\":\"LONGER DESCRIPTION\"},domProps:{\"value\":(_vm.newCase.long_description)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.newCase, \"long_description\", $event.target.value)}}})]),_c('v-select',{attrs:{\"transition\":\"\",\"id\":\"field-group-jurisdiction\",\"label\":\"jurisdiction\",\"placeholder\":\"Jurisdiction\",\"options\":_vm.choices.jurisdictions},on:{\"input\":_vm.chooseJurisdiction},model:{value:(_vm.newCase.jurisdiction),callback:function ($$v) {_vm.$set(_vm.newCase, \"jurisdiction\", $$v)},expression:\"newCase.jurisdiction\"}}),_c('v-select',{attrs:{\"transition\":\"\",\"id\":\"field-group-court\",\"label\":\"courtName\",\"placeholder\":\"Court\",\"options\":_vm.choices.courts},model:{value:(_vm.newCase.court),callback:function ($$v) {_vm.$set(_vm.newCase, \"court\", $$v)},expression:\"newCase.court\"}}),_c('v-select',{staticClass:\"color-dropdown\",attrs:{\"transition\":\"\",\"label\":\"color\",\"placeholder\":\"Border color\",\"filterable\":false,\"clearable\":false,\"options\":_vm.colors},on:{\"input\":_vm.setSelected},scopedSlots:_vm._u([{key:\"selected-option\",fn:function(ref){\nvar color = ref.color;\nreturn [_c('span',{staticClass:\"color-square\",style:({backgroundColor: color})},[_vm._v(\" \"+_vm._s(color)+\" \")])]}},{key:\"option\",fn:function(ref){\nvar color = ref.color;\nreturn [_c('span',{staticClass:\"color-square\",style:({backgroundColor: color})},[_vm._v(\" \"+_vm._s(color)+\" \")])]}}]),model:{value:(_vm.newCase.color),callback:function ($$v) {_vm.$set(_vm.newCase, \"color\", $$v)},expression:\"newCase.color\"}}),_c('v-select',{attrs:{\"multiple\":\"\",\"id\":\"field-group-categories\",\"filterable\":false,\"transition\":\"\",\"label\":\"name\",\"placeholder\":\"Categories\",\"options\":_vm.$store.state.categories},scopedSlots:_vm._u([{key:\"selected-option\",fn:function(ref){\nvar color = ref.color;\nvar shape = ref.shape;\nvar name = ref.name;\nreturn [_c('shape-component',{attrs:{\"width\":20,\"color\":color,\"shapetype\":shape}}),_c('span',{domProps:{\"textContent\":_vm._s(name)}})]}},{key:\"option\",fn:function(ref){\nvar color = ref.color;\nvar shape = ref.shape;\nvar name = ref.name;\nreturn [_c('shape-component',{attrs:{\"width\":28,\"color\":color,\"shapetype\":shape}}),_c('span',{domProps:{\"textContent\":_vm._s(name)}})]}}]),model:{value:(_vm.newCase.categories),callback:function ($$v) {_vm.$set(_vm.newCase, \"categories\", $$v)},expression:\"newCase.categories\"}})],1),(_vm.errors.length)?_c('div',{staticClass:\"form-errors p-2 mt-2 small\"},[_c('b',[_vm._v(\"Please correct the following error(s):\")]),_c('ul',{staticClass:\"m-0 list-inline\"},_vm._l((_vm.errors),function(error){return _c('li',{key:error,staticClass:\"list-inline-item\"},[_vm._v(_vm._s(error))])}),0)]):_vm._e()]),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-tertiary\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.closeModal($event)}}},[_vm._v(\" Cancel \")]),(this.case && this.case.name)?[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"},on:{\"click\":_vm.deleteCase}},[_vm._v(\" Delete \")]),_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.updateCase($event)}}},[_vm._v(\" Update \")])]:[_c('button',{staticClass:\"btn btn-primary btn-highlight\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.addCase($event)}}},[_vm._v(\" ADD \")])]],2)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport axios from \"axios\";\n\naxios.defaults.xsrfHeaderName = \"X-CSRFTOKEN\";\naxios.defaults.xsrfCookieName = \"csrftoken\";\n\n// eslint-disable-next-line\nconst importUrls = urls; // defined in timeline.html\n// eslint-disable-next-line\nconst importChoices = choices; // defined in timeline.html\n// eslint-disable-next-line\nconst importUser = user; // defined in timeline.html\n\nimportChoices.colors = [\n    \"#00db67\",\n    \"#ccff6d\",\n    \"#dbc600\",\n    \"#db8f00\",\n    \"#ff8e7a\",\n    \"#ff736c\",\n    \"#e5435c\",\n    \"#986d81\",\n    \"#7e84ff\",\n    \"#3656f6\",\n    \"#2f2f2f\",\n    \"#3e667a\",\n    \"#00b7db\",\n    \"#c4c4c4\",\n]\n\n// jurisdictions\nconst jurisdictions = [];\nfor (let i = 0; i < importChoices.jurisdictions.length; i++) {\n    jurisdictions.push(importChoices.jurisdictions[i][1])\n}\nimportChoices.jurisdictions = jurisdictions;\n\n// courts\nconst courts = [];\nfor (let i = 0; i < importChoices.courts.length; i++) {\n    courts.push({\n        slug: importChoices.courts[i][0],\n        courtName: importChoices.courts[i][1]\n    })\n}\nimportChoices.courts = courts;\n\nVue.use(Vuex);\nconst store = new Vuex.Store({\n    state: {\n        mobileEventsExpanded: false,\n        breakPoint: 'lg',\n        user: importUser,\n        choices: importChoices,\n        requestStatus: 'nominal', // can be nominal, success, error, or pending. Prone to race conditions, so use only for user feedback until its improved\n        notificationMessage: null,\n        urls: { // Doing this the long way to make it a little easier to see what's going on.\n            chronolawgic_api_create: importUrls.chronolawgic_api_create,\n            chronolawgic_api_retrieve: importUrls.chronolawgic_api_retrieve,\n            chronolawgic_api_update: importUrls.chronolawgic_api_update,\n            chronolawgic_api_delete: importUrls.chronolawgic_api_delete,\n            chronolawgic_api_update_admin: importUrls.chronolawgic_api_update_admin,\n            static: importUrls.static,\n            api_root: importUrls.api_root,\n        },\n        availableTimelines: [],\n        minimized: true,\n        id: 1,\n        title: \"\",\n        description: \"\",\n        createdBy: -1, // (user accts are for auth/logging purposes)\n        isAuthor: false,\n        author: '', // user-added string\n        categories: [],\n        events: [],\n        cases: [],\n        templateEvent: {\n            name: \"\",\n            short_description: \"\",\n            long_description: \"\",\n            start_date: \"\",\n            end_date: \"\",\n            url: \"\",\n            color: \"\",\n        },\n        templateCase: {\n            url: \"\",\n            name: \"\",\n            citation: \"\",\n            short_description: \"\",\n            long_description: \"\",\n            jurisdiction: \"\",\n            reporter: \"\",\n            decision_date: \"\",\n            categories: [],\n            color: \"\",\n        },\n        templateCategory: {\n            name: \"\",\n            shape: \"\",\n            color: \"\"\n        },\n    },\n    mutations: {\n        expandMobileEvents(state) {\n            state.mobileEventsExpanded = true\n        },\n        setBreakPoint(state, newBreakPoint) {\n            state.breakPoint = newBreakPoint\n        },\n        unExpandMobileEvents(state) {\n            state.mobileEventsExpanded = false\n        },\n        toggleMinimized(state) {\n            state.minimized = !state.minimized\n        },\n        setAvailableTimelines(state, json) {\n            state.availableTimelines = json\n        },\n        setTimeline(state, json) {\n            state.title = json.title;\n            state.author = json.author ? json.author : \"CAP User\";\n            state.description = json.description;\n            state.categories = json.categories;\n            state.events = json.events;\n            state.cases = json.cases;\n        },\n        setTimelineId(state, timeline_id) {\n            state.id = timeline_id\n        },\n        setCreatedBy(state, createdBy) {\n            state.createdBy = createdBy;\n        },\n        setAuthor(state, isAuthor) {\n            state.isAuthor = isAuthor;\n        },\n        setCategories(state, categories) {\n            state.categories = categories;\n        },\n        setRequestStatus(state, status) {\n            state.requestStatus = status;\n        },\n        setRequestStatusTerminal(state, status) {\n            state.requestStatus = status;\n            setTimeout(function () {\n                state.requestStatus = \"nominal\";\n            }, 5000);\n        },\n        setNotificationMessage(state, message) {\n            //TODO Someday make this a queue and let the notifications stack\n            state.notificationMessage = message;\n            setTimeout(function () {\n                state.notificationMessage = null;\n            }, 5000);\n        },\n        addEvent(state, event) {\n            // assign id to event\n            event.id = this.generateUUID();\n            state.events.push(event)\n            this.dispatch('requestUpdateTimeline')\n        },\n        addCase(state, caselaw) {\n            // assign id to caselaw\n            caselaw.id = this.generateUUID();\n            state.cases.push(caselaw)\n            this.dispatch('requestUpdateTimeline')\n        },\n        updateEvent(state, event) {\n            for (let i = 0; i < state.events.length; i++) {\n                if (state.events[i].id === event.id) {\n                    state.events[i] = event;\n                    this.dispatch('requestUpdateTimeline')\n                    break;\n                }\n            }\n        },\n        updateCase(state, caselaw) {\n            for (let i = 0; i < state.cases.length; i++) {\n                if (state.cases[i].id === caselaw.id) {\n                    state.cases[i] = caselaw;\n                    this.dispatch('requestUpdateTimeline')\n                    break;\n                }\n            }\n        },\n        deleteEvent(state, id) {\n            let event_index = -1;\n            for (let i = 0; i < state.events.length; i++) {\n                if (state.events[i].id === id) {\n                    event_index = i;\n                    break;\n                }\n            }\n            state.events.splice(event_index, 1);\n            this.dispatch('requestUpdateTimeline');\n        },\n        deleteCase(state, id) {\n            let caselaw_index = -1;\n            for (let i = 0; i < state.cases.length; i++) {\n                if (state.cases[i].id === id) {\n                    caselaw_index = i;\n                    break;\n                }\n            }\n            state.cases.splice(caselaw_index, 1);\n            this.dispatch('requestUpdateTimeline');\n        },\n        saveCategories(state, categories) {\n            state.categories = categories;\n            for (let i = 0; i < state.categories.length; i++) {\n                if (!(state.categories[i].id)) {\n                    state.categories[i].id = store.generateUUID()\n                }\n            }\n            this.dispatch('requestUpdateTimeline');\n        },\n    },\n    getters: {\n        breakPoint: state => state.breakPoint,\n        isMobile: (state) => {\n            return state.breakPoint === 'xs' || state.breakPoint === 'sm';\n        },\n        mobileEventsExpanded: state => state.mobileEventsExpanded,\n        minimized: state => state.minimized,\n        cases: state => state.cases,\n        choices: state => state.choices,\n        availableTimelines: state => state.availableTimelines,\n        id: state => state.id,\n        requestStatus: state => state.requestStatus,\n        notificationMessage: state => state.notificationMessage,\n        templateEvent: state => state.templateEvent,\n        templateCase: state => state.templateCase,\n        templateCategory: state => state.templateCategory,\n        empty: (state) => {\n            if (state.requestStatus == 'pending') {\n                return 'pending'\n            }\n            return state.events.length + state.cases.length === 0 ? 'empty' : 'populated';\n        },\n        firstYear: (state) => {\n            if (state.cases.length === 0 && state.events.length === 0) {\n                return 0\n            }\n            let first_case_year = 9999999;\n            let first_event_year = 9999999;\n            if (state.events.length) {\n                first_event_year = state.events.reduce((min, e) =>\n                    new Date(e.start_date).getUTCFullYear() < min ? new Date(e.start_date).getUTCFullYear() : min, new Date(state.events[0].start_date).getUTCFullYear());\n            }\n            if (state.cases.length) {\n                first_case_year = state.cases.reduce((min, c) => new Date(c.decision_date).getUTCFullYear() < min ? new Date(c.decision_date).getUTCFullYear() : min, new Date(state.cases[0].decision_date).getUTCFullYear());\n            }\n            return first_case_year < first_event_year ? first_case_year : first_event_year;\n        },\n        lastYear: (state) => {\n            if (state.cases.length === 0 && state.events.length === 0) {\n                return 0\n            }\n            let last_event_year = 0\n            let last_case_year = 0\n            if (state.events.length) {\n                last_event_year = state.events.reduce((max, e) =>\n                    new Date(e.end_date).getUTCFullYear() > max ? new Date(e.end_date).getUTCFullYear() : max, new Date(state.events[0].end_date).getUTCFullYear());\n            }\n            if (state.cases.length) {\n                last_case_year = state.cases.reduce((max, e) =>\n                    new Date(e.decision_date).getUTCFullYear() > max ? new Date(e.decision_date).getUTCFullYear() : max, new Date(state.cases[0].decision_date).getUTCFullYear());\n            }\n            return last_case_year > last_event_year ? last_case_year : last_event_year;\n        },\n        events: (state) => {\n            return state.events.sort((a, b) => (a.start_date > b.start_date) ? 1 : -1)\n        },\n        eventByStartYear: (state) => (year) => {\n            return state.events.filter(evt => {\n                return new Date(evt.start_date).getUTCFullYear() === year;\n            })\n        },\n        casesByYear: (state) => (year) => {\n            return state.cases.filter(cas => {\n                return year === new Date(cas.decision_date).getUTCFullYear();\n            })\n        },\n        timeline: (state) => {\n            return {\n                title: state.title,\n                author: state.author,\n                events: state.events,\n                cases: state.cases,\n                categories: state.categories\n            }\n        },\n        categories: (state) => {\n            return state.categories\n        },\n        category: (state) => (id) => {\n          return state.categories.find(cat => cat.id === id)\n        },\n        randomColor: (state) => {\n            return state.colors[Math.floor(Math.random() * state.colors.length)]\n        },\n    },\n    actions: {\n        requestCreateTimeline: function ({commit}) {\n            commit('setRequestStatus', 'pending');\n            axios\n                .post(this.state.urls.chronolawgic_api_create)\n                .then(response => response.data)\n                .then(new_tl => {\n                    if (new_tl.status === \"ok\") {\n                        this.dispatch('requestTimelineList');\n                    }\n                }).then(\n                () => {\n                    commit('setRequestStatusTerminal', 'success');\n                    commit('setNotificationMessage', 'Timeline Created')\n                }\n            ).catch(error => {\n                commit('setRequestStatusTerminal', 'error');\n                commit('setNotificationMessage', error)\n            })\n        },\n        requestDeleteTimeline: function ({commit}, timelineId) {\n            commit('setRequestStatus', 'pending');\n            axios\n                .delete(this.state.urls.chronolawgic_api_delete + timelineId)\n                .then(response => response.data)\n                .then(timeline => {\n                    if (timeline.status === \"ok\") {\n                        this.dispatch('requestTimelineList');\n                    }\n                }).then(\n                () => {\n                    commit('setRequestStatusTerminal', 'success');\n                    commit('setNotificationMessage', \"Timeline Deleted\")\n                }\n            ).catch(error => {\n                commit('setRequestStatusTerminal', 'error');\n                commit('setNotificationMessage', error)\n            })\n        },\n        requestUpdateTimeline: function ({commit}) {\n            commit('setRequestStatus', 'pending');\n            let json = JSON.stringify({timeline: this.getters.timeline})\n            axios\n                .post(this.state.urls.chronolawgic_api_update + this.state.id, json, {\n                    headers: {\n                        // Overwrite Axios's automatically set Content-Type\n                        'Content-Type': 'application/json'\n                    }\n                })\n                .then(response => response.data)\n                .then(\n                    () => {\n                        commit('setRequestStatusTerminal', 'success');\n                        commit('setNotificationMessage', \"Timeline Saved\")\n                    }\n                ).catch(error => {\n                commit('setRequestStatusTerminal', 'error');\n                commit('setNotificationMessage', error)\n            })\n        },\n        requestTimeline: function ({commit}, timelineId) {\n            // clear timeline if it exists\n            commit('setTimelineId', '')\n            commit('setTimeline', {title: ''})\n\n            commit('setRequestStatus', 'pending');\n            axios\n                .get(this.state.urls.chronolawgic_api_retrieve + timelineId)\n                .then(response => {\n                    return response.data\n                })\n                .then(timeline => {\n                    if (timeline.status === \"ok\") {\n                        commit('setTimelineId', timeline['id'])\n                        commit('setTimeline', timeline['timeline'])\n                        commit('setCreatedBy', timeline['created_by'])\n                        commit('setAuthor', timeline['is_owner'])\n                    }\n                }).then(\n                () => {\n                    commit('setRequestStatusTerminal', 'success');\n                }\n            ).catch(error => {\n                commit('setRequestStatusTerminal', 'error');\n                commit('setNotificationMessage', error)\n            })\n        },\n        requestTimelineList: function ({commit}) {\n            commit('setRequestStatus', 'pending');\n            axios\n                .get(this.state.urls.chronolawgic_api_retrieve)\n                .then(response => response.data)\n                .then(availableTimelines => {\n                    if (availableTimelines.status === \"ok\") {\n                        commit('setAvailableTimelines', availableTimelines['timelines'])\n                    }\n                }).then(\n                () => {\n                    commit('setRequestStatusTerminal', 'success');\n                }\n            ).catch(error => {\n                commit('setRequestStatusTerminal', 'error');\n                commit('setNotificationMessage', error)\n            })\n        },\n        requestUpdateAdmin: function ({commit}, data) {\n            commit('setRequestStatus', 'pending');\n            let author = data.author.trim()\n            let json = JSON.stringify({\n                title: data.title,\n                // don't allow empty strings\n                author: author ? author : \"CAP User\",\n                description: data.description,\n            });\n\n            return axios\n                .post(this.state.urls.chronolawgic_api_update_admin + data.id, json, {\n                    headers: {\n                        // Overwrite Axios's automatically set Content-Type\n                        'Content-Type': 'application/json'\n                    }\n                })\n                .then(response => response.data)\n                .then(\n                    () => {\n                        commit('setRequestStatusTerminal', 'success');\n                        commit('setNotificationMessage', \"Change Saved\")\n                    }\n                ).catch(error => {\n                    commit('setRequestStatusTerminal', 'error');\n                    commit('setNotificationMessage', error)\n                })\n        },\n    }\n});\n\nstore.generateUUID = () => {\n            // https://stackoverflow.com/a/2117523/2247227\n            return 'xxxxxxxxxx'.replace(/[xy]/g, function (c) {\n                let r = Math.random() * 16 | 0, v = c === 'x' ? r : (r & 0x3 | 0x8);\n                return v.toString(16);\n            });\n        }\n\nexport default store;","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{attrs:{\"width\":_vm.width,\"height\":_vm.height,\"viewBox\":\"0 0 80 80\",\"aria-labelledby\":_vm.shapetype,\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('title',{attrs:{\"lang\":\"en\"},domProps:{\"textContent\":_vm._s(_vm.title || _vm.shapetype + ' icon')}}),(_vm.shapetype==='circle')?[_c('circle',{attrs:{\"cx\":\"33\",\"cy\":\"40\",\"r\":\"33\",\"fill\":_vm.color}})]:(_vm.shapetype==='polygon1')?[_c('path',{attrs:{\"d\":\"M32.3588 2.55166C36.9151 -0.758709 43.0849 -0.758709 47.6412 2.55166L74.2053 21.8516C78.7616 25.162 80.6682 31.0297 78.9278 36.386L68.7812 67.614C67.0409 72.9703 62.0494 76.5967 56.4175 76.5967H23.5825C17.9506 76.5967 12.9591 72.9703 11.2188 67.614L1.0722 36.386C-0.668168 31.0297 1.23839 25.162 5.79472 21.8516L32.3588 2.55166Z\",\"fill\":_vm.color}})]:(_vm.shapetype==='polygon2')?[_c('path',{attrs:{\"d\":\"M28.5 1.75278C32.5222 -0.569449 37.4778 -0.56945 41.5 1.75278L63.141 14.2472C67.1632 16.5694 69.641 20.8611 69.641 25.5056V50.4944C69.641 55.1389 67.1632 59.4306 63.141 61.7528L41.5 74.2472C37.4778 76.5694 32.5222 76.5694 28.5 74.2472L6.85898 61.7528C2.83677 59.4306 0.358982 55.1389 0.358982 50.4944V25.5056C0.358982 20.8611 2.83677 16.5694 6.85898 14.2472L28.5 1.75278Z\",\"fill\":_vm.color}})]:(_vm.shapetype==='rhombus')?[_c('path',{attrs:{\"d\":\"M33.636 3.36396C37.1508 -0.150754 42.8492 -0.150758 46.364 3.36396L76.636 33.636C80.1508 37.1508 80.1508 42.8492 76.636 46.364L46.364 76.636C42.8492 80.1508 37.1508 80.1508 33.636 76.636L3.36396 46.364C-0.150754 42.8492 -0.150758 37.1508 3.36396 33.636L33.636 3.36396Z\",\"fill\":_vm.color}})]:(_vm.shapetype==='triangle')?[_c('path',{attrs:{\"d\":\"M35.1362 4.5C38.6003 -1.5 47.2606 -1.5 50.7247 4.5L84.0666 62.25C87.5307 68.25 83.2006 75.75 76.2724 75.75H9.58846C2.66025 75.75 -1.66987 68.25 1.79423 62.25L35.1362 4.5Z\",\"fill\":_vm.color}})]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <svg :width=\"width\"\n       :height=\"height\"\n       viewBox=\"0 0 80 80\"\n       :aria-labelledby=\"shapetype\"\n       fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <title lang=\"en\"\n           v-text=\"title || shapetype + ' icon'\">\n    </title>\n    <template v-if=\"shapetype==='circle'\">\n      <circle cx=\"33\" cy=\"40\" r=\"33\" :fill=\"color\"/>\n    </template>\n    <template v-else-if=\"shapetype==='polygon1'\">\n      <path d=\"M32.3588 2.55166C36.9151 -0.758709 43.0849 -0.758709 47.6412 2.55166L74.2053 21.8516C78.7616 25.162 80.6682 31.0297 78.9278 36.386L68.7812 67.614C67.0409 72.9703 62.0494 76.5967 56.4175 76.5967H23.5825C17.9506 76.5967 12.9591 72.9703 11.2188 67.614L1.0722 36.386C-0.668168 31.0297 1.23839 25.162 5.79472 21.8516L32.3588 2.55166Z\"\n            :fill=\"color\"/>\n    </template>\n    <template v-else-if=\"shapetype==='polygon2'\">\n      <path d=\"M28.5 1.75278C32.5222 -0.569449 37.4778 -0.56945 41.5 1.75278L63.141 14.2472C67.1632 16.5694 69.641 20.8611 69.641 25.5056V50.4944C69.641 55.1389 67.1632 59.4306 63.141 61.7528L41.5 74.2472C37.4778 76.5694 32.5222 76.5694 28.5 74.2472L6.85898 61.7528C2.83677 59.4306 0.358982 55.1389 0.358982 50.4944V25.5056C0.358982 20.8611 2.83677 16.5694 6.85898 14.2472L28.5 1.75278Z\" :fill=\"color\"/>\n    </template>\n    <template v-else-if=\"shapetype==='rhombus'\">\n      <path d=\"M33.636 3.36396C37.1508 -0.150754 42.8492 -0.150758 46.364 3.36396L76.636 33.636C80.1508 37.1508 80.1508 42.8492 76.636 46.364L46.364 76.636C42.8492 80.1508 37.1508 80.1508 33.636 76.636L3.36396 46.364C-0.150754 42.8492 -0.150758 37.1508 3.36396 33.636L33.636 3.36396Z\" :fill=\"color\"/>\n    </template>\n    <template v-else-if=\"shapetype==='triangle'\">\n      <path d=\"M35.1362 4.5C38.6003 -1.5 47.2606 -1.5 50.7247 4.5L84.0666 62.25C87.5307 68.25 83.2006 75.75 76.2724 75.75H9.58846C2.66025 75.75 -1.66987 68.25 1.79423 62.25L35.1362 4.5Z\" :fill=\"color\"/>\n    </template>\n<!--    <template v-else-if=\"shapetype==='rectangle'\">-->\n<!--      <rect :width=\"width\" :height=\"height\" rx=\"10\" :fill=\"color\"/>-->\n<!--    </template>-->\n  </svg>\n\n</template>\n\n<script>\n\nexport default {\n  name: \"shape-component\",\n  props: ['shapetype', 'color', 'width', 'title'],\n\n  data() {\n    return {\n      height: 30,\n      ratios: {\n        'circle': 1,\n        'rhombus': 0.8,\n        'polygon1': 0.85,\n        'polygon2': 0.9,\n        'triangle': 0.7,\n        'rectangle': 1,\n      }\n    }\n  },\n  mounted() {\n    this.height = this.width * this.ratios[this.shapetype]\n  }\n}\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./shape-component.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./shape-component.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./shape-component.vue?vue&type=template&id=18ff79d4&\"\nimport script from \"./shape-component.vue?vue&type=script&lang=js&\"\nexport * from \"./shape-component.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"modal\" id=\"add-case-modal\" tabindex=\"-1\" role=\"dialog\" @click.stop>\n    <div class=\"modal-dialog\" role=\"document\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\" v-if=\"this.case && this.case.name\">{{ this.case.name }}</h5>\n          <h5 class=\"modal-title\" v-else>ADD CASELAW</h5>\n          <button type=\"button\" @click.stop=\"closeModal\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n        </div>\n        <div class=\"modal-body\">\n          <form @submit.stop.prevent id=\"form-search-cap\" v-if=\"!(this.case && typeof(this.case.id) === 'number')\">\n            <h6>Search CAP</h6>\n            <div id=\"field-group-search\">\n              <input v-model=\"searchText\" id=\"field-search-cap\" :placeholder=\"'Enter '+ extraFields.cap.value\"\n                     class=\"form-control\">\n              <span>Search using:</span>\n              <v-select :options=\"['Name abbreviation', 'Citation', 'Text search']\"\n                        v-model=\"extraFields.cap.value\"\n                        :clearable=\"false\"\n                        placeholder=\"search\">\n              </v-select>\n\n              <span class=\"button-container\">\n                <search-button :showLoading=\"showLoading\"></search-button>\n              </span>\n            </div>\n            <ul v-if=\"searchResults.length\" class=\"results-list\">\n              <div v-for=\"result in searchResults\" @click=\"autofillCase(result)\"\n                   class=\"result-container\"\n                   :class=\"chosenCase.id === result.id ? 'chosen' : ''\"\n                   :key=\"result.id\">\n                <case-result :result=\"result\">\n                </case-result>\n              </div>\n            </ul>\n            <ul v-if=\"showNoSearchResults\" class=\"results-list\">\n              <li class=\"result-container p-2\">No results found</li>\n            </ul>\n            <hr>\n          </form>\n          <form @submit.stop id=\"form-add-case\">\n\n            <!-- search results -->\n            <div class=\"form-label-group\" id=\"field-group-url\">\n              <input v-model=\"newCase.url\" id=\"field-url\" placeholder=\"URL\" class=\"form-control\">\n              <label for=\"field-url\">URL</label>\n            </div>\n            <div class=\"form-label-group\" id=\"field-group-citation\">\n              <input v-model=\"newCase.citation\" id=\"field-citation\" placeholder=\"Citation\" class=\"form-control\">\n              <label for=\"field-citation\">Citation</label>\n            </div>\n            <div class=\"form-label-group\" id=\"field-group-name\">\n              <input v-model=\"newCase.name\" id=\"field-name\" placeholder=\"Case name\" required class=\"form-control\">\n              <label for=\"field-name\">Case name</label>\n            </div>\n            <div class=\"form-label-group\" id=\"field-group-short\">\n              <textarea v-model=\"newCase.short_description\" id=\"field-short-description\" placeholder=\"SHORT DESCRIPTION\"\n                        class=\"form-control\"></textarea>\n            </div>\n            <div class=\"form-label-group\" id=\"field-group-date\">\n              <input v-model=\"newCase.decision_date\" id=\"field-decision-date\" placeholder=\"DECISION DATE\" type=\"date\"\n                     required\n                     class=\"form-control\">\n              <label for=\"field-decision-date\">DECISION DATE</label>\n            </div>\n            <div class=\"form-label-group\" id=\"field-group-long\">\n            <textarea v-model=\"newCase.long_description\" id=\"field-long-description\" placeholder=\"LONGER DESCRIPTION\"\n                      class=\"form-control\"></textarea>\n            </div>\n            <v-select transition=\"\"\n                      id=\"field-group-jurisdiction\"\n                      label=\"jurisdiction\"\n                      placeholder=\"Jurisdiction\"\n                      :options=\"choices.jurisdictions\"\n                      @input=\"chooseJurisdiction\"\n                      v-model=\"newCase.jurisdiction\">\n            </v-select>\n\n            <v-select transition=\"\"\n                      id=\"field-group-court\"\n                      label=\"courtName\"\n                      placeholder=\"Court\"\n                      :options=\"choices.courts\"\n                      v-model=\"newCase.court\">\n            </v-select>\n\n            <v-select transition=\"\"\n                      class=\"color-dropdown\"\n                      label=\"color\"\n                      placeholder=\"Border color\"\n                      :filterable=\"false\"\n                      :clearable=\"false\"\n                      @input=\"setSelected\"\n                      v-model=\"newCase.color\"\n                      :options=\"colors\">\n              <template #selected-option=\"{ color }\">\n                <span :style=\"{backgroundColor: color}\" class=\"color-square\">\n                  {{ color }}\n                </span>\n              </template>\n              <template #option=\"{ color }\">\n                <span :style=\"{backgroundColor: color}\" class=\"color-square\">\n                  {{ color }}\n                </span>\n              </template>\n            </v-select>\n            <v-select multiple\n                      id=\"field-group-categories\"\n                      :filterable=\"false\"\n                      transition=\"\"\n                      label=\"name\"\n                      v-model=\"newCase.categories\"\n                      placeholder=\"Categories\"\n                      :options=\"$store.state.categories\">\n              <template #selected-option=\"{ color, shape, name }\">\n                <shape-component :width=\"20\" :color=\"color\" :shapetype=\"shape\"></shape-component>\n                <span v-text=\"name\"></span>\n              </template>\n              <template #option=\"{ color, shape, name }\">\n                <shape-component :width=\"28\" :color=\"color\" :shapetype=\"shape\"></shape-component>\n                <span v-text=\"name\"></span>\n              </template>\n            </v-select>\n          </form>\n          <div v-if=\"errors.length\" class=\"form-errors p-2 mt-2 small\">\n            <b>Please correct the following error(s):</b>\n            <ul class=\"m-0 list-inline\">\n              <li class=\"list-inline-item\" v-for=\"error in errors\" v-bind:key=\"error\">{{ error }}</li>\n            </ul>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-tertiary\" @click.stop=\"closeModal\" data-dismiss=\"modal\">\n            Cancel\n          </button>\n          <template v-if=\"this.case && this.case.name\">\n            <button type=\"button\" class=\"btn btn-primary\" @click=\"deleteCase\" data-dismiss=\"modal\">\n              Delete\n            </button>\n            <button type=\"button\" class=\"btn btn-primary\" @click.stop=\"updateCase\"\n                    data-dismiss='modal'>\n              Update\n            </button>\n          </template>\n          <template v-else>\n            <button type=\"button\" class=\"btn btn-primary btn-highlight\" @click.stop=\"addCase\"\n                    data-dismiss=\"modal\">\n              ADD\n            </button>\n          </template>\n        </div>\n      </div>\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport store from \"./store\";\nimport vSelect from 'vue-select';\nimport CaseResult from '../../search/case-result.vue';\nimport SearchButton from '../../vue-shared/search-button';\nimport ShapeComponent from './shape-component';\n\nexport default {\n  name: \"add-case-modal\",\n  components: {\n    vSelect,\n    CaseResult,\n    SearchButton,\n    ShapeComponent,\n  },\n  props: [\n    'shown',\n    'modal',\n    'case'\n  ],\n  data() {\n    return {\n      choices: {},\n      searchResults: [],\n      showNoSearchResults: false,\n      searchText: '',\n      chosenCase: {},\n      newCase: {},\n      errors: [],\n      colors: [],\n      extraFields: { // need more info to interact with dropdown fields\n        cap: {\n          name: 'search by',\n          label: 'Name abbreviation',\n          value: 'Name abbreviation'\n        }\n      },\n      showLoading: false,\n      categories: []\n    }\n  },\n  methods: {\n    checkForm() {\n      this.errors = [];\n      if (!this.newCase.name) {\n        this.errors.push('Case name is required.');\n      }\n      if (!this.newCase.decision_date) {\n        this.errors.push('Decision date is required.');\n      }\n    },\n    closeModal() {\n      this.$parent.closeModal();\n      this.$parent.repopulateTimeline();\n      this.setupCase()\n    },\n    updateCase() {\n      this.checkForm();\n      if (this.errors.length) return;\n      let caselaw = this.unbind(this.newCase)\n\n      if (!caselaw.jurisdiction)\n        caselaw.jurisdiction = ''\n\n      if (!caselaw.court)\n        caselaw.court = ''\n\n      // only save category ids\n      caselaw.categories = caselaw.categories.map(category => category.id)\n      store.commit('updateCase', caselaw)\n      this.closeModal()\n    },\n    addCase() {\n      this.checkForm();\n      if (this.errors.length) return;\n      let caselaw = this.unbind(this.newCase)\n      // only save category ids\n      caselaw.categories = caselaw.categories.map(category => category.id)\n      store.commit('addCase', caselaw);\n      this.closeModal();\n    },\n    deleteCase() {\n      store.commit('deleteCase', this.case.id);\n      this.closeModal();\n    },\n    chooseCase(result) {\n      // choosing case from CAP search\n      this.chosenCase = result;\n    },\n    setSelected(color) {\n      this.newCase.color = color\n    },\n\n    formatDate(date) {\n      // autofill missing month and day. Not ideal, but this is a timeline, after all.\n      let date_parts = date.split(\"-\");\n      let year = date_parts[0];\n      let day = date_parts.length === 3 ? date_parts[2] : \"01\";\n      let month = date_parts.length >= 2 ? date_parts[1] : \"01\";\n      return year + \"-\" + month + \"-\" + day;\n    },\n    autofillCase(result) {\n      this.chosenCase = result;\n      this.newCase.name = this.chosenCase.name_abbreviation;\n      this.newCase.citation = this.chosenCase.citations[0].cite;\n      this.newCase.url = this.chosenCase.frontend_url;\n      this.newCase.decision_date = this.formatDate(this.chosenCase.decision_date);\n      this.newCase.jurisdiction = this.chosenCase.jurisdiction.name_long\n      this.newCase.court = this.chosenCase.court.name\n    },\n    searchCAP() {\n      this.showNoSearchResults = false\n      if (this.searchText) {\n        this.showLoading = true;\n\n        let query;\n        if (this.extraFields.cap.value === 'Citation') {\n          query = 'cite'\n        } else if (this.extraFields.cap.value === 'Name abbreviation') {\n          query = 'name_abbreviation'\n        } else {\n          query = 'search'\n        }\n        let url = store.state.urls.api_root + \"cases?\" + query + \"=\" + this.searchText;\n        axios.get(url)\n            .then(response => response.data)\n            .then(searchResponse => {\n              this.searchResults = searchResponse.results;\n              if (this.searchResults.length === 0) {\n                this.showNoSearchResults = true\n              }\n              this.showLoading = false;\n            })\n      }\n    },\n    valueUpdated() {\n      this.searchCAP()\n    },\n    clearContent() {\n      this.closeModal();\n      this.setupCase();\n    },\n    unbind(obj) {\n      return JSON.parse(JSON.stringify(obj))\n    },\n    hydrateCategories(categories = []) {\n      let hydratedCats = [];\n      for (let i = 0; i < categories.length; i++) {\n        let cat = store.getters.category(categories[i])\n        if (cat)\n          hydratedCats.push(cat)\n      }\n      return hydratedCats\n    },\n    setupCase(existingCase) {\n      this.newCase = existingCase ? this.unbind(this.case) : this.unbind(store.getters.templateCase);\n      this.newCase.categories = this.hydrateCategories(this.newCase.categories)\n    },\n    chooseJurisdiction(jur) {\n      if (jur)\n        this.newCase.jurisdiction = jur\n      this.newCase = this.unbind(this.newCase)\n    },\n    chooseCourt(court) {\n      if (court)\n        this.newCase.court = court.courtName\n      this.newCase = this.unbind(this.newCase)\n    },\n  },\n  watch: {\n    case(existingCase) {\n      this.setupCase(existingCase)\n    }\n  },\n  beforeMount() {\n    this.colors = store.getters.choices.colors;\n    this.choices = store.getters.choices;\n    this.categories = store.getters.categories;\n    this.setupCase(this.case)\n  },\n}\n</script>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add-case-modal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add-case-modal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./add-case-modal.vue?vue&type=template&id=3cad40d8&\"\nimport script from \"./add-case-modal.vue?vue&type=script&lang=js&\"\nexport * from \"./add-case-modal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal\",attrs:{\"id\":\"add-event-modal\",\"tabindex\":\"-1\",\"role\":\"dialog\"},on:{\"click\":function($event){$event.stopPropagation();}}},[_c('div',{staticClass:\"modal-dialog\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[(this.event && this.event.name)?_c('h5',{staticClass:\"modal-title\"},[_vm._v(_vm._s(this.event.name))]):_c('h5',{staticClass:\"modal-title\"},[_vm._v(\"ADD EVENT\")]),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.closeModal($event)}}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"\")])])]),_c('div',{staticClass:\"modal-body\"},[_c('form',{on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();},\"submit\":function($event){$event.preventDefault();return _vm.addEvent($event)}}},[_c('div',{staticClass:\"form-label-group\",attrs:{\"id\":\"field-group-name\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newEvent.name),expression:\"newEvent.name\"}],staticClass:\"form-control\",attrs:{\"id\":\"field-event-name\",\"placeholder\":\"NAME\",\"required\":\"\"},domProps:{\"value\":(_vm.newEvent.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.newEvent, \"name\", $event.target.value)}}}),_c('label',{attrs:{\"for\":\"field-event-name\"}},[_vm._v(\"EVENT NAME\")])]),_c('div',{staticClass:\"form-label-group\",attrs:{\"id\":\"field-group-url\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newEvent.url),expression:\"newEvent.url\"}],staticClass:\"form-control\",attrs:{\"id\":\"field-event-url\",\"placeholder\":\"URL\"},domProps:{\"value\":(_vm.newEvent.url)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.newEvent, \"url\", $event.target.value)}}}),_c('label',{attrs:{\"for\":\"field-event-url\"}},[_vm._v(\"SOURCE URL\")])]),_c('div',{staticClass:\"form-label-group\",attrs:{\"id\":\"field-group-short-description\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newEvent.short_description),expression:\"newEvent.short_description\"}],staticClass:\"form-control\",attrs:{\"id\":\"field-event-short-description\",\"placeholder\":\"SHORT DESCRIPTION\"},domProps:{\"value\":(_vm.newEvent.short_description)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.newEvent, \"short_description\", $event.target.value)}}}),_c('label',{attrs:{\"for\":\"field-event-short-description\"}},[_vm._v(\"SHORT DESCRIPTION\")])]),_c('div',{staticClass:\"form-label-group\",attrs:{\"id\":\"field-group-start-date\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newEvent.start_date),expression:\"newEvent.start_date\"}],staticClass:\"form-control\",attrs:{\"id\":\"field-event-start-date\",\"placeholder\":\"DECISION DATE\",\"type\":\"date\",\"required\":\"\"},domProps:{\"value\":(_vm.newEvent.start_date)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.newEvent, \"start_date\", $event.target.value)}}}),_c('label',{attrs:{\"for\":\"field-event-start-date\"}},[_vm._v(\"START DATE\")])]),_c('div',{staticClass:\"form-label-group\",attrs:{\"id\":\"field-group-long-description\"}},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newEvent.long_description),expression:\"newEvent.long_description\"}],staticClass:\"form-control\",attrs:{\"id\":\"field-event-long-description\",\"placeholder\":\"LONGER DESCRIPTION\"},domProps:{\"value\":(_vm.newEvent.long_description)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.newEvent, \"long_description\", $event.target.value)}}})]),_c('div',{staticClass:\"form-label-group\",attrs:{\"id\":\"field-group-end-date\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newEvent.end_date),expression:\"newEvent.end_date\"}],staticClass:\"form-control\",attrs:{\"id\":\"field-event-end-date\",\"placeholder\":\"DECISION DATE\",\"type\":\"date\"},domProps:{\"value\":(_vm.newEvent.end_date)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.newEvent, \"end_date\", $event.target.value)}}}),_c('label',{attrs:{\"for\":\"field-event-start-date\"}},[_vm._v(\"END DATE\")])]),_c('v-select',{staticClass:\"color-dropdown\",attrs:{\"transition\":\"\",\"label\":\"color\",\"filterable\":false,\"clearable\":false,\"options\":_vm.colors},on:{\"input\":_vm.setSelected},scopedSlots:_vm._u([{key:\"selected-option\",fn:function(ref){\nvar color = ref.color;\nreturn [_vm._v(\" color: \"),_c('span',{staticClass:\"color-square\",style:({backgroundColor: color})},[_vm._v(\" \"+_vm._s(color)+\" \")])]}},{key:\"option\",fn:function(ref){\nvar color = ref.color;\nreturn [_c('span',{staticClass:\"color-square\",style:({backgroundColor: color})},[_vm._v(\" \"+_vm._s(color)+\" \")])]}}]),model:{value:(_vm.newEvent.color),callback:function ($$v) {_vm.$set(_vm.newEvent, \"color\", $$v)},expression:\"newEvent.color\"}})],1),(_vm.errors.length)?_c('div',{staticClass:\"form-errors p-2 mt-2 small\"},[_c('b',[_vm._v(\"Please correct the following error(s):\")]),_c('ul',{staticClass:\"m-0 list-inline\"},_vm._l((_vm.errors),function(error){return _c('li',{key:error,staticClass:\"list-inline-item\"},[_vm._v(_vm._s(error))])}),0)]):_vm._e()]),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-tertiary\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.closeModal($event)}}},[_vm._v(\" Cancel \")]),(this.event && this.event.id)?[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"},on:{\"click\":_vm.deleteEvent}},[_vm._v(\" Delete \")]),_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.updateEvent($event)}}},[_vm._v(\" Update \")])]:_vm._e(),(!(this.event) || !(this.event.name))?[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\",\"data-dismiss\":_vm.$parent.showEvent ? 'none' : 'modal'},on:{\"click\":function($event){$event.stopPropagation();return _vm.addEvent($event)}}},[_vm._v(\"ADD \")])]:_vm._e()],2)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"modal\" id=\"add-event-modal\" tabindex=\"-1\" role=\"dialog\" @click.stop>\n    <div class=\"modal-dialog\" role=\"document\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\" v-if=\"this.event && this.event.name\">{{ this.event.name }}</h5>\n          <h5 class=\"modal-title\" v-else>ADD EVENT</h5>\n          <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" @click.stop=\"closeModal\">\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n        </div>\n        <div class=\"modal-body\">\n          <form @click.stop.prevent @submit.prevent=\"addEvent\">\n            <div class=\"form-label-group\" id=\"field-group-name\">\n              <input v-model=\"newEvent.name\" id=\"field-event-name\" placeholder=\"NAME\" required\n                     class=\"form-control\">\n              <label for=\"field-event-name\">EVENT NAME</label>\n            </div>\n            <div class=\"form-label-group\" id=\"field-group-url\">\n              <input v-model=\"newEvent.url\" id=\"field-event-url\" placeholder=\"URL\"\n                     class=\"form-control\">\n              <label for=\"field-event-url\">SOURCE URL</label>\n            </div>\n            <div class=\"form-label-group\" id=\"field-group-short-description\">\n              <input v-model=\"newEvent.short_description\" id=\"field-event-short-description\"\n                     placeholder=\"SHORT DESCRIPTION\"\n                     class=\"form-control\">\n              <label for=\"field-event-short-description\">SHORT DESCRIPTION</label>\n            </div>\n            <div class=\"form-label-group\" id=\"field-group-start-date\">\n              <input v-model=\"newEvent.start_date\" id=\"field-event-start-date\" placeholder=\"DECISION DATE\" type=\"date\"\n                     required\n                     class=\"form-control\">\n              <label for=\"field-event-start-date\">START DATE</label>\n            </div>\n            <div class=\"form-label-group\" id=\"field-group-long-description\">\n            <textarea v-model=\"newEvent.long_description\" id=\"field-event-long-description\"\n                      placeholder=\"LONGER DESCRIPTION\"\n                      class=\"form-control\"></textarea>\n            </div>\n            <div class=\"form-label-group\" id=\"field-group-end-date\">\n              <input v-model=\"newEvent.end_date\" id=\"field-event-end-date\" placeholder=\"DECISION DATE\" type=\"date\"\n                     class=\"form-control\">\n              <label for=\"field-event-start-date\">END DATE</label>\n            </div>\n            <v-select transition=\"\"\n                      class=\"color-dropdown\"\n                      label=\"color\"\n                      :filterable=\"false\"\n                      :clearable=\"false\"\n                      @input=\"setSelected\"\n                      v-model=\"newEvent.color\"\n                      :options=\"colors\">\n              <template #selected-option=\"{ color }\">\n                color: <span :style=\"{backgroundColor: color}\" class=\"color-square\">\n                  {{ color }}\n                </span>\n              </template>\n              <template #option=\"{ color }\">\n                <span :style=\"{backgroundColor: color}\" class=\"color-square\">\n                  {{ color }}\n                </span>\n              </template>\n            </v-select>\n          </form>\n          <div v-if=\"errors.length\" class=\"form-errors p-2 mt-2 small\">\n            <b>Please correct the following error(s):</b>\n            <ul class=\"m-0 list-inline\">\n              <li class=\"list-inline-item\" v-for=\"error in errors\" v-bind:key=\"error\">{{ error }}</li>\n            </ul>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-tertiary\" @click.stop=\"closeModal\" data-dismiss=\"modal\">\n            Cancel\n          </button>\n          <template v-if=\"this.event && this.event.id\">\n            <button type=\"button\" class=\"btn btn-primary\" @click=\"deleteEvent\" data-dismiss=\"modal\">\n              Delete\n            </button>\n            <button type=\"button\" class=\"btn btn-primary\" @click.stop=\"updateEvent\" data-dismiss=\"modal\">\n              Update\n            </button>\n          </template>\n          <template v-if=\"!(this.event) || !(this.event.name)\">\n            <button type=\"button\" class=\"btn btn-primary\" @click.stop=\"addEvent\"\n                    :data-dismiss=\"$parent.showEvent ? 'none' : 'modal'\">ADD\n            </button>\n          </template>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport store from \"./store\";\nimport vSelect from 'vue-select'\nimport \"vue-select/dist/vue-select.css\";\n\nexport default {\n  name: \"add-event-modal\",\n  props: [\n    'shown',\n    'modal',\n    'event'\n  ],\n  components: {\n    vSelect\n  },\n  data() {\n    return {\n      colors: [],\n      newEvent: {},\n      errors: [],\n    }\n  },\n  methods: {\n    getRandomColor() {\n      return this.colors[Math.floor(Math.random() * this.colors.length)]\n    },\n    clearContent() {\n      this.newEvent = store.getters.templateEvent;\n    },\n    checkForm() {\n      this.errors = [];\n      if (!this.newEvent.name) {\n        this.errors.push('Event name is required.');\n      }\n      if (!this.newEvent.start_date) {\n        this.errors.push('Start date is required.');\n      }\n      if (!this.newEvent.end_date) {\n        this.errors.push('End date is required.')\n      }\n      if (new Date(this.newEvent.end_date) - new Date(this.newEvent.start_date) < 0) {\n        this.errors.push('Start date must be earlier than end date.')\n      }\n    },\n    closeModal() {\n      this.$parent.closeModal();\n      this.$parent.repopulateTimeline();\n      this.setupEvent();\n    },\n    addEvent() {\n      this.checkForm();\n      if (this.errors.length) return;\n      store.commit('addEvent', this.newEvent)\n      this.closeModal();\n    },\n    deleteEvent() {\n      store.commit('deleteEvent', this.event.id);\n      this.closeModal();\n    },\n    updateEvent() {\n      this.checkForm();\n      if (this.errors.length) return;\n      let event = this.unbind(this.newEvent)\n      store.commit('updateEvent', event)\n      this.closeModal()\n    },\n    unbind(obj) {\n      return JSON.parse(JSON.stringify(obj))\n    },\n    setupEvent(existingEvent) {\n      this.newEvent = existingEvent ? this.unbind(this.event) : this.unbind(store.getters.templateEvent);\n      if (!this.newEvent.color)\n        this.newEvent.color = this.getRandomColor();\n    },\n    setSelected(color) {\n      this.newEvent.color = color\n      // seems to be necessary because sometimes color is not updated when event exists\n      this.newEvent = this.unbind(this.newEvent)\n    }\n  },\n  watch: {\n    event(existingEvent) {\n      this.setupEvent(existingEvent)\n    },\n  },\n  mounted() {\n    this.colors = store.getters.choices.colors;\n    this.setupEvent(this.event)\n  }\n}\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add-event-modal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./add-event-modal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./add-event-modal.vue?vue&type=template&id=be616814&\"\nimport script from \"./add-event-modal.vue?vue&type=script&lang=js&\"\nexport * from \"./add-event-modal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal\",attrs:{\"id\":\"readonly-modal\",\"tabindex\":\"-1\",\"role\":\"dialog\"},on:{\"click\":function($event){$event.stopPropagation();}}},[_c('div',{staticClass:\"modal-dialog\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\"},[_vm._v(_vm._s(_vm.event.name))]),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.closeModal($event)}}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"\")])])]),_c('div',{staticClass:\"modal-body\"},[_c('article',{staticClass:\"info\"},[(_vm.categories && _vm.categories.length)?_c('p',[_c('span',{staticClass:\"label\"},[_vm._v(\"Categories: \")]),_c('ul',{staticClass:\"list-inline\"},_vm._l((_vm.categories),function(category){return _c('li',{key:category.id,staticClass:\"list-inline-item\"},[_c('shape-component',{attrs:{\"width\":24,\"color\":category.color,\"shapetype\":category.shape}}),_c('span',{staticClass:\"category-name\",domProps:{\"textContent\":_vm._s(category.name)}})],1)}),0)]):_vm._e(),(_vm.event.url)?_c('p',[_c('span',{staticClass:\"label\"},[_vm._v(\"Source: \")]),_c('a',{attrs:{\"href\":_vm.event.url,\"target\":\"_blank\"}},[_vm._v(_vm._s(_vm.domain))])]):_vm._e(),(_vm.event.citation)?_c('p',[_c('span',{staticClass:\"label\"},[_vm._v(\"Citation: \")]),_vm._v(\" \"+_vm._s(_vm.event.citation)+\" \")]):_vm._e(),(_vm.event.decision_date)?_c('p',[_c('span',{staticClass:\"label\"},[_vm._v(\"Decision date: \")]),_vm._v(\" \"+_vm._s(_vm.event.decision_date)+\" \")]):_vm._e(),(_vm.event.start_date)?_c('p',[_c('span',{staticClass:\"label\"},[_vm._v(\"Start date: \")]),_vm._v(\" \"+_vm._s(_vm.event.start_date)+\" \")]):_vm._e(),(_vm.event.end_date)?_c('p',[_c('span',{staticClass:\"label\"},[_vm._v(\"End date: \")]),_vm._v(\" \"+_vm._s(_vm.event.end_date)+\" \")]):_vm._e(),(_vm.event.short_description)?_c('p',{staticClass:\"short-description\"},[_vm._v(\" \"+_vm._s(_vm.event.short_description)+\" \")]):_vm._e()]),(_vm.event.short_description && _vm.event.long_description)?_c('hr'):_vm._e(),(_vm.event.long_description)?_c('div',{staticClass:\"long-description\"},_vm._l((_vm.event.long_description.split('\\n')),function(par,index){return _c('p',{key:index},[_vm._v(\" \"+_vm._s(par)+\" \")])}),0):_vm._e()]),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-tertiary\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.closeModal($event)}}},[_vm._v(\" Close \")])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"modal\" id=\"readonly-modal\" tabindex=\"-1\" role=\"dialog\" @click.stop>\n    <div class=\"modal-dialog\" role=\"document\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\">{{ event.name }}</h5>\n          <button type=\"button\" class=\"close\" @click.stop=\"closeModal\" data-dismiss=\"modal\" aria-label=\"Close\">\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n        </div>\n        <div class=\"modal-body\">\n          <article class=\"info\">\n            <p v-if=\"categories && categories.length\">\n              <span class=\"label\">Categories: </span>\n              <ul class=\"list-inline\">\n                <li class=\"list-inline-item\" v-for=\"category in categories\" v-bind:key=\"category.id\">\n                  <shape-component :width=\"24\" :color=\"category.color\" :shapetype=\"category.shape\"></shape-component>\n                  <span class=\"category-name\" v-text=\"category.name\"></span>\n                </li>\n              </ul>\n            </p>\n            <p v-if=\"event.url\">\n              <span class=\"label\">Source: </span>\n              <a :href=\"event.url\" target=\"_blank\">{{ domain }}</a>\n            </p>\n            <p v-if=\"event.citation\">\n              <span class=\"label\">Citation: </span>\n              {{ event.citation }}\n            </p>\n            <p v-if=\"event.decision_date\">\n              <span class=\"label\">Decision date: </span>\n              {{ event.decision_date }}\n            </p>\n            <p v-if=\"event.start_date\">\n              <span class=\"label\">Start date: </span>\n              {{ event.start_date }}\n            </p>\n            <p v-if=\"event.end_date\">\n              <span class=\"label\">End date: </span>\n              {{ event.end_date }}\n            </p>\n            <p v-if=\"event.short_description\"\n               class=\"short-description\">\n              {{ event.short_description }}\n            </p>\n          </article>\n          <hr v-if=\"event.short_description && event.long_description\"/>\n          <div class=\"long-description\" v-if=\"event.long_description\">\n            <p v-for=\"(par, index) in event.long_description.split('\\n')\"\n               :key=\"index\">\n              {{ par }}\n            </p>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-tertiary\" @click.stop=\"closeModal\" data-dismiss=\"modal\">\n            Close\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport ShapeComponent from './shape-component.vue';\nimport store from './store.js'\n\nexport default {\n  name: \"readonly-modal\",\n  props: [\n    'modal',\n    'event',\n    'shown'\n  ],\n  components: {\n    ShapeComponent\n  },\n  data() {\n    return {\n      domain: '',\n      categories: []\n    }\n  },\n  watch: {\n    event: {\n      handler(newval) {\n        this.event.categories = newval.categories;\n        this.hydrateCategories();\n      },\n      deep: true\n    }\n  },\n  methods: {\n    closeModal() {\n      this.$parent.closeModal();\n    },\n    hydrateCategories() {\n      this.categories = [];\n      if (!this.event.categories) return;\n      for (let i = 0; i < this.event.categories.length; i++) {\n        this.categories.push(store.getters.categories.find(cat => cat.id === this.event.categories[i]))\n      }\n    },\n  },\n  mounted() {\n    if (this.event.url) {\n      let domain = (new URL(this.event.url));\n      this.domain = domain.hostname;\n    }\n    this.hydrateCategories();\n  }\n}\n</script>\n\n<style scoped>\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./readonly-modal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./readonly-modal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./readonly-modal.vue?vue&type=template&id=a7be94bc&scoped=true&\"\nimport script from \"./readonly-modal.vue?vue&type=script&lang=js&\"\nexport * from \"./readonly-modal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a7be94bc\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.year_data.involvesAnyItem || !_vm.$store.getters.minimized)?_c('div',{staticClass:\"year\",class:{\n\n        no_content_year: _vm.noContent,\n        cases_only_year: _vm.casesWithoutEvents,\n        events_only_year: _vm.eventsWithoutCases,\n        cases_and_events_year: _vm.casesAndEvents},attrs:{\"aria-label\":_vm.year_value},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.clearPreviewEvent($event)}}},[(_vm.$store.getters.isMobile && _vm.$store.getters.mobileEventsExpanded)?_c('div',{staticClass:\"incidental\",on:{\"click\":function($event){return _vm.$store.commit('unExpandMobileEvents')}}},[(_vm.year_data.case_list.length > 0)?_c('div',{staticClass:\"case_placeholder\"},[_c('more-horizontal'),_c('span',{staticClass:\"case_count\"},[_vm._v(_vm._s(_vm.year_data.case_list.length))])],1):_vm._e()]):_c('div',{staticClass:\"incidental\"},_vm._l((_vm.year_data.case_list),function(case_data){return _c('case',{key:case_data.id,attrs:{\"year_value\":_vm.year_value,\"case_data\":case_data}})}),1),(!_vm.$store.getters.isMobile)?_c('div',{staticClass:\"year_scale\"},[_c('year-label',{attrs:{\"year\":_vm.year_value}})],1):_c('div',{staticClass:\"year_scale\"},[_c('div',{staticClass:\"simple-mobile-year-label\"},[_vm._v(_vm._s(_vm.year_value))])]),_c('TimeLineSlice',{attrs:{\"event_list\":_vm.year_data.event_list,\"year_value\":_vm.year_value}}),_c('event-preview',{attrs:{\"event\":_vm.event}})],1):(_vm.year_data.firstYearNoNewItems && !_vm.year_data.involvesAnyItem && _vm.$store.getters.minimized)?_c('div',{staticClass:\"year placeholder\"},[_c('div',{staticClass:\"incidental\",on:{\"click\":function($event){return _vm.$store.commit('unExpandMobileEvents')}}}),_c('div',{staticClass:\"year_scale\",on:{\"click\":function($event){return _vm.$store.commit('toggleMinimized')}}},[_c('more-vertical')],1),_c('div',{staticClass:\"spans\",on:{\"click\":function($event){return _vm.$store.commit('expandMobileEvents')}}})]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"spans row\",on:{\"click\":function($event){return _vm.$store.commit('expandMobileEvents')}}},_vm._l((_vm.event_list),function(event_data,index){return _c('div',{key:_vm.year_value + index,class:[ 'event_col', 'ec_' + (index + 1), 'col-1', 'e' + _vm.year_value ]},[(_vm.$store.getters.isMobile && !_vm.$store.getters.mobileEventsExpanded)?[(Object.keys(event_data).length > 0)?_c('div',{class:{\n        'fill': true,\n        'first-event-year': parseInt(_vm.year_value) === new Date(event_data.start_date).getUTCFullYear(),\n        'last-event-year': parseInt(_vm.year_value) === new Date(event_data.end_date).getUTCFullYear(),\n        'light-color': _vm.checkIfLight(event_data.color)\n      },style:({\n                    'background-color': event_data.color,\n                    'border-bottom': parseInt(_vm.year_value) === new Date(event_data.end_date).getUTCFullYear() ? '1rem solid gray' : '',\n                    'min-height': '1rem'}),attrs:{\"tabindex\":parseInt(_vm.year_value) === new Date(event_data.start_date).getUTCFullYear() ? '0' : '-1'},on:{\"click\":function($event){return _vm.$store.commit('expandMobileEvents')}}}):_vm._e()]:[(Object.keys(event_data).length > 0)?_c('div',{ref:_vm.fillRefGenerator(event_data, _vm.year_value),refInFor:true,class:{\n        'fill': true,\n        'first-event-year': parseInt(_vm.year_value) === new Date(event_data.start_date).getUTCFullYear(),\n        'last-event-year': parseInt(_vm.year_value) === new Date(event_data.end_date).getUTCFullYear(),\n        'light-color': _vm.checkIfLight(event_data.color)\n      },style:({\n                    'background-color': event_data.color,\n                    'border-bottom': parseInt(_vm.year_value) === new Date(event_data.end_date).getUTCFullYear() ? '1rem solid gray' : '',\n                    'min-height': '1rem'\n                }),attrs:{\"tabindex\":parseInt(_vm.year_value) === new Date(event_data.start_date).getUTCFullYear() ? '0' : '-1',\"data-toggle\":_vm.dataToggle,\"data-target\":_vm.dataTarget,\"data-event-fill\":event_data.id},on:{\"click\":function($event){return _vm.openModal(event_data)},\"blur\":function($event){return _vm.handleFocus(event_data)},\"focus\":function($event){return _vm.handleFocus(event_data)}}},[(parseInt(_vm.year_value) === new Date(event_data.start_date).getUTCFullYear())?_c('div',{ref:'event-label' + event_data.id,refInFor:true,staticClass:\"event_label\",style:({'width': _vm.setLabelWidth(event_data.end_date, event_data.start_date) }),domProps:{\"textContent\":_vm._s(event_data.name)}}):_vm._e()]):_vm._e()]],2)}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"spans row\" @click=\"$store.commit('expandMobileEvents')\">\n    <div v-for=\"(event_data, index) in event_list\" v-bind:key=\"year_value + index\"\n         :class=\"[ 'event_col', 'ec_' + (index + 1), 'col-1', 'e' + year_value, ]\">\n      <template v-if=\"$store.getters.isMobile && !$store.getters.mobileEventsExpanded\">\n\n        <div @click=\"$store.commit('expandMobileEvents')\" :class=\"{\n          'fill': true,\n          'first-event-year': parseInt(year_value) === new Date(event_data.start_date).getUTCFullYear(),\n          'last-event-year': parseInt(year_value) === new Date(event_data.end_date).getUTCFullYear(),\n          'light-color': checkIfLight(event_data.color)\n        }\"\n             v-if=\"Object.keys(event_data).length > 0\"\n             :tabindex=\"parseInt(year_value) === new Date(event_data.start_date).getUTCFullYear() ? '0' : '-1'\"\n             :style=\"{\n                      'background-color': event_data.color,\n                      'border-bottom': parseInt(year_value) === new Date(event_data.end_date).getUTCFullYear() ? '1rem solid gray' : '',\n                      'min-height': '1rem'}\">\n        </div>\n\n      </template>\n      <template v-else>\n        <div :class=\"{\n          'fill': true,\n          'first-event-year': parseInt(year_value) === new Date(event_data.start_date).getUTCFullYear(),\n          'last-event-year': parseInt(year_value) === new Date(event_data.end_date).getUTCFullYear(),\n          'light-color': checkIfLight(event_data.color)\n        }\"\n             v-if=\"Object.keys(event_data).length > 0\"\n             :tabindex=\"parseInt(year_value) === new Date(event_data.start_date).getUTCFullYear() ? '0' : '-1'\"\n             :style=\"{\n                      'background-color': event_data.color,\n                      'border-bottom': parseInt(year_value) === new Date(event_data.end_date).getUTCFullYear() ? '1rem solid gray' : '',\n                      'min-height': '1rem'\n                  }\"\n             @click=\"openModal(event_data)\"\n             @blur=\"handleFocus(event_data)\"\n             @focus=\"handleFocus(event_data)\"\n             :data-toggle=\"dataToggle\"\n             :data-target=\"dataTarget\"\n             :data-event-fill=\"event_data.id\"\n             :ref=\"fillRefGenerator(event_data, year_value)\">\n          <div class=\"event_label\"\n               :style=\"{'width': setLabelWidth(event_data.end_date, event_data.start_date) }\"\n               v-if=\"parseInt(year_value) === new Date(event_data.start_date).getUTCFullYear()\"\n               v-text=\"event_data.name\"\n               :ref=\"'event-label' + event_data.id\">\n          </div>\n\n        </div>\n      </template>\n    </div>\n  </div>\n</template>\n\n<script>\nimport store from \"./store\";\n\nexport default {\n  name: \"TimelineSlice\",\n  props: ['year_value', 'event_list'],\n  computed: {\n    dataToggle: () => {\n      // attribute for showing either modal or event preview\n      if (store.getters.isMobile || (store.state.isAuthor && !store.getters.isMobile)) {\n        return 'modal'\n      } else {\n        return ''\n      }\n    },\n    dataTarget: () => {\n      // attribute for showing what kind of modal or event preview\n      if (store.getters.isMobile) {\n        return '#readonly-modal'\n      } else if (store.state.isAuthor && !store.getters.isMobile) {\n        return '#add-event-modal'\n      } else {\n        // keeping blank will show event preview\n        return ''\n      }\n    },\n    showPreview: () => {\n      // showing preview or showing modal\n      return !store.state.isAuthor && !store.getters.isMobile\n    }\n  },\n  methods: {\n    closeModal() {\n      this.$emit('closeModal')\n    },\n    openModal(event_data) {\n      if (this.showPreview) {\n        this.toggleEventPreview(event_data, true)\n      } else {\n        this.$parent.$parent.openModal(event_data, 'event')\n      }\n    },\n    handleFocus(event_data) {\n      this.toggleEventPreview(event_data, true)\n    },\n    handleBlur(event_data) {\n      this.toggleEventPreview(event_data, false)\n    },\n    toggleEventPreview(event_data, open) {\n      if (!this.showPreview) return;\n      if (open)\n        this.$parent.previewEvent(event_data);\n      else\n        this.$parent.clearPreviewEvent()\n    },\n    fillRefGenerator(event_data, year_value) {\n      const firstEventYear = parseInt(year_value) === new Date(event_data.start_date).getUTCFullYear();\n      const lastEventYear = parseInt(year_value) === new Date(event_data.end_date).getUTCFullYear();\n      if (firstEventYear === year_value) {\n        return \"first_year_fill_\" + event_data.id\n      } else if (lastEventYear === year_value) {\n        return \"last_year_fill_\" + event_data.id\n      }\n    },\n    setLabelWidth(end_date, start_date) {\n      // A small attempt at giving longer events longer title allotments\n      let yearRange = new Date(end_date).getUTCFullYear() - new Date(start_date).getUTCFullYear()\n      let base_size = 110 // px\n      let width;\n      width = yearRange * base_size\n      width = width < base_size ? base_size : width\n      return width + 'px'\n    },\n    checkIfLight(color) {\n      // add class if font needs to be black\n      let lightColors = [\"#00db67\", \"#ccff6d\", \"#dbc600\", \"#db8f00\"]\n      return lightColors.indexOf(color.toLowerCase()) > -1\n    }\n  },\n}\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./timeline-slice.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./timeline-slice.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./timeline-slice.vue?vue&type=template&id=7df0cad3&\"\nimport script from \"./timeline-slice.vue?vue&type=script&lang=js&\"\nexport * from \"./timeline-slice.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"case-button\",attrs:{\"type\":\"button\",\"data-toggle\":\"modal\",\"data-target\":_vm.dataTarget,\"tabindex\":\"0\"},on:{\"focus\":_vm.handleFocus,\"click\":function($event){return _vm.openModal(_vm.case_data)}}},[_c('article',{staticClass:\"case\"},[_c('div',{staticClass:\"border\",style:({backgroundColor: _vm.case_data.color})}),_c('header',[_c('span',{staticClass:\"case-name\"},[_vm._v(\" \"+_vm._s(_vm.case_data.name)+\" \")]),(_vm.case_data.url)?_c('a',{staticClass:\"case-link\",attrs:{\"href\":_vm.case_data.url,\"target\":\"_blank\"},on:{\"click\":function($event){$event.stopPropagation();}}},[_c('link-case')],1):_vm._e()]),_c('section',{staticClass:\"desc\"},[_vm._v(\" \"+_vm._s(_vm.case_data.short_description)+\" \")]),(_vm.categories && _vm.categories.length)?_c('div',{staticClass:\"categories\"},[_c('ul',{staticClass:\"list-inline\"},_vm._l((_vm.categories),function(category){return _c('li',{key:category.id,staticClass:\"list-inline-item\",attrs:{\"title\":\"category.name\"}},[_c('shape-component',{attrs:{\"width\":20,\"title\":category.name,\"color\":category.color,\"shapetype\":category.shape}})],1)}),0)]):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"height\":\"24\",\"width\":\"24\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"d\":\"M0 0h24v24H0z\",\"fill\":\"none\"}}),_c('path',{attrs:{\"d\":\"M19 19H5V5h7V3H5a2 2 0 00-2 2v14a2 2 0 002 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z\"}})])\n          )\n        }\n      }\n    ","import Vue from 'vue';\nexport const EventBus = new Vue();\n","<template>\n  <button class=\"case-button\"\n          type=\"button\"\n          @focus=\"handleFocus\"\n          @click=\"openModal(case_data)\"\n          data-toggle=\"modal\"\n          :data-target=\"dataTarget\"\n          tabindex=\"0\">\n    <article class=\"case\">\n      <div :style=\"{backgroundColor: case_data.color}\"\n           class=\"border\">\n      </div>\n      <header>\n        <!--this is just for name placement if we don't have categories-->\n        <span class=\"case-name\">\n            {{ case_data.name }}\n        </span>\n        <a class=\"case-link\" v-if=\"case_data.url\"\n           :href=\"case_data.url\" target=\"_blank\" @click.stop>\n          <link-case/>\n        </a>\n      </header>\n      <section class=\"desc\">\n        {{ case_data.short_description }}\n      </section>\n      <div class=\"categories\"\n           v-if=\"categories && categories.length\">\n        <ul class=\"list-inline\">\n          <li class=\"list-inline-item\"\n              v-for=\"category in categories\"\n              title=\"category.name\"\n              v-bind:key=\"category.id\">\n            <shape-component :width=\"20\"\n                             :title=\"category.name\"\n                             :color=\"category.color\"\n                             :shapetype=\"category.shape\">\n            </shape-component>\n          </li>\n        </ul>\n      </div>\n    </article>\n  </button>\n</template>\n\n<script>\nimport LinkCase from '../../../../static/img/icons/open_in_new-24px.svg';\nimport {EventBus} from \"./event-bus.js\";\nimport store from \"./store\";\nimport ShapeComponent from './shape-component';\n\nexport default {\n  name: \"Case\",\n  props: ['case_data', 'year_value'],\n  components: {LinkCase, ShapeComponent},\n  computed: {\n    dataTarget: () => {\n      if (store.getters.isMobile || !store.state.isAuthor) {\n        return '#readonly-modal'\n      } else {\n        return '#add-case-modal'\n      }\n    },\n  },\n  watch: {\n    case_data: {\n      handler(newval) {\n        this.case_data.categories = newval.categories;\n        this.hydrateCategories();\n      },\n      deep: true\n    }\n  },\n  data() {\n    return {\n      categories: [],\n      timelineCategories: store.getters.categories\n    }\n  },\n  methods: {\n    openModal(item) {\n      this.$parent.$parent.openModal(item, 'case')\n    },\n    closeModal() {\n      EventBus.$emit('closeModal')\n    },\n    handleFocus() {\n      EventBus.$emit('closePreview')\n    },\n    repopulateTimeline() {\n      this.$parent.repopulateTimeline();\n    },\n    hydrateCategories() {\n      this.categories = [];\n      for (let i = 0; i < this.case_data.categories.length; i++) {\n        let foundCat = this.timelineCategories.find(cat => cat.id === this.case_data.categories[i])\n        if (foundCat) {\n          this.categories.push(foundCat)\n        }\n      }\n    }\n  },\n  mounted() {\n    if (this.case_data.categories) {\n      this.hydrateCategories();\n    }\n    EventBus.$on('updateCategories', (categories) => {\n      if (!this.case_data.categories)\n        return;\n      this.timelineCategories = categories;\n      this.hydrateCategories();\n    });\n  }\n}\n</script>\n\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./case.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./case.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./case.vue?vue&type=template&id=7c5c63f2&\"\nimport script from \"./case.vue?vue&type=script&lang=js&\"\nexport * from \"./case.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.event)?_c('div',{staticClass:\"event-preview\",style:({ border: '1px solid '+ this.event.color })},[_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"aria-label\":\"Close\"},on:{\"click\":function($event){return _vm.$parent.clearPreviewEvent()}}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"\")])]),_c('h5',[_vm._v(\" \"+_vm._s(_vm.event.name)+\" \")]),(_vm.event.short_description)?[_c('div',{staticClass:\"event-preview-body\"},_vm._l((_vm.event.short_description.split('\\n')),function(desc){return _c('p',{key:desc},[_vm._v(\" \"+_vm._s(desc)+\" \")])}),0)]:_vm._e(),_c('button',{staticClass:\"see-more btn btn-tertiary\",attrs:{\"data-toggle\":\"modal\",\"data-target\":\"#readonly-modal\"},on:{\"click\":function($event){return _vm.openModal(_vm.event)}}},[_vm._v(\" See more \")])],2):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"event-preview\" v-if=\"event\"\n       :style=\"{ border: '1px solid '+ this.event.color }\">\n    <button type=\"button\" @click=\"$parent.clearPreviewEvent()\"\n            class=\"close\" aria-label=\"Close\">\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n\n    <h5>\n      {{ event.name }}\n    </h5>\n    <template v-if=\"event.short_description\">\n      <div class=\"event-preview-body\">\n        <p v-for=\"desc in event.short_description.split('\\n')\" :key=\"desc\">\n          {{ desc }}\n        </p>\n      </div>\n    </template>\n    <button class=\"see-more btn btn-tertiary\"\n            @click=\"openModal(event)\"\n            data-toggle=\"modal\"\n            data-target=\"#readonly-modal\">\n      See more\n    </button>\n  </div>\n</template>\n\n<script>\n\n\nexport default {\n  name: \"EventPreview\",\n  props: ['event'],\n  methods: {\n    openModal() {\n      this.$parent.$parent.openModal(this.event, 'event')\n      this.$parent.clearPreviewEvent();\n    },\n  }\n}\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./event-preview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./event-preview.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./event-preview.vue?vue&type=template&id=51cb118c&\"\nimport script from \"./event-preview.vue?vue&type=script&lang=js&\"\nexport * from \"./event-preview.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [\"feather feather-more-vertical\",classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"24\",\"height\":\"24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('circle',{attrs:{\"cx\":\"12\",\"cy\":\"12\",\"r\":\"1\"}}),_c('circle',{attrs:{\"cx\":\"12\",\"cy\":\"5\",\"r\":\"1\"}}),_c('circle',{attrs:{\"cx\":\"12\",\"cy\":\"19\",\"r\":\"1\"}})])\n          )\n        }\n      }\n    ","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [\"feather feather-more-horizontal\",classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"24\",\"height\":\"24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('circle',{attrs:{\"cx\":\"12\",\"cy\":\"12\",\"r\":\"1\"}}),_c('circle',{attrs:{\"cx\":\"19\",\"cy\":\"12\",\"r\":\"1\"}}),_c('circle',{attrs:{\"cx\":\"5\",\"cy\":\"12\",\"r\":\"1\"}})])\n          )\n        }\n      }\n    ","import Vue from 'vue'\n\nexport default Vue.component('YearLabel', {\n  template: `\n    <svg version=\"1.1\" id=\"Layer_1\" width=\"125px\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 250 125\" xml:space=\"preserve\" @mouseover=\"yearHoverToggle(true)\" @mouseleave=\"yearHoverToggle(false)\">\n      <rect style=\"fill:#FFFFFF;\" x=\"0\" y=\"34\" height=\"60\" width=\"178\" />\n      <line v-if=\"!yearHover\" style=\"fill:none;stroke:#363636;stroke-width:4;stroke-miterlimit:10;\" x1=\"29.5\" y1=\"62.5\" x2=\"50.5\" y2=\"62.5\"/>\n      <text style=\"font-family: 'source-code', monospace;\" transform=\"matrix(2 0 0 2 80 75)\" >{{year}}</text>\n      <g id=\"circles\" v-if=\"yearHover\">\n        <g style=\"cursor:pointer;\" @click=\"addCase(year)\" data-toggle=\"modal\" data-target=\"#add-case-modal\">\n          <circle style=\"fill:#FFF;stroke:#363636;stroke-width:3;stroke-miterlimit:10;\" cx=\"40\" cy=\"63.2\" r=\"20\"/>\n          <line style=\"fill:none;stroke:#363636;stroke-width:3;stroke-miterlimit:10;\" x1=\"40\" y1=\"52\" x2=\"40\" y2=\"73\"/>\n          <line style=\"fill:none;stroke:#363636;stroke-width:3;stroke-miterlimit:10;\" x1=\"29.5\" y1=\"62.5\" x2=\"50.5\" y2=\"62.5\"/>\n        </g>\n        <g style=\"cursor:pointer;\" @click=\"addEvent(year)\" data-toggle=\"modal\" data-target=\"#add-event-modal\">\n          <circle style=\"fill:#EEE;stroke:#363636;stroke-width:3;stroke-miterlimit:10;\" cx=\"210\" cy=\"63.2\" r=\"20\"/>\n          <line style=\"fill:none;stroke:#363636;stroke-width:3;stroke-miterlimit:10;\" x1=\"210\" y1=\"52\" x2=\"210\" y2=\"73\"/>\n          <line style=\"fill:none;stroke:#363636;stroke-width:3;stroke-miterlimit:10;\" x1=\"199.5\" y1=\"62.5\" x2=\"220.5\" y2=\"62.5\"/>\n        </g>\n      </g>\n    </svg>`,\n  props: ['year'],\n  data() {\n    return { yearHover: false }\n  },\n  methods: {\n    addCase(year) {\n      this.$parent.$parent.openModal({decision_date: year + '-01-01'}, 'case');\n    },\n    addEvent(year) {\n      this.$parent.$parent.openModal({start_date: year + '-01-01'}, 'event');\n    },\n    yearHoverToggle(newHoverState) {\n      this.yearHover=this.$store.state.isAuthor ? newHoverState : false;\n    }\n  }\n});\n\n\n","<template>\n  <div class=\"year\"\n       v-bind:class=\"{\n\n          no_content_year: noContent,\n          cases_only_year: casesWithoutEvents,\n          events_only_year: eventsWithoutCases,\n          cases_and_events_year: casesAndEvents}\"\n       v-if=\"year_data.involvesAnyItem || !$store.getters.minimized\"\n       @keydown.esc=\"clearPreviewEvent\" :aria-label=\"year_value\">\n\n    <div v-if=\"$store.getters.isMobile && $store.getters.mobileEventsExpanded\" class=\"incidental\"  @click=\"$store.commit('unExpandMobileEvents')\">\n        <div class=\"case_placeholder\" v-if=\"year_data.case_list.length > 0\">\n          <more-horizontal></more-horizontal>\n          <span class=\"case_count\">{{ year_data.case_list.length }}</span>\n        </div>\n    </div>\n    <div v-else class=\"incidental\" >\n        <case v-for=\"case_data in year_data.case_list\" :year_value=\"year_value\" :case_data=\"case_data\"\n            v-bind:key=\"case_data.id\"></case>\n    </div>\n\n    <!-- on mobile views, we're using a simple div. Replacing the year-label svg in the future might make sense. -->\n    <div v-if=\"!$store.getters.isMobile\" class=\"year_scale\">\n      <year-label :year=\"year_value\"></year-label>\n    </div>\n    <div v-else class=\"year_scale\">\n      <div class=\"simple-mobile-year-label\">{{year_value}}</div>\n    </div>\n    <TimeLineSlice :event_list=\"year_data.event_list\" :year_value=\"year_value\"></TimeLineSlice>\n    <event-preview :event=\"event\"></event-preview>\n  </div>\n  <div class=\"year placeholder\"\n       v-else-if=\"year_data.firstYearNoNewItems && !year_data.involvesAnyItem && $store.getters.minimized\">\n    <div class=\"incidental\"  @click=\"$store.commit('unExpandMobileEvents')\">\n    </div>\n    <div @click=\"$store.commit('toggleMinimized')\" class=\"year_scale\">\n          <more-vertical></more-vertical>\n    </div>\n    <div class=\"spans\" @click=\"$store.commit('expandMobileEvents')\"></div>\n  </div>\n</template>\n\n<script>\nimport TimeLineSlice from './timeline-slice';\nimport Case from './case';\nimport EventPreview from \"./event-preview\";\nimport {EventBus} from \"./event-bus\";\nimport MoreVertical from '../../../../static/img/icons/more-vertical.svg';\nimport MoreHorizontal from '../../../../static/img/icons/more-horizontal.svg';\nimport YearLabel from './year-label'\n\nexport default {\n  name: \"Year\",\n  components: {\n    TimeLineSlice,\n    Case,\n    EventPreview,\n    MoreVertical,\n    MoreHorizontal,\n    YearLabel\n  },\n  data() {\n    return {\n      event_count: this.year_data.event_list.reduce((acc, element) => acc + Object.keys(element).length, 0),\n      event: null,\n      showAddButton: false,\n    }\n  },\n  props: ['year_data', 'year_value', 'mobileEventsExpanded'],\n  computed: {\n    noContent: function () {\n      return (this.event_count + this.year_data.case_list.length === 0)\n    },\n    casesWithoutEvents: function () {\n      return (this.event_count === 0 && this.year_data.case_list.length > 0)\n    },\n    eventsWithoutCases: function () {\n      return (this.event_count > 0 && this.year_data.case_list.length === 0)\n    },\n    casesAndEvents: function () {\n      return (this.event_count > 0 && this.year_data.case_list.length > 0)\n    }\n  },\n  methods: {\n    repopulateTimeline() {\n      this.$parent.repopulateTimeline();\n    },\n    clearPreviewEvent() {\n      this.event = null;\n    },\n    previewEvent(event_data) {\n      this.event = event_data;\n      EventBus.$emit('closePreview', this.year_value);\n    },\n  },\n  mounted() {\n    EventBus.$on('closePreview', (year_value) => {\n      if (this.year_value !== year_value) {\n        this.event = null;\n      }\n    })\n  }\n}\n</script>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./year.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./year.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./year.vue?vue&type=template&id=ed0b153a&\"\nimport script from \"./year.vue?vue&type=script&lang=js&\"\nexport * from \"./year.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"categories-modal\",\"tabindex\":\"-1\",\"role\":\"dialog\"}},[_c('div',{staticClass:\"categories-modal-dialog\"},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\"},[_vm._v(\"CATEGORIES\")]),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$parent.toggleKey()}}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"\")])])]),(this.$store.state.isAuthor)?_c('div',{staticClass:\"modal-body\"},[_c('ul',[_vm._m(0),_vm._l((_vm.categoryList),function(cat,index){return _c('category',{key:index,attrs:{\"content\":cat}})})],2),_c('div',{staticClass:\"btn-group\"},[_c('button',{staticClass:\"btn btn-tertiary\",on:{\"click\":_vm.addCategoryFields}},[_vm._v(\"New \"),_c('add-icon')],1),_c('button',{staticClass:\"btn btn-tertiary\",on:{\"click\":_vm.$parent.toggleKey}},[_vm._v(\"Cancel\")]),_c('button',{staticClass:\"btn btn-primary\",on:{\"click\":_vm.saveCategories}},[_vm._v(\"Save\")])]),(_vm.errors.length)?_c('div',{staticClass:\"form-errors p-2 mt-2 small\"},[_c('b',[_vm._v(\"Please correct the following error(s):\")]),_c('ul',{staticClass:\"m-0 list-inline\"},_vm._l((_vm.errors),function(error){return _c('li',{key:error,staticClass:\"list-inline-item\"},[_vm._v(_vm._s(error))])}),0)]):_vm._e()]):_c('div',{staticClass:\"modal-body\"},[_c('ul',_vm._l((_vm.categoryList),function(cat,index){return _c('li',{key:index,staticClass:\"category-readonly\"},[_c('span',[_c('shape-component',{attrs:{\"width\":28,\"color\":cat.color,\"shapetype\":cat.shape}})],1),_c('span',{staticClass:\"name\",domProps:{\"textContent\":_vm._s(cat.name)}})])}),0)])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"category\"},[_c('span',{attrs:{\"id\":\"shape-label\"}},[_vm._v(\"Shape\")]),_c('span',{attrs:{\"id\":\"input-label\"}},[_vm._v(\"Name\")]),_c('span',{attrs:{\"id\":\"color-label\"}},[_vm._v(\"Color\")]),_c('span')])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"category\"},[_c('v-select',{staticClass:\"shape-select\",attrs:{\"options\":_vm.shapes,\"transition\":\"\",\"filterable\":false,\"clearable\":false,\"label\":\"shape\"},scopedSlots:_vm._u([{key:\"selected-option\",fn:function(ref){\nvar shape = ref.shape;\nreturn [_c('shape-component',{attrs:{\"width\":28,\"color\":_vm.content.color,\"shapetype\":shape}})]}},{key:\"option\",fn:function(ref){\nvar shape = ref.shape;\nreturn [_c('shape-component',{attrs:{\"width\":28,\"color\":_vm.content.color,\"shapetype\":shape}})]}}]),model:{value:(_vm.content.shape),callback:function ($$v) {_vm.$set(_vm.content, \"shape\", $$v)},expression:\"content.shape\"}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.content.name),expression:\"content.name\"}],staticClass:\"shape-name\",attrs:{\"required\":\"\"},domProps:{\"value\":(_vm.content.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.content, \"name\", $event.target.value)}}}),_c('v-select',{staticClass:\"color-dropdown shape-color\",attrs:{\"transition\":\"\",\"filterable\":false,\"clearable\":false,\"label\":\"color\",\"options\":_vm.colors},scopedSlots:_vm._u([{key:\"selected-option\",fn:function(ref){\nvar color = ref.color;\nreturn [_c('span',{staticClass:\"color-square\",style:({backgroundColor: color})})]}},{key:\"option\",fn:function(ref){\nvar color = ref.color;\nreturn [_c('span',{staticClass:\"color-square\",style:({backgroundColor: color})})]}}]),model:{value:(_vm.content.color),callback:function ($$v) {_vm.$set(_vm.content, \"color\", $$v)},expression:\"content.color\"}}),_c('button',{staticClass:\"close category-remove\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"},on:{\"click\":function($event){return _vm.$parent.removeCategory(_vm.content.id)}}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"\")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <li class=\"category\">\n    <v-select :options=\"shapes\"\n              transition=\"\"\n              class=\"shape-select\"\n              v-model=\"content.shape\"\n              :filterable=\"false\"\n              :clearable=\"false\"\n              label=\"shape\">\n      <template #selected-option=\"{ shape }\">\n        <shape-component :width=\"28\" :color=\"content.color\" :shapetype=\"shape\"></shape-component>\n      </template>\n\n      <template #option=\"{ shape }\">\n        <shape-component :width=\"28\" :color=\"content.color\" :shapetype=\"shape\"></shape-component>\n      </template>\n    </v-select>\n    <input v-model=\"content.name\" class=\"shape-name\" required>\n    <v-select transition=\"\"\n              :filterable=\"false\"\n              :clearable=\"false\"\n              class=\"color-dropdown shape-color\"\n              label=\"color\"\n              v-model=\"content.color\"\n              :options=\"colors\">\n      <template #selected-option=\"{ color }\">\n        <span :style=\"{backgroundColor: color}\"\n              class=\"color-square\">\n        </span>\n      </template>\n      <template #option=\"{ color }\">\n        <span :style=\"{backgroundColor: color}\"\n              class=\"color-square\">\n        </span>\n      </template>\n    </v-select>\n    <button type=\"button\" @click=\"$parent.removeCategory(content.id)\" class=\"close category-remove\" data-dismiss=\"modal\" aria-label=\"Close\">\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </li>\n</template>\n\n<script>\nimport vSelect from 'vue-select'\n\nimport ShapeComponent from './shape-component.vue';\nimport store from \"./store\";\n\nexport default {\n  name: \"category\",\n  props: ['content'],\n  components: {\n    vSelect,\n    ShapeComponent,\n  },\n  data() {\n    return {\n      shapes: ['circle', 'polygon1', 'polygon2', 'rhombus', 'triangle'],\n      colors: [],\n    }\n  },\n  methods: {\n    getRandom(someList) {\n      return someList[Math.floor(Math.random() * someList.length)]\n    },\n  },\n\n  mounted() {\n    this.colors = store.getters.choices.colors;\n    if (!this.content.shape)\n      this.content.shape = this.getRandom(this.shapes);\n    if (!this.content.color)\n      this.content.color = this.getRandom(this.colors);\n  },\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./category.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./category.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./category.vue?vue&type=template&id=1fb47e00&scoped=true&\"\nimport script from \"./category.vue?vue&type=script&lang=js&\"\nexport * from \"./category.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1fb47e00\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"categories-modal\" tabindex=\"-1\" role=\"dialog\">\n    <div class=\"categories-modal-dialog\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\">CATEGORIES</h5>\n          <button type=\"button\"\n                  @click.stop=\"$parent.toggleKey()\"\n                  class=\"close\"\n                  data-dismiss=\"modal\"\n                  aria-label=\"Close\">\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n        </div>\n        <div class=\"modal-body\" v-if=\"this.$store.state.isAuthor\">\n          <ul>\n            <li class=\"category\">\n              <span id=\"shape-label\">Shape</span>\n              <span id=\"input-label\">Name</span>\n              <span id=\"color-label\">Color</span>\n              <span></span>\n            </li>\n            <category v-for=\"(cat, index) in categoryList\" v-bind:key=\"index\" :content=\"cat\"></category>\n          </ul>\n          <div class=\"btn-group\">\n            <button class=\"btn btn-tertiary\" @click=\"addCategoryFields\">New\n              <add-icon></add-icon>\n            </button>\n            <button class=\"btn btn-tertiary\" @click=\"$parent.toggleKey\">Cancel</button>\n            <button class=\"btn btn-primary\" @click=\"saveCategories\">Save</button>\n          </div>\n          <div v-if=\"errors.length\" class=\"form-errors p-2 mt-2 small\">\n            <b>Please correct the following error(s):</b>\n            <ul class=\"m-0 list-inline\">\n              <li class=\"list-inline-item\" v-for=\"error in errors\" v-bind:key=\"error\">{{ error }}</li>\n            </ul>\n          </div>\n        </div>\n        <div class=\"modal-body\" v-else>\n          <ul>\n            <li class=\"category-readonly\" v-for=\"(cat, index) in categoryList\" v-bind:key=\"index\">\n              <span><shape-component :width=\"28\" :color=\"cat.color\" :shapetype=\"cat.shape\"></shape-component></span>\n              <span class=\"name\" v-text=\"cat.name\"></span>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  </div>\n\n</template>\n\n<script>\nimport Category from './category.vue'\nimport AddIcon from '../../../../static/img/icons/plus-circle.svg';\nimport store from \"./store\";\nimport {EventBus} from \"./event-bus.js\";\nimport ShapeComponent from \"./shape-component\";\n\nexport default {\n  name: \"categories\",\n  components: {\n    ShapeComponent,\n    Category,\n    AddIcon\n  },\n\n  data() {\n    return {\n      errors: [],\n      vectors: [],\n      colors: [],\n      categoryList: [],\n      categoryTemplate: {\n        shape: '',\n        name: '',\n        color: ''\n      }\n    }\n  },\n  watch: {\n    categoryList: {\n\n      handler(newval) {\n        this.categoryList = newval;\n      },\n      deep: true\n    }\n  },\n  methods: {\n    checkForm() {\n      this.errors = [];\n      let uniqueCategories = new Set()\n      for (let i = 0; i < this.categoryList.length; i++) {\n        uniqueCategories.add(this.categoryList[i].name)\n      }\n      if (uniqueCategories.size !== this.categoryList.length) {\n        this.errors.push('Categories must be unique.')\n      }\n    },\n    addCategoryFields() {\n      this.categoryList.push(this.unbind(store.getters.templateCategory))\n    },\n    unbind(obj) {\n      return JSON.parse(JSON.stringify(obj))\n    },\n    saveCategories() {\n      this.checkForm();\n      if (this.errors.length) return;\n      EventBus.$emit('updateCategories', this.categoryList)\n      store.commit('saveCategories', this.categoryList)\n      // close \"modal\"\n      this.$parent.toggleKey();\n    },\n    removeCategory(catID) {\n      let catIndex = -1;\n      for (let i = 0; i < this.categoryList.length; i++) {\n        if (this.categoryList[i].id === catID) {\n          catIndex = i;\n          break;\n        }\n      }\n      if (catIndex > -1) {\n        this.categoryList.splice(catIndex, 1)\n      }\n    }\n  },\n  mounted() {\n    this.categoryList = this.unbind(store.getters.categories)\n    if (!this.categoryList.length) {\n      this.addCategoryFields()\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./categories.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./categories.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./categories.vue?vue&type=template&id=bf4d094c&\"\nimport script from \"./categories.vue?vue&type=script&lang=js&\"\nexport * from \"./categories.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <main id=\"main-app\" ref=\"main-app-container\" :class=\"{'mobile-event-expanded': $store.getters.mobileEventsExpanded }\"\n        @keyup.esc=\"handleEscape\">\n    <div class=\"row top-menu\">\n      <header :class=\"{ 'header-section': true, 'title': true, 'expanded': headerExpanded}\">\n        <h4 id=\"timeline-title\" @click=\"toggleHeader()\">{{ $store.state.title }}</h4>\n        <div id=\"timeline-author\">By {{ $store.state.author }}</div>\n        <div id=\"timeline-description\" v-if=\"$store.state.description\" v-text=\"$store.state.description\"\n             @click=\"toggleHeader()\"></div>\n        <div class=\"my-timelines-link\" v-if=\"$store.state.isAuthor\">\n          <router-link to=\"/\" class=\"btn btn-tertiary\">\n            BACK TO MY TIMELINES\n          </router-link>\n        </div>\n      </header>\n      <div class=\"header-section years\"></div>\n      <div :class=\"{'header-section': true, 'zoom-section': true, 'expanded': headerExpanded}\">\n        <div id=\"zoom-button-container\">\n          <ul class=\"inline-list toggles\">\n            <li class=\"list-inline-item key\"\n                v-if=\"$store.state.isAuthor || ($store.state.categories && $store.state.categories.length)\"\n                @click=\"toggleKey\"\n                data-target=\"#categories-modal\"\n                :class=\"{'selected': keyShown}\">\n              <key-icon></key-icon>\n            </li>\n            <li class=\"list-inline-item zoom-toggle zoom-in\"\n                :class=\"{selectable: !$store.state.minimized}\"\n                @click=\"$store.commit('toggleMinimized')\">\n              <minimize-icon></minimize-icon>\n            </li>\n            <li class=\"list-inline-item zoom-toggle zoom-out\"\n                :class=\"{selectable: $store.state.minimized}\"\n                @click=\"$store.commit('toggleMinimized')\">\n              <maximize-icon></maximize-icon>\n            </li>\n          </ul>\n          <categories v-if=\"keyShown\"></categories>\n        </div>\n\n      </div>\n    </div>\n    <section id=\"timeline\">\n      <div class=\"year labels\">\n        <div class=\"incidental\" @click=\"$store.commit('unExpandMobileEvents')\">\n        </div>\n        <div class=\"year_scale\">\n          <div class=\"label_assembly\">\n            <button v-if=\"$store.state.isAuthor\" type=\"button\" id=\"top-add-cases-button\"\n              @click=\"openModal(null, 'case')\"\n              class=\"btn btn-tertiary btn-add-case\"\n              data-toggle=\"modal\"\n              data-target=\"#add-case-modal\">\n            <add-icon></add-icon>\n            </button>\n            <h6 id=\"caselaw-label\" @click=\"$store.commit('unExpandMobileEvents')\">CASELAW</h6>\n            <h6 id=\"events-label\" @click=\"$store.commit('expandMobileEvents')\">EVENTS</h6>\n            <button v-if=\"$store.state.isAuthor\" type=\"button\" id=\"top-add-events-button\"\n              @click=\"openModal(null, 'event')\"\n              class=\"btn btn-tertiary btn-add-event\"\n              data-toggle=\"modal\"\n              data-target=\"#add-event-modal\">\n            <add-icon></add-icon>\n            </button>\n          </div>\n        </div>\n        <div class=\"spans row\" @click=\"$store.commit('expandMobileEvents')\">\n        </div>\n      </div>\n      <year v-for=\"(year_data, idx) in years\" v-bind:key=\"'year_' + idx\"\n            :year_data=\"year_data\"\n            :year_value=\"idx\"></year>\n      <div v-if=\"$store.getters.empty === 'empty'\"  class=\"year welcome\">\n        <div v-if=\"$store.state.isAuthor && !this.$store.getters.isMobile\" class=\"incidental\">\n          Welcome to your brand new timeline. Start adding content by clicking on the plus sign next to Cases or Events.\n        </div>\n        <div v-else-if=\"$store.state.isAuthor && this.$store.getters.isMobile\" class=\"incidental\">\n          Welcome to your brand new timeline. We have not yet developed authorship mode for mobile devices. Please\n          let us know if you'd like us to prioritize it.\n        </div>\n        <div v-else class=\"incidental\">The author of this timeline has not yet added any cases or events.</div>\n        <div class=\"year_scale\">\n        </div>\n        <div class=\"spans\">\n        </div>\n      </div>\n\n    </section>\n\n    <!-- ALL MODALS -->\n    <add-case-modal v-if=\"showCase\"\n                    data-toggle=\"modal\"\n                    data-target=\"#add-case-modal\"\n                    :modal.sync=\"showCase\"\n                    :case=\"event\"\n                    :shown=\"showCase\">\n    </add-case-modal>\n    <add-event-modal v-else-if=\"showEvent\"\n                     data-toggle=\"modal\"\n                     data-target=\"#add-event-modal\"\n                     :modal.sync=\"showEvent\"\n                     :event=\"event\"\n                     :shown=\"showEvent\">\n    </add-event-modal>\n    <!-- if user is not author of timeline or on small screen, show readonly modal -->\n    <readonly-modal\n        v-if=\"showReadOnly\"\n        data-toggle=\"modal\"\n        data-target=\"#readonly-modal\"\n        :modal.sync=\"showReadOnly\"\n        :event=\"event\"\n        :shown=\"showReadOnly\">\n    </readonly-modal>\n  </main>\n\n</template>\n<script>\nimport MinimizeIcon from '../../../../static/img/icons/minimize-2.svg';\nimport MaximizeIcon from '../../../../static/img/icons/maximize-2.svg';\nimport AddIcon from '../../../../static/img/icons/plus-circle.svg';\nimport KeyIcon from '../../../../static/img/icons/key.svg';\nimport AddCaseModal from './add-case-modal.vue';\nimport AddEventModal from './add-event-modal.vue';\nimport ReadonlyModal from './readonly-modal.vue';\nimport Year from './year';\nimport Categories from './categories.vue';\nimport {EventBus} from \"./event-bus.js\";\n\n\nexport default {\n  name: 'Timeline',\n  components: {\n    AddCaseModal,\n    AddEventModal,\n    AddIcon,\n    KeyIcon,\n    ReadonlyModal,\n    Year,\n    MinimizeIcon,\n    MaximizeIcon,\n    Categories\n  },\n  computed: {\n    title() {\n      return this.$store.state.title\n    },\n  },\n  data() {\n    return {\n      headerExpanded: false,\n      checked: false,\n      showCase: false,\n      showEvent: false,\n      showReadOnly: false,\n      keyShown: false,\n      years: {},\n      event: null,\n      windowWidth: window.innerWidth,\n    }\n  },\n  watch: {\n    title() {\n      this.repopulateTimeline();\n    },\n    windowWidth(newWidth, oldWidth) {\n      if (this.widthToBreakpoint(newWidth) !== this.widthToBreakpoint(oldWidth)) {\n        this.$store.commit('setBreakPoint', this.widthToBreakpoint(newWidth));\n      }\n    },\n  },\n  methods: {\n    check() {\n      this.checked = !this.checked;\n    },\n    onResize() {\n      this.windowWidth = window.innerWidth\n    },\n    openModal(item, typeOfItem) {\n      this.showEvent = false;\n      this.showCase = false;\n      this.showReadOnly = false;\n      this.event = null;\n\n      if (item) {\n        this.event = JSON.parse(JSON.stringify(item))\n      }\n      if (this.$store.state.isAuthor && !this.$store.getters.isMobile) {\n        this.showEvent = typeOfItem === 'event';\n        this.showCase = typeOfItem === 'case';\n      } else {\n        this.showReadOnly = true;\n      }\n    },\n    closeModal() {\n      this.showEvent = false;\n      this.showCase = false;\n      this.showReadOnly = false;\n      this.event = null;\n      EventBus.$emit('closeModal')\n    },\n    widthToBreakpoint(newWidth) {\n      switch (true) {\n        case (newWidth < 576):\n          return \"xs\";\n        case (newWidth < 768):\n          return \"sm\";\n        case (newWidth < 992):\n          return \"md\";\n        case (newWidth < 11200):\n          return \"lg\";\n        default:\n          return \"xl\";\n      }\n    },\n    toggleHeader() {\n      if (this.$store.state.description || this.$store.state.title.length > 25)\n        this.headerExpanded = !this.headerExpanded;\n    },\n    toggleKey() {\n      this.keyShown = !this.keyShown;\n    },\n    handleEscape() {\n      EventBus.$emit('closePreview')\n      this.closeModal();\n    },\n    repopulateTimeline() {\n      /*\n      there are certainly better ways to do this this is just the way it came out for the MVP\n       */\n      this.years = {}\n      const firstYear = this.$store.getters.firstYear;\n      const finalYear = this.$store.getters.lastYear;\n\n      // clear years\n      this.years = {};\n\n      // all the years need to be in place before the next loop because it does some logic based on future years\n      for (let y = firstYear; y <= finalYear; y++) {\n        this.$set(this.years, y, {\n          case_list: [],\n          event_list: Array(12).fill({}),\n          firstYearNoNewItems: false,\n          involvesAnyItem: false,\n        })\n      }\n\n      for (let year = firstYear; year <= finalYear; year++) { // total range of timeline\n        const newEvents = this.$store.getters.eventByStartYear(year); // events that start on this year\n        const newCases = this.$store.getters.casesByYear(year); // cases that start on this year\n\n        this.$set(this.years[year], 'case_list', newCases);\n\n        // if there were cases and events last year but none this year, we want to mark it so we can add a placeholder\n        if (newCases.length + newEvents.length > 0) {\n          this.$set(this.years[year], 'involvesAnyItem', true)\n        } else if (year > firstYear) {\n          const lastYearECount = this.$store.getters.eventByStartYear(year - 1).length;\n          const lastYearCCount = this.$store.getters.casesByYear(year - 1).length;\n          this.$set(this.years[year], 'firstYearNoNewItems', lastYearECount + lastYearCCount > 0)\n        }\n\n        if (newEvents.length > 0) {\n          newEvents.forEach((evt) => {\n            for (let track_index = 0; track_index < 12; track_index++) {\n              if (Object.keys(this.years[year].event_list[track_index]).length === 0) { // since the events are start-year sorted, if the track is empty on the first year, it'll be good for the rest\n                let length = new Date(evt.end_date).getUTCFullYear() - new Date(evt.start_date).getUTCFullYear();\n                for (let event_year = 0; event_year <= length; event_year++) { // fill in the years on that track with the event\n                  this.$set(this.years[year + event_year].event_list, track_index, evt);\n                  this.$set(this.years[year + event_year], 'involvesAnyItem', true)\n                }\n                return false // break\n              }\n            }\n          });\n        }\n      }\n    },\n  },\n  beforeDestroy() {\n    window.removeEventListener('resize', this.onResize);\n  },\n  created() {\n    EventBus.$on('openModal', (item, typeOfItem) => {\n      this.openModal(item, typeOfItem);\n    });\n  },\n  mounted() {\n    this.$nextTick(() => {\n      window.addEventListener('resize', this.onResize);\n    });\n    this.$store.commit('setBreakPoint', this.widthToBreakpoint(this.windowWidth))\n  }\n};\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./timeline.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./timeline.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./timeline.vue?vue&type=template&id=92b2e140&\"\nimport script from \"./timeline.vue?vue&type=script&lang=js&\"\nexport * from \"./timeline.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main',{staticClass:\"admin\"},[_vm._m(0),(this.$store.state.user.is_authenticated === 'True')?_c('section',{attrs:{\"id\":\"timeline\"}},[(this.$store.state.user.is_authenticated === 'True')?_c('h6',{staticClass:\"timelines-title\"},[_vm._v(\"Your timelines\")]):_vm._e(),(!this.$store.getters.availableTimelines.length)?[_c('p',{staticClass:\"welcome\"},[_vm._v(\" Welcome to Chronolawgic, the Caselaw Access Project tool for creating caselaw-focused timelines. To create your first timeline, click on the plus sign in the middle of the rectangle below, then click on the \"),_c('span',{staticClass:\"inline-icon\"},[_c('edit-icon')],1),_vm._v(\" symbol to set a title and description. \")])]:_vm._e(),_c('div',{staticClass:\"timeline-assembly add-timeline\"},[_c('div',{staticClass:\"timeline-card\"},[_c('button',{staticClass:\"btn btn-tertiary\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$store.dispatch('requestCreateTimeline')}}},[_c('add-icon')],1)])]),(this.$store.getters.availableTimelines.length)?_vm._l((this.$store.getters.availableTimelines),function(timeline){return _c('div',{key:timeline.id,staticClass:\"timeline-assembly\"},[_c('nav',[_c('div',{staticClass:\"editcancel\",attrs:{\"title\":\"edit\"}},[(Object.prototype.hasOwnProperty.call(_vm.editMode, timeline.id))?_c('button',{staticClass:\"btn btn-edit\",on:{\"click\":function($event){return _vm.toggleEdit(timeline)},\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.toggleEdit(timeline)}}},[_c('cancel-icon')],1):_c('button',{staticClass:\"btn btn-edit\",on:{\"click\":function($event){return _vm.toggleEdit(timeline)}}},[_c('edit-icon')],1)]),_c('div',{staticClass:\"delete\",attrs:{\"title\":\"delete timeline\"}},[(Object.prototype.hasOwnProperty.call(_vm.editMode, timeline.id))?_c('button',{staticClass:\"btn btn-edit\",on:{\"click\":function($event){return _vm.$store.dispatch('requestDeleteTimeline', timeline.id)}}},[_c('delete-icon')],1):_vm._e()]),_c('div',{staticClass:\"save\",attrs:{\"title\":\"save changes\"}},[_c('button',{staticClass:\"btn btn-edit\",on:{\"click\":function($event){return _vm.saveEdit(timeline.id)}}},[(Object.prototype.hasOwnProperty.call(_vm.editMode, timeline.id))?_c('save-icon'):_vm._e()],1)])]),_c('div',{staticClass:\"timeline-card\"},[_c('div',{staticClass:\"content\"},[_c('header',{staticClass:\"title\"},[(!Object.prototype.hasOwnProperty.call(_vm.editMode, timeline.id))?_c('h3',[_c('router-link',{attrs:{\"to\":timeline.id.toString()},domProps:{\"textContent\":_vm._s(timeline.title)}})],1):_c('div',{staticClass:\"title-edit\"},[_c('div',{staticClass:\"label\"},[_vm._v(\"Title\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editMode[timeline.id].title),expression:\"editMode[timeline.id].title\"}],staticClass:\"title-input title\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.editMode[timeline.id].title)},on:{\"keyup\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.toggleEdit(timeline)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.saveEdit(timeline.id)}],\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.editMode[timeline.id], \"title\", $event.target.value)}}})])]),_c('div',{class:{'author': true, 'editmode': Object.prototype.hasOwnProperty.call(_vm.editMode, timeline.id)}},[(!Object.prototype.hasOwnProperty.call(_vm.editMode, timeline.id))?_c('p',[_vm._v(\" Author: \"+_vm._s(timeline.author)+\" \")]):_c('div',{staticClass:\"author-edit\"},[_c('div',{staticClass:\"label\"},[_vm._v(\"Author\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editMode[timeline.id].author),expression:\"editMode[timeline.id].author\"}],staticClass:\"author-input\",attrs:{\"placeholder\":\"CAP User\"},domProps:{\"value\":(_vm.editMode[timeline.id].author)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.toggleEdit(timeline)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.editMode[timeline.id], \"author\", $event.target.value)}}})])]),_c('div',{class:{'description': true, 'editmode': Object.prototype.hasOwnProperty.call(_vm.editMode, timeline.id)}},[(!Object.prototype.hasOwnProperty.call(_vm.editMode, timeline.id))?_c('p',{domProps:{\"textContent\":_vm._s(timeline.description)}}):_c('div',{staticClass:\"description-edit\"},[_c('div',{staticClass:\"label\"},[_vm._v(\"Description\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editMode[timeline.id].description),expression:\"editMode[timeline.id].description\"}],staticClass:\"description-input\",domProps:{\"value\":(_vm.editMode[timeline.id].description)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.toggleEdit(timeline)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.editMode[timeline.id], \"description\", $event.target.value)}}})])])]),_c('aside',[_c('div',{staticClass:\"stat\"},[_c('div',{staticClass:\"label\"},[_vm._v(\"Cases\")]),_c('div',{staticClass:\"case_count value\",domProps:{\"textContent\":_vm._s(timeline.case_count)}})]),_c('div',{staticClass:\"stat\"},[_c('div',{staticClass:\"label\"},[_vm._v(\"Events\")]),_c('div',{staticClass:\"event_count value\",domProps:{\"textContent\":_vm._s(timeline.event_count)}},[_vm._v(\"0\")])])])])])}):_vm._e()],2):_c('section',{staticClass:\"not-logged-in\"},[_vm._v(\" Welcome! To create Chronolawgic timelines, you must \"),_c('a',{attrs:{\"href\":\"../../../user/login\"}},[_vm._v(\"log in\")]),_vm._v(\" to your Caselaw Access Project account. For more information on Chronolawgic, \"),_c('a',{attrs:{\"href\":\"../\"}},[_vm._v(\"click here\")]),_vm._v(\". \")]),_c('br')])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"top-menu\"},[_c('h2',[_c('a',{attrs:{\"href\":\"../../\"}},[_vm._v(\"Labs:\")]),_vm._v(\" Chronolawgic\")]),_c('h5',{staticClass:\"subhead\"},[_vm._v(\"A legal timeline tool.\")])])}]\n\nexport { render, staticRenderFns }","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [\"feather feather-edit\",classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"24\",\"height\":\"24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"d\":\"M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7\"}}),_c('path',{attrs:{\"d\":\"M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z\"}})])\n          )\n        }\n      }\n    ","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [\"feather feather-save\",classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"24\",\"height\":\"24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"d\":\"M19 21H5a2 2 0 01-2-2V5a2 2 0 012-2h11l5 5v11a2 2 0 01-2 2z\"}}),_c('path',{attrs:{\"d\":\"M17 21v-8H7v8M7 3v5h8\"}})])\n          )\n        }\n      }\n    ","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [\"feather feather-x-circle\",classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"24\",\"height\":\"24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('circle',{attrs:{\"cx\":\"12\",\"cy\":\"12\",\"r\":\"10\"}}),_c('path',{attrs:{\"d\":\"M15 9l-6 6M9 9l6 6\"}})])\n          )\n        }\n      }\n    ","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [\"feather feather-trash-2\",classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"24\",\"height\":\"24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"stroke-width\":\"2\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}, attrs),\n              ...rest,\n            },\n            children.concat([_c('path',{attrs:{\"d\":\"M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2M10 11v6M14 11v6\"}})])\n          )\n        }\n      }\n    ","<template>\n  <main class=\"admin\">\n    <div class=\"top-menu\">\n      <h2><a href=\"../../\">Labs:</a> Chronolawgic</h2>\n      <h5 class=\"subhead\">A legal timeline tool.</h5>\n    </div>\n\n    <section id=\"timeline\" v-if=\"this.$store.state.user.is_authenticated === 'True'\">\n      <h6 class=\"timelines-title\" v-if=\"this.$store.state.user.is_authenticated === 'True'\" >Your timelines</h6>\n      <template v-if=\"!this.$store.getters.availableTimelines.length\">\n        <p class=\"welcome\">\n          Welcome to Chronolawgic, the Caselaw Access Project tool for creating caselaw-focused timelines. To\n          create your first timeline, click on the plus sign in the middle of the rectangle below, then click\n          on the <span class=\"inline-icon\"><edit-icon></edit-icon></span> symbol to set a title and description.\n        </p>\n      </template>\n      <div class=\"timeline-assembly add-timeline\">\n        <div class=\"timeline-card\">\n          <button type=\"button\" class=\"btn btn-tertiary\" @click=\"$store.dispatch('requestCreateTimeline')\">\n            <add-icon></add-icon>\n          </button>\n        </div>\n      </div>\n      <template v-if=\"this.$store.getters.availableTimelines.length\">\n        <div class=\"timeline-assembly\" v-for=\"timeline in this.$store.getters.availableTimelines\"\n             v-bind:key=\"timeline.id\">\n          <nav>\n            <div class=\"editcancel\" title=\"edit\">\n              <button v-if=\"Object.prototype.hasOwnProperty.call(editMode, timeline.id)\"\n                      class=\"btn btn-edit\"\n                      @click=\"toggleEdit(timeline)\"\n                      @keyup.esc=\"toggleEdit(timeline)\">\n                <cancel-icon></cancel-icon>\n              </button>\n              <button v-else class=\"btn btn-edit\" @click=\"toggleEdit(timeline)\">\n                <edit-icon></edit-icon>\n              </button>\n            </div>\n            <div class=\"delete\" title=\"delete timeline\">\n              <button class=\"btn btn-edit\"\n                      v-if=\"Object.prototype.hasOwnProperty.call(editMode, timeline.id)\"\n                      @click=\"$store.dispatch('requestDeleteTimeline', timeline.id)\">\n                <delete-icon></delete-icon>\n              </button>\n            </div>\n            <div class=\"save\" title=\"save changes\">\n              <button class=\"btn btn-edit\" @click=\"saveEdit(timeline.id)\">\n                <save-icon\n                    v-if=\"Object.prototype.hasOwnProperty.call(editMode, timeline.id)\"></save-icon>\n              </button>\n            </div>\n          </nav>\n          <div class=\"timeline-card\">\n            <div class=\"content\">\n              <header class=\"title\">\n                <h3 v-if=\"!Object.prototype.hasOwnProperty.call(editMode, timeline.id)\">\n                  <router-link :to=\"timeline.id.toString()\"\n                               v-text=\"timeline.title\">\n                  </router-link>\n                </h3>\n                <div class=\"title-edit\" v-else>\n                  <div class=\"label\">Title</div>\n                  <input type=\"text\" @keyup.esc=\"toggleEdit(timeline)\" @keyup.enter=\"saveEdit(timeline.id)\"\n                         class=\"title-input title\" v-model=\"editMode[timeline.id].title\">\n                </div>\n              </header>\n              <div\n                  :class=\"{'author': true, 'editmode': Object.prototype.hasOwnProperty.call(editMode, timeline.id)}\">\n                <p v-if=\"!Object.prototype.hasOwnProperty.call(editMode, timeline.id)\">\n                  Author: {{ timeline.author }}\n                </p>\n                <div class=\"author-edit\" v-else>\n                  <div class=\"label\">Author</div>\n                  <input class=\"author-input\"\n                         @keyup.esc=\"toggleEdit(timeline)\"\n                         placeholder=\"CAP User\"\n                         v-model=\"editMode[timeline.id].author\">\n                </div>\n              </div>\n              <div\n                  :class=\"{'description': true, 'editmode': Object.prototype.hasOwnProperty.call(editMode, timeline.id)}\">\n                <p v-if=\"!Object.prototype.hasOwnProperty.call(editMode, timeline.id)\"\n                   v-text=\"timeline.description\"></p>\n                <div class=\"description-edit\" v-else>\n                  <div class=\"label\">Description</div>\n                  <textarea class=\"description-input\" @keyup.esc=\"toggleEdit(timeline)\"\n                            v-model=\"editMode[timeline.id].description\"></textarea>\n                </div>\n              </div>\n            </div>\n            <aside>\n              <div class=\"stat\">\n                <div class=\"label\">Cases</div>\n                <div class=\"case_count value\" v-text=\"timeline.case_count\"></div>\n              </div>\n              <div class=\"stat\">\n                <div class=\"label\">Events</div>\n                <div class=\"event_count value\" v-text=\"timeline.event_count\">0</div>\n              </div>\n            </aside>\n          </div>\n        </div>\n      </template>\n    </section>\n    <section class=\"not-logged-in\" v-else>\n      Welcome! To create Chronolawgic timelines, you must\n      <a href=\"../../../user/login\">log in</a> to your Caselaw Access Project account.\n      For more information on Chronolawgic,\n      <a href=\"../\">click here</a>.\n    </section>\n    <br/>\n  </main>\n\n</template>\n\n<script>\nimport AddIcon from '../../../../static/img/icons/plus-circle.svg';\nimport EditIcon from '../../../../static/img/icons/edit.svg';\nimport SaveIcon from '../../../../static/img/icons/save.svg';\nimport CancelIcon from '../../../../static/img/icons/cancel.svg';\nimport DeleteIcon from '../../../../static/img/icons/trash-2.svg';\n\nexport default {\n  name: 'Admin',\n  components: {AddIcon, EditIcon, SaveIcon, CancelIcon, DeleteIcon},\n  data() {\n    return {\n      editMode: {},\n      timelines: {}\n    }\n  },\n  methods: {\n    toggleEdit(timeline) {\n      if (Object.prototype.hasOwnProperty.call(this.editMode, timeline.id)) {\n        this.$delete(this.editMode, timeline.id)\n      } else {\n        this.$set(this.editMode, timeline.id, {});\n        this.$set(this.editMode[timeline.id], 'id', timeline.id);\n        this.$set(this.editMode[timeline.id], 'title', timeline.title);\n        this.$set(this.editMode[timeline.id], 'author', timeline.author);\n        this.$set(this.editMode[timeline.id], 'description', timeline.description);\n      }\n    },\n    saveEdit(id) {\n      if (Object.prototype.hasOwnProperty.call(this.editMode, id)) {\n        this.$store.dispatch('requestUpdateAdmin', this.editMode[id]).then(() => {\n              this.$delete(this.editMode, id);\n              this.$store.dispatch('requestTimelineList');\n            }\n        )\n      }\n    }\n  },\n};\n</script>\n\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./admin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./admin.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./admin.vue?vue&type=template&id=781aeb50&\"\nimport script from \"./admin.vue?vue&type=script&lang=js&\"\nexport * from \"./admin.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main',[(_vm.$store.getters.requestStatus === 'pending')?_c('div',{attrs:{\"id\":\"loading\"}}):_vm._e(),(_vm.$store.getters.notificationMessage)?_c('div',[(_vm.$store.getters.requestStatus !== 'error')?_c('div',{staticClass:\"flash\",attrs:{\"id\":\"success_msg\"}},[_vm._v(\" \"+_vm._s(_vm.$store.getters.notificationMessage)+\" \")]):_vm._e(),(_vm.$store.getters.requestStatus === 'error')?_c('div',{staticClass:\"flash\",attrs:{\"id\":\"error_msg\"}},[_vm._v(\" \"+_vm._s(_vm.$store.getters.notificationMessage)+\" \")]):_vm._e()]):_vm._e(),_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <main>\n      <div v-if=\"$store.getters.requestStatus === 'pending'\" id=\"loading\"></div>\n      <div v-if=\"$store.getters.notificationMessage\">\n          <div class=\"flash\" v-if=\"$store.getters.requestStatus !== 'error'\" id=\"success_msg\">\n              {{$store.getters.notificationMessage}}\n          </div>\n          <div class=\"flash\" v-if=\"$store.getters.requestStatus === 'error'\" id=\"error_msg\">\n              {{$store.getters.notificationMessage}}\n          </div>\n      </div>\n        <router-view>\n\n      </router-view>\n    </main>\n\n</template>\n\n<script>\nimport $ from 'jquery';\nimport {EventBus} from \"./event-bus.js\";\n\nexport default {\n  name: 'Admin',\n  components: {\n  },\n  created() {\n    // hacky hack: we have to stop propagation to stop modal from reopening\n    // and the backdrop therefore remains open\n    EventBus.$on('closeModal', () => {\n      $('.modal-backdrop').remove();\n      $('body').removeClass('modal-open');\n    })\n  }\n};\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./app.vue?vue&type=template&id=441d63a9&\"\nimport script from \"./app.vue?vue&type=script&lang=js&\"\nexport * from \"./app.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport VueRouter from \"vue-router\";\nimport Timeline from './timeline'\nimport Admin from './admin'\nimport App from './app'\nimport store from \"./store\";\n\nVue.config.devtools = true;\nVue.config.productionTip = false;\n\nVue.use(VueRouter);\nexport const router = new VueRouter({\n    mode: 'history',\n    base: 'labs/chronolawgic/timeline/',\n    routes: [\n        {path: '/', component: Admin, name: 'admin'},\n        {path: '/:timeline', component: Timeline, name: 'timeline'},\n        {path: '*', redirect: '/'},\n    ]\n});\nrouter.afterEach((to) => {\n    if (to.name === 'timeline' && to.params.timeline) {\n        store.dispatch('requestTimeline', to.params.timeline);\n    }\n    if (to.name === 'admin') {\n        store.dispatch('requestTimelineList');\n    }\n})\n\nnew Vue({\n    el: '#app',\n    store: store,\n    template: '<App/>',\n    components: {App, Timeline, Admin},\n    router\n});\n"],"sourceRoot":""}