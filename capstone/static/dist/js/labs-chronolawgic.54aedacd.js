(function(t){function e(e){for(var a,o,r=e[0],l=e[1],c=e[2],u=0,h=[];u<r.length;u++)o=r[u],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&h.push(i[o][0]),i[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);d&&d(e);while(h.length)h.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],a=!0,r=1;r<s.length;r++){var l=s[r];0!==i[l]&&(a=!1)}a&&(n.splice(e--,1),t=o(o.s=s[0]))}return t}var a={},i={"labs-chronolawgic":0},n=[];function o(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=a,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(s,a,function(e){return t[e]}.bind(null,a));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/static/dist/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var d=l;n.push([11,"chunk-common"]),s()})({11:function(t,e,s){t.exports=s("6035")},1465:function(t,e,s){},"46c3":function(t,e,s){"use strict";var a=s("1d99"),i=s("7718");t.exports=a("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),i)},6035:function(t,e,s){"use strict";s.r(e),s.d(e,"router",(function(){return xe}));s("0ffc"),s("fd85"),s("15db"),s("c026"),s("4031");var a=s("a4b5"),i=s("4af9"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("main",{ref:"main-app-container",class:{"mobile-event-expanded":t.$store.getters.mobileEventsExpanded},attrs:{id:"main-app"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.handleEscape(e)}}},[s("div",{staticClass:"container-full"},[s("div",{staticClass:"row"},[s("sidebar",{class:{expanded:t.sidebarShown}}),s("div",{class:{expanded:!t.sidebarShown},attrs:{id:"timeline"}},[s("div",{staticClass:"top-menu"},[s("button",{staticClass:"sidebar-toggle",class:{sidebar:t.sidebarShown},attrs:{role:"”button”"},on:{click:function(e){t.sidebarShown=!t.sidebarShown}}},[s("chevron-right")],1),s("header",{class:{"header-section":!0,title:!0,expanded:t.headerExpanded}},[s("h4",{attrs:{id:"timeline-title"},on:{click:function(e){return t.toggleHeader()}}},[t._v(t._s(t.$store.state.title))]),s("div",{attrs:{id:"timeline-author"}},[t._v("By "+t._s(t.$store.state.author))]),t.$store.state.description?s("div",{attrs:{id:"timeline-description"},domProps:{textContent:t._s(t.$store.state.description)},on:{click:function(e){return t.toggleHeader()}}}):t._e()]),s("div",{staticClass:"header-section years"}),s("div",{class:{"header-section":!0,"zoom-section":!0,expanded:t.headerExpanded}},[s("div",{attrs:{id:"zoom-button-container"}},[s("ul",{staticClass:"inline-list toggles"},[t.$store.state.isAuthor||t.$store.state.categories&&t.$store.state.categories.length?s("li",{staticClass:"list-inline-item key",class:{selected:t.keyShown},attrs:{"data-target":"#categories-modal"},on:{click:t.toggleKey}},[s("key-icon")],1):t._e(),s("li",{staticClass:"list-inline-item zoom-toggle zoom-in",class:{selectable:!t.$store.state.minimized},on:{click:function(e){return t.$store.commit("toggleMinimized")}}},[s("minimize-icon")],1),s("li",{staticClass:"list-inline-item zoom-toggle zoom-out",class:{selectable:t.$store.state.minimized},on:{click:function(e){return t.$store.commit("toggleMinimized")}}},[s("maximize-icon")],1)]),t.keyShown?s("categories"):t._e()],1)])]),s("div",{staticClass:"year labels"},[s("div",{staticClass:"incidental",on:{click:function(e){return t.$store.commit("unExpandMobileEvents")}}}),s("div",{staticClass:"year_scale"},[s("div",{staticClass:"label_assembly"},[t.$store.state.isAuthor?s("button",{staticClass:"btn btn-tertiary btn-add-case",attrs:{type:"button",id:"top-add-cases-button","data-toggle":"modal","data-target":"#add-case-modal"},on:{click:function(e){return t.openModal(null,"case")}}},[s("add-icon")],1):t._e(),s("h6",{attrs:{id:"caselaw-label"},on:{click:function(e){return t.$store.commit("unExpandMobileEvents")}}},[t._v("CASELAW")]),s("h6",{attrs:{id:"events-label"},on:{click:function(e){return t.$store.commit("expandMobileEvents")}}},[t._v("EVENTS")]),t.$store.state.isAuthor?s("button",{staticClass:"btn btn-tertiary btn-add-event",attrs:{type:"button",id:"top-add-events-button","data-toggle":"modal","data-target":"#add-event-modal"},on:{click:function(e){return t.openModal(null,"event")}}},[s("add-icon")],1):t._e()])]),s("div",{staticClass:"spans row",on:{click:function(e){return t.$store.commit("expandMobileEvents")}}})]),t._l(t.years,(function(t,e){return s("year",{key:"year_"+e,attrs:{year_data:t,year_value:e}})})),"empty"===t.$store.getters.empty?s("div",{staticClass:"year welcome"},[t.$store.state.isAuthor&&!this.$store.getters.isMobile?s("div",{staticClass:"incidental"},[t._v(" Welcome to your brand new timeline. Start adding content by clicking on the plus sign next to Cases or Events. ")]):t.$store.state.isAuthor&&this.$store.getters.isMobile?s("div",{staticClass:"incidental"},[t._v(" Welcome to your brand new timeline. We have not yet developed authorship mode for mobile devices. Please let us know if you'd like us to prioritize it. ")]):s("div",{staticClass:"incidental"},[t._v("The author of this timeline has not yet added any cases or events.")]),s("div",{staticClass:"year_scale"}),s("div",{staticClass:"spans"})]):t._e()],2)],1)]),t.showCase?s("add-case-modal",{attrs:{"data-toggle":"modal","data-target":"#add-case-modal",modal:t.showCase,case:t.event,shown:t.showCase},on:{"update:modal":function(e){t.showCase=e}}}):t.showEvent?s("add-event-modal",{attrs:{"data-toggle":"modal","data-target":"#add-event-modal",modal:t.showEvent,event:t.event,shown:t.showEvent},on:{"update:modal":function(e){t.showEvent=e}}}):t._e(),t.showReadOnly?s("readonly-modal",{attrs:{"data-toggle":"modal","data-target":"#readonly-modal",modal:t.showReadOnly,event:t.event,shown:t.showReadOnly},on:{"update:modal":function(e){t.showReadOnly=e}}}):t._e()],1)},o=[],r=(s("88f6"),s("932a"),s("0b89"),s("46d4"),s("657c"),s("494a"),s("dddc"),s("862d"),s("2e1a")),l=s("755f"),c={functional:!0,render:function(t,e){var s=e._c,a=(e._v,e.data),i=e.children,n=void 0===i?[]:i,o=a["class"],c=a.staticClass,d=a.style,u=a.staticStyle,h=a.attrs,p=void 0===h?{}:h,m=Object(l["a"])(a,["class","staticClass","style","staticStyle","attrs"]);return s("svg",Object(r["a"])({class:["feather feather-minimize-2",o,c],style:[d,u],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},p)},m),n.concat([s("path",{attrs:{d:"M4 14h6v6M20 10h-6V4M14 10l7-7M3 21l7-7"}})]))}},d={functional:!0,render:function(t,e){var s=e._c,a=(e._v,e.data),i=e.children,n=void 0===i?[]:i,o=a["class"],c=a.staticClass,d=a.style,u=a.staticStyle,h=a.attrs,p=void 0===h?{}:h,m=Object(l["a"])(a,["class","staticClass","style","staticStyle","attrs"]);return s("svg",Object(r["a"])({class:["feather feather-maximize-2",o,c],style:[d,u],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},p)},m),n.concat([s("path",{attrs:{d:"M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"}})]))}},u={functional:!0,render:function(t,e){var s=e._c,a=(e._v,e.data),i=e.children,n=void 0===i?[]:i,o=a["class"],c=a.staticClass,d=a.style,u=a.staticStyle,h=a.attrs,p=void 0===h?{}:h,m=Object(l["a"])(a,["class","staticClass","style","staticStyle","attrs"]);return s("svg",Object(r["a"])({class:["feather feather-plus-circle",o,c],style:[d,u],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},p)},m),n.concat([s("circle",{attrs:{cx:"12",cy:"12",r:"10"}}),s("path",{attrs:{d:"M12 8v8M8 12h8"}})]))}},h={functional:!0,render:function(t,e){var s=e._c,a=(e._v,e.data),i=e.children,n=void 0===i?[]:i,o=a["class"],c=a.staticClass,d=a.style,u=a.staticStyle,h=a.attrs,p=void 0===h?{}:h,m=Object(l["a"])(a,["class","staticClass","style","staticStyle","attrs"]);return s("svg",Object(r["a"])({class:["feather feather-key",o,c],style:[d,u],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},p)},m),n.concat([s("path",{attrs:{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 11-7.778 7.778 5.5 5.5 0 017.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"}})]))}},p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal",attrs:{id:"add-case-modal",tabindex:"-1",role:"dialog"},on:{click:function(t){t.stopPropagation()}}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[this.case&&this.case.name?s("h5",{staticClass:"modal-title"},[t._v(t._s(this.case.name))]):s("h5",{staticClass:"modal-title"},[t._v("ADD CASELAW")]),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:function(e){return e.stopPropagation(),t.closeModal(e)}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),s("div",{staticClass:"modal-body"},[this.case&&"number"===typeof this.case.id?t._e():s("form",{attrs:{id:"form-search-cap"},on:{submit:function(t){t.stopPropagation(),t.preventDefault()}}},[s("h6",[t._v("Search CAP")]),s("div",{attrs:{id:"field-group-search"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchText,expression:"searchText"}],staticClass:"form-control",attrs:{id:"field-search-cap",placeholder:"Enter "+t.extraFields.cap.value},domProps:{value:t.searchText},on:{input:function(e){e.target.composing||(t.searchText=e.target.value)}}}),s("span",[t._v("Search using:")]),s("v-select",{attrs:{options:["Name abbreviation","Citation","Text search"],clearable:!1,placeholder:"search"},model:{value:t.extraFields.cap.value,callback:function(e){t.$set(t.extraFields.cap,"value",e)},expression:"extraFields.cap.value"}}),s("span",{staticClass:"button-container"},[s("search-button",{attrs:{showLoading:t.showLoading}})],1)],1),t.searchResults.length?s("ul",{staticClass:"results-list"},t._l(t.searchResults,(function(e){return s("div",{key:e.id,staticClass:"result-container",class:t.chosenCase.id===e.id?"chosen":"",on:{click:function(s){return t.autofillCase(e)}}},[s("case-result",{attrs:{result:e}})],1)})),0):t._e(),t.showNoSearchResults?s("ul",{staticClass:"results-list"},[s("li",{staticClass:"result-container p-2"},[t._v("No results found")])]):t._e(),s("hr")]),s("form",{attrs:{id:"form-add-case"},on:{submit:function(t){t.stopPropagation()}}},[s("div",{staticClass:"form-label-group",attrs:{id:"field-group-url"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newCase.url,expression:"newCase.url"}],staticClass:"form-control",attrs:{id:"field-url",placeholder:"URL"},domProps:{value:t.newCase.url},on:{input:function(e){e.target.composing||t.$set(t.newCase,"url",e.target.value)}}}),s("label",{attrs:{for:"field-url"}},[t._v("URL")])]),s("div",{staticClass:"form-label-group",attrs:{id:"field-group-citation"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newCase.citation,expression:"newCase.citation"}],staticClass:"form-control",attrs:{id:"field-citation",placeholder:"Citation"},domProps:{value:t.newCase.citation},on:{input:function(e){e.target.composing||t.$set(t.newCase,"citation",e.target.value)}}}),s("label",{attrs:{for:"field-citation"}},[t._v("Citation")])]),s("div",{staticClass:"form-label-group",attrs:{id:"field-group-name"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newCase.name,expression:"newCase.name"}],staticClass:"form-control",attrs:{id:"field-name",placeholder:"Case name",required:""},domProps:{value:t.newCase.name},on:{input:function(e){e.target.composing||t.$set(t.newCase,"name",e.target.value)}}}),s("label",{attrs:{for:"field-name"}},[t._v("Case name")])]),s("div",{staticClass:"form-label-group",attrs:{id:"field-group-short"}},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newCase.short_description,expression:"newCase.short_description"}],staticClass:"form-control",attrs:{id:"field-short-description",placeholder:"SHORT DESCRIPTION"},domProps:{value:t.newCase.short_description},on:{input:function(e){e.target.composing||t.$set(t.newCase,"short_description",e.target.value)}}})]),s("div",{staticClass:"form-label-group",attrs:{id:"field-group-date"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newCase.decision_date,expression:"newCase.decision_date"}],staticClass:"form-control",attrs:{id:"field-decision-date",placeholder:"DECISION DATE",type:"date",required:""},domProps:{value:t.newCase.decision_date},on:{input:function(e){e.target.composing||t.$set(t.newCase,"decision_date",e.target.value)}}}),s("label",{attrs:{for:"field-decision-date"}},[t._v("DECISION DATE")])]),s("div",{staticClass:"form-label-group",attrs:{id:"field-group-long"}},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newCase.long_description,expression:"newCase.long_description"}],staticClass:"form-control",attrs:{id:"field-long-description",placeholder:"LONGER DESCRIPTION"},domProps:{value:t.newCase.long_description},on:{input:function(e){e.target.composing||t.$set(t.newCase,"long_description",e.target.value)}}})]),s("v-select",{attrs:{transition:"",id:"field-group-jurisdiction",label:"jurisdiction",placeholder:"Jurisdiction",options:t.choices.jurisdictions},on:{input:t.chooseJurisdiction},model:{value:t.newCase.jurisdiction,callback:function(e){t.$set(t.newCase,"jurisdiction",e)},expression:"newCase.jurisdiction"}}),s("v-select",{attrs:{transition:"",id:"field-group-court",label:"courtName",placeholder:"Court",options:t.choices.courts},model:{value:t.newCase.court,callback:function(e){t.$set(t.newCase,"court",e)},expression:"newCase.court"}}),s("v-select",{staticClass:"color-dropdown",attrs:{transition:"",label:"color",placeholder:"Border color",filterable:!1,clearable:!1,options:t.colors},on:{input:t.setSelected},scopedSlots:t._u([{key:"selected-option",fn:function(e){var a=e.color;return[s("span",{staticClass:"color-square",style:{backgroundColor:a}},[t._v(" "+t._s(a)+" ")])]}},{key:"option",fn:function(e){var a=e.color;return[s("span",{staticClass:"color-square",style:{backgroundColor:a}},[t._v(" "+t._s(a)+" ")])]}}]),model:{value:t.newCase.color,callback:function(e){t.$set(t.newCase,"color",e)},expression:"newCase.color"}}),s("v-select",{attrs:{multiple:"",id:"field-group-categories",filterable:!1,transition:"",label:"name",placeholder:"Categories",options:t.$store.state.categories},scopedSlots:t._u([{key:"selected-option",fn:function(e){var a=e.color,i=e.shape,n=e.name;return[s("shape-component",{attrs:{width:20,color:a,shapetype:i}}),s("span",{domProps:{textContent:t._s(n)}})]}},{key:"option",fn:function(e){var a=e.color,i=e.shape,n=e.name;return[s("shape-component",{attrs:{width:28,color:a,shapetype:i}}),s("span",{domProps:{textContent:t._s(n)}})]}}]),model:{value:t.newCase.categories,callback:function(e){t.$set(t.newCase,"categories",e)},expression:"newCase.categories"}})],1),t.errors.length?s("div",{staticClass:"form-errors p-2 mt-2 small"},[s("b",[t._v("Please correct the following error(s):")]),s("ul",{staticClass:"m-0 list-inline"},t._l(t.errors,(function(e){return s("li",{key:e,staticClass:"list-inline-item"},[t._v(t._s(e))])})),0)]):t._e()]),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-tertiary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return e.stopPropagation(),t.closeModal(e)}}},[t._v(" Cancel ")]),this.case&&this.case.name?[s("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.deleteCase}},[t._v(" Delete ")]),s("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return e.stopPropagation(),t.updateCase(e)}}},[t._v(" Update ")])]:[s("button",{staticClass:"btn btn-primary btn-highlight",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return e.stopPropagation(),t.addCase(e)}}},[t._v(" ADD ")])]],2)])])])},m=[],v=(s("22f4"),s("966c"),s("241c"),s("32ec"),s("e0d3"),s("5a85"),s("6991"),s("534d"),s("f432"),s("7338")),f=s.n(v),g=(s("9588"),s("2252"),s("68e1"),s("5e5b"),s("f542"),s("cbcf"),s("4a00"),s("e124"),s("94ea"));f.a.defaults.xsrfHeaderName="X-CSRFTOKEN",f.a.defaults.xsrfCookieName="csrftoken";var C=urls,y=choices,_=user;y.colors=["#00db67","#ccff6d","#dbc600","#db8f00","#ff8e7a","#ff736c","#e5435c","#986d81","#7e84ff","#3656f6","#2f2f2f","#3e667a","#00b7db","#c4c4c4"];for(var b=[],w=0;w<y.jurisdictions.length;w++)b.push(y.jurisdictions[w][1]);y.jurisdictions=b;for(var k=[],E=0;E<y.courts.length;E++)k.push({slug:y.courts[E][0],courtName:y.courts[E][1]});function x(t){return t&&Object.prototype.hasOwnProperty.call(t,"response")&&Object.prototype.hasOwnProperty.call(t.response,"data")&&Object.prototype.hasOwnProperty.call(t.response.data,"reason")?Object.prototype.hasOwnProperty.call(t.response.data,"details")?t.response.data.reason+": "+t.response.data.details:t.response.data.reason:t}y.courts=k,a["default"].use(g["a"]);var M=new g["a"].Store({state:{mobileEventsExpanded:!1,breakPoint:"lg",user:_,choices:y,requestStatus:"nominal",notificationMessage:null,urls:{chronolawgic_api_create:C.chronolawgic_api_create,chronolawgic_api_retrieve:C.chronolawgic_api_retrieve,chronolawgic_api_update:C.chronolawgic_api_update,chronolawgic_api_delete:C.chronolawgic_api_delete,chronolawgic_api_update_admin:C.chronolawgic_api_update_admin,chronolawgic_api_create_h2o:C.chronolawgic_api_create_h2o,static:C["static"],api_root:C.api_root},availableTimelines:[],minimized:!0,id:1,title:"",description:"",createdBy:-1,isAuthor:!1,author:"",categories:[],events:[],cases:[],stats:[],firstYear:1900,lastYear:2e3,templateEvent:{name:"",short_description:"",long_description:"",start_date:"",end_date:"",url:"",color:""},templateCase:{url:"",name:"",citation:"",short_description:"",long_description:"",jurisdiction:"",reporter:"",decision_date:"",categories:[],color:""},templateCategory:{name:"",shape:"",color:""},missingCases:{}},mutations:{expandMobileEvents:function(t){t.mobileEventsExpanded=!0},setBreakPoint:function(t,e){t.breakPoint=e},unExpandMobileEvents:function(t){t.mobileEventsExpanded=!1},toggleMinimized:function(t){t.minimized=!t.minimized},setAvailableTimelines:function(t,e){t.availableTimelines=e},setTimeline:function(t,e){t.title=e.title,t.author=e.author?e.author:"CAP User",t.description=e.description,t.categories=e.categories,t.events=e.events,t.cases=e.cases},setTimelineId:function(t,e){t.id=e},setCreatedBy:function(t,e){t.createdBy=e},setAuthor:function(t,e){t.isAuthor=e},setCategories:function(t,e){t.categories=e},setStats:function(t,e){t.stats=e},setFirstYear:function(t,e){t.firstYear=e},setLastYear:function(t,e){t.lastYear=e},setRequestStatus:function(t,e){t.requestStatus=e},setRequestStatusTerminal:function(t,e){t.requestStatus=e,setTimeout((function(){t.requestStatus="nominal"}),5e3)},setNotificationMessage:function(t,e){t.notificationMessage=e,setTimeout((function(){t.notificationMessage=null}),5e3)},addEvent:function(t,e){e.id=this.generateUUID(),t.events.push(e),this.dispatch("requestUpdateTimeline")},addCase:function(t,e){e.id=this.generateUUID(),t.cases.push(e),this.dispatch("requestUpdateTimeline")},updateEvent:function(t,e){for(var s=0;s<t.events.length;s++)if(t.events[s].id===e.id){t.events[s]=e,this.dispatch("requestUpdateTimeline");break}},updateCase:function(t,e){for(var s=0;s<t.cases.length;s++)if(t.cases[s].id===e.id){t.cases[s]=e,this.dispatch("requestUpdateTimeline");break}},deleteEvent:function(t,e){for(var s=-1,a=0;a<t.events.length;a++)if(t.events[a].id===e){s=a;break}t.events.splice(s,1),this.dispatch("requestUpdateTimeline")},deleteCase:function(t,e){for(var s=-1,a=0;a<t.cases.length;a++)if(t.cases[a].id===e){s=a;break}t.cases.splice(s,1),this.dispatch("requestUpdateTimeline")},saveCategories:function(t,e){t.categories=e;for(var s=0;s<t.categories.length;s++)t.categories[s].id||(t.categories[s].id=M.generateUUID());this.dispatch("requestUpdateTimeline")},setMissingCases:function(t,e){t.missingCases=e}},getters:{breakPoint:function(t){return t.breakPoint},isMobile:function(t){return"xs"===t.breakPoint||"sm"===t.breakPoint},mobileEventsExpanded:function(t){return t.mobileEventsExpanded},minimized:function(t){return t.minimized},cases:function(t){return t.cases},choices:function(t){return t.choices},availableTimelines:function(t){return t.availableTimelines},id:function(t){return t.id},requestStatus:function(t){return t.requestStatus},notificationMessage:function(t){return t.notificationMessage},templateEvent:function(t){return t.templateEvent},templateCase:function(t){return t.templateCase},templateCategory:function(t){return t.templateCategory},empty:function(t){return"pending"===t.requestStatus?"pending":Object.prototype.hasOwnProperty.call(t,"events")||Object.prototype.hasOwnProperty.call(t,"events")?Object.prototype.hasOwnProperty.call(t,"events")?Object.prototype.hasOwnProperty.call(t,"cases")?t.events.length+t.cases.length===0?"empty":"populated":0===t.events.length?"empty":"populated":0===t.cases.length?"empty":"populated":"empty"},firstYear:function(t){return t.firstYear},lastYear:function(t){return t.lastYear},events:function(t){return t.events.sort((function(t,e){return t.start_date>e.start_date?1:-1}))},eventByStartYear:function(t){return function(e){return t.events.filter((function(t){return new Date(t.start_date).getUTCFullYear()===e}))}},casesByYear:function(t){return function(e){return t.cases.filter((function(t){return e===new Date(t.decision_date).getUTCFullYear()}))}},timeline:function(t){return{title:t.title,author:t.author,events:t.events,cases:t.cases,categories:t.categories,description:t.description}},categories:function(t){return t.categories},category:function(t){return function(e){return t.categories.find((function(t){return t.id===e}))}},randomColor:function(t){return t.colors[Math.floor(Math.random()*t.colors.length)]},stats:function(t){return t.stats},missingCases:function(t){return t.missingCases}},actions:{requestCreateTimeline:function(t){var e=this,s=t.commit;s("setRequestStatus","pending"),f.a.post(this.state.urls.chronolawgic_api_create).then((function(t){return t.data})).then((function(t){"ok"===t.status&&e.dispatch("requestTimelineList")})).then((function(){s("setRequestStatusTerminal","success"),s("setNotificationMessage","Timeline Created")}))["catch"]((function(t){s("setRequestStatusTerminal","error"),s("setNotificationMessage","error creating timeline: "+x(t))}))},requestDeleteTimeline:function(t,e){var s=this,a=t.commit;a("setRequestStatus","pending"),f.a["delete"](this.state.urls.chronolawgic_api_delete+e).then((function(t){return t.data})).then((function(t){"ok"===t.status&&s.dispatch("requestTimelineList")})).then((function(){a("setRequestStatusTerminal","success"),a("setNotificationMessage","Timeline Deleted")}))["catch"]((function(t){a("setRequestStatusTerminal","error"),a("setNotificationMessage","error deleting timeline: "+x(t))}))},requestUpdateTimeline:function(t){var e=t.commit;e("setRequestStatus","pending");var s=JSON.stringify({timeline:this.getters.timeline});f.a.post(this.state.urls.chronolawgic_api_update+this.state.id,s,{headers:{"Content-Type":"application/json"}}).then((function(t){return t.data})).then((function(){e("setRequestStatusTerminal","success"),e("setNotificationMessage","Timeline Saved")}))["catch"]((function(t){e("setRequestStatusTerminal","error"),e("setNotificationMessage","error updating timeline: "+x(t))}))},requestTimeline:function(t,e){var s=t.commit;s("setTimelineId",""),s("setTimeline",{title:""}),s("setRequestStatus","pending"),f.a.get(this.state.urls.chronolawgic_api_retrieve+e).then((function(t){return t.data})).then((function(t){"ok"===t.status&&(s("setTimelineId",t["id"]),s("setTimeline",t["timeline"]),s("setCreatedBy",t["created_by"]),s("setAuthor",t["is_owner"]),s("setStats",t["stats"]),s("setFirstYear",t["first_year"]),s("setLastYear",t["last_year"]))})).then((function(){s("setRequestStatusTerminal","success")}))["catch"]((function(t){s("setRequestStatusTerminal","error"),s("setNotificationMessage","error retrieving timeline: "+x(t))}))},requestTimelineList:function(t){var e=t.commit;e("setRequestStatus","pending"),f.a.get(this.state.urls.chronolawgic_api_retrieve).then((function(t){return t.data})).then((function(t){"ok"===t.status&&e("setAvailableTimelines",t["timelines"])})).then((function(){e("setRequestStatusTerminal","success")}))["catch"]((function(t){e("setRequestStatusTerminal","error"),e("setNotificationMessage","error retrieving timeline list: "+x(t))}))},requestUpdateAdmin:function(t,e){var s=t.commit;s("setRequestStatus","pending");var a=e.author.trim(),i=JSON.stringify({title:e.title,author:a||"CAP User",description:e.description});return f.a.post(this.state.urls.chronolawgic_api_update_admin+e.id,i,{headers:{"Content-Type":"application/json"}}).then((function(t){return t.data})).then((function(){s("setRequestStatusTerminal","success"),s("setNotificationMessage","Change Saved")}))["catch"]((function(t){s("setRequestStatusTerminal","error"),s("setNotificationMessage","error updating timeline: "+x(t))}))},requestCreateH2OTimeline:function(t,e){var s=this,a=t.commit,i=JSON.stringify(e);return f.a.post(this.state.urls.chronolawgic_api_create_h2o,i,{headers:{"Content-Type":"application/json"}}).then((function(t){return t.data})).then((function(t){return"ok"===t.status&&s.dispatch("requestTimelineList"),a("setRequestStatusTerminal","success"),a("setNotificationMessage","Timeline Created"),t}))["catch"]((function(t){return a("setRequestStatusTerminal","error"),a("setNotificationMessage","error creating timeline: "+x(t)),t}))}}});M.generateUUID=function(){return"xxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0,s="x"===t?e:3&e|8;return s.toString(16)}))};var O,$,S=M,T=s("39e2"),j=s.n(T),L=s("6104"),P=s("15f7"),R=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("svg",{attrs:{width:t.width,height:t.height,viewBox:"0 0 80 80","aria-labelledby":t.shapetype,fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[s("title",{attrs:{lang:"en"},domProps:{textContent:t._s(t.title||t.shapetype+" icon")}}),"circle"===t.shapetype?[s("circle",{attrs:{cx:"33",cy:"40",r:"33",fill:t.color}})]:"polygon1"===t.shapetype?[s("path",{attrs:{d:"M32.3588 2.55166C36.9151 -0.758709 43.0849 -0.758709 47.6412 2.55166L74.2053 21.8516C78.7616 25.162 80.6682 31.0297 78.9278 36.386L68.7812 67.614C67.0409 72.9703 62.0494 76.5967 56.4175 76.5967H23.5825C17.9506 76.5967 12.9591 72.9703 11.2188 67.614L1.0722 36.386C-0.668168 31.0297 1.23839 25.162 5.79472 21.8516L32.3588 2.55166Z",fill:t.color}})]:"polygon2"===t.shapetype?[s("path",{attrs:{d:"M28.5 1.75278C32.5222 -0.569449 37.4778 -0.56945 41.5 1.75278L63.141 14.2472C67.1632 16.5694 69.641 20.8611 69.641 25.5056V50.4944C69.641 55.1389 67.1632 59.4306 63.141 61.7528L41.5 74.2472C37.4778 76.5694 32.5222 76.5694 28.5 74.2472L6.85898 61.7528C2.83677 59.4306 0.358982 55.1389 0.358982 50.4944V25.5056C0.358982 20.8611 2.83677 16.5694 6.85898 14.2472L28.5 1.75278Z",fill:t.color}})]:"rhombus"===t.shapetype?[s("path",{attrs:{d:"M33.636 3.36396C37.1508 -0.150754 42.8492 -0.150758 46.364 3.36396L76.636 33.636C80.1508 37.1508 80.1508 42.8492 76.636 46.364L46.364 76.636C42.8492 80.1508 37.1508 80.1508 33.636 76.636L3.36396 46.364C-0.150754 42.8492 -0.150758 37.1508 3.36396 33.636L33.636 3.36396Z",fill:t.color}})]:"triangle"===t.shapetype?[s("path",{attrs:{d:"M35.1362 4.5C38.6003 -1.5 47.2606 -1.5 50.7247 4.5L84.0666 62.25C87.5307 68.25 83.2006 75.75 76.2724 75.75H9.58846C2.66025 75.75 -1.66987 68.25 1.79423 62.25L35.1362 4.5Z",fill:t.color}})]:t._e()],2)},U=[],N={name:"shape-component",props:["shapetype","color","width","title"],data:function(){return{height:30,ratios:{circle:1,rhombus:.8,polygon1:.85,polygon2:.9,triangle:.7,rectangle:1}}},mounted:function(){this.height=this.width*this.ratios[this.shapetype]}},A=N,D=s("a6c2"),q=Object(D["a"])(A,R,U,!1,null,null,null),I=q.exports,Y={name:"add-case-modal",components:{vSelect:j.a,CaseResult:L["default"],SearchButton:P["a"],ShapeComponent:I},props:["shown","modal","case"],data:function(){return{choices:{},searchResults:[],showNoSearchResults:!1,searchText:"",chosenCase:{},newCase:{},errors:[],colors:[],extraFields:{cap:{name:"search by",label:"Name abbreviation",value:"Name abbreviation"}},showLoading:!1,categories:[]}},methods:{checkForm:function(){this.errors=[],this.newCase.name||this.errors.push("Case name is required."),this.newCase.decision_date||this.errors.push("Decision date is required."),this.newCase.url&&!this.checkUrl(this.newCase.url)&&(!/^https?:\/\//i.test(this.newCase.url)&&this.checkUrl("https://"+this.newCase.url)?this.newCase.url="https://"+this.newCase.url:this.errors.push("URL is not valid."))},closeModal:function(){this.$parent.closeModal(),this.$parent.repopulateTimeline(),this.setupCase()},updateCase:function(){if(this.checkForm(),!this.errors.length){var t=this.unbind(this.newCase);t.jurisdiction||(t.jurisdiction=""),t.court||(t.court=""),t.categories=t.categories.map((function(t){return t.id})),S.commit("updateCase",t),this.closeModal()}},addCase:function(){if(this.checkForm(),!this.errors.length){var t=this.unbind(this.newCase);t.categories=t.categories.map((function(t){return t.id})),S.commit("addCase",t),this.closeModal()}},deleteCase:function(){S.commit("deleteCase",this["case"].id),this.closeModal()},chooseCase:function(t){this.chosenCase=t},setSelected:function(t){this.newCase.color=t},formatDate:function(t){var e=t.split("-"),s=e[0],a=3===e.length?e[2]:"01",i=e.length>=2?e[1]:"01";return s+"-"+i+"-"+a},autofillCase:function(t){this.chosenCase=t,this.newCase.name=this.chosenCase.name_abbreviation,this.newCase.citation=this.chosenCase.citations[0].cite,this.newCase.url=this.chosenCase.frontend_url,this.newCase.decision_date=this.formatDate(this.chosenCase.decision_date),this.newCase.jurisdiction=this.chosenCase.jurisdiction.name_long,this.newCase.court=this.chosenCase.court.name},searchCAP:function(){var t=this;if(this.showNoSearchResults=!1,this.searchText){var e;this.showLoading=!0,e="Citation"===this.extraFields.cap.value?"cite":"Name abbreviation"===this.extraFields.cap.value?"name_abbreviation":"search";var s=S.state.urls.api_root+"cases?"+e+"="+this.searchText;f.a.get(s).then((function(t){return t.data})).then((function(e){t.searchResults=e.results,0===t.searchResults.length&&(t.showNoSearchResults=!0),t.showLoading=!1}))}},valueUpdated:function(){this.searchCAP()},clearContent:function(){this.closeModal(),this.setupCase()},unbind:function(t){return JSON.parse(JSON.stringify(t))},hydrateCategories:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=[],s=0;s<t.length;s++){var a=S.getters.category(t[s]);a&&e.push(a)}return e},setupCase:function(t){this.newCase=t?this.unbind(this["case"]):this.unbind(S.getters.templateCase),this.newCase.categories=this.hydrateCategories(this.newCase.categories)},chooseJurisdiction:function(t){t&&(this.newCase.jurisdiction=t),this.newCase=this.unbind(this.newCase)},chooseCourt:function(t){t&&(this.newCase.court=t.courtName),this.newCase=this.unbind(this.newCase)},checkUrl:function(t){try{new URL(t)}catch(e){return!1}return t.includes(".")}},watch:{case:function(t){this.setupCase(t)}},beforeMount:function(){this.colors=S.getters.choices.colors,this.choices=S.getters.choices,this.categories=S.getters.categories,this.setupCase(this["case"])}},F=Y,z=Object(D["a"])(F,p,m,!1,null,null,null),H=z.exports,B=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal",attrs:{id:"add-event-modal",tabindex:"-1",role:"dialog"},on:{click:function(t){t.stopPropagation()}}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[this.event&&this.event.name?s("h5",{staticClass:"modal-title"},[t._v(t._s(this.event.name))]):s("h5",{staticClass:"modal-title"},[t._v("ADD EVENT")]),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:function(e){return e.stopPropagation(),t.closeModal(e)}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),s("div",{staticClass:"modal-body"},[s("form",{on:{click:function(t){t.stopPropagation(),t.preventDefault()},submit:function(e){return e.preventDefault(),t.addEvent(e)}}},[s("div",{staticClass:"form-label-group",attrs:{id:"field-group-name"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newEvent.name,expression:"newEvent.name"}],staticClass:"form-control",attrs:{id:"field-event-name",placeholder:"NAME",required:""},domProps:{value:t.newEvent.name},on:{input:function(e){e.target.composing||t.$set(t.newEvent,"name",e.target.value)}}}),s("label",{attrs:{for:"field-event-name"}},[t._v("EVENT NAME")])]),s("div",{staticClass:"form-label-group",attrs:{id:"field-group-url"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newEvent.url,expression:"newEvent.url"}],staticClass:"form-control",attrs:{id:"field-event-url",placeholder:"URL"},domProps:{value:t.newEvent.url},on:{input:function(e){e.target.composing||t.$set(t.newEvent,"url",e.target.value)}}}),s("label",{attrs:{for:"field-event-url"}},[t._v("SOURCE URL")])]),s("div",{staticClass:"form-label-group",attrs:{id:"field-group-short-description"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newEvent.short_description,expression:"newEvent.short_description"}],staticClass:"form-control",attrs:{id:"field-event-short-description",placeholder:"SHORT DESCRIPTION"},domProps:{value:t.newEvent.short_description},on:{input:function(e){e.target.composing||t.$set(t.newEvent,"short_description",e.target.value)}}}),s("label",{attrs:{for:"field-event-short-description"}},[t._v("SHORT DESCRIPTION")])]),s("div",{staticClass:"form-label-group",attrs:{id:"field-group-start-date"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newEvent.start_date,expression:"newEvent.start_date"}],staticClass:"form-control",attrs:{id:"field-event-start-date",placeholder:"DECISION DATE",type:"date",required:""},domProps:{value:t.newEvent.start_date},on:{input:function(e){e.target.composing||t.$set(t.newEvent,"start_date",e.target.value)}}}),s("label",{attrs:{for:"field-event-start-date"}},[t._v("START DATE")])]),s("div",{staticClass:"form-label-group",attrs:{id:"field-group-long-description"}},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newEvent.long_description,expression:"newEvent.long_description"}],staticClass:"form-control",attrs:{id:"field-event-long-description",placeholder:"LONGER DESCRIPTION"},domProps:{value:t.newEvent.long_description},on:{input:function(e){e.target.composing||t.$set(t.newEvent,"long_description",e.target.value)}}})]),s("div",{staticClass:"form-label-group",attrs:{id:"field-group-end-date"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newEvent.end_date,expression:"newEvent.end_date"}],staticClass:"form-control",attrs:{id:"field-event-end-date",placeholder:"DECISION DATE",type:"date"},domProps:{value:t.newEvent.end_date},on:{input:function(e){e.target.composing||t.$set(t.newEvent,"end_date",e.target.value)}}}),s("label",{attrs:{for:"field-event-start-date"}},[t._v("END DATE")])]),s("v-select",{staticClass:"color-dropdown",attrs:{transition:"",label:"color",filterable:!1,clearable:!1,options:t.colors},on:{input:t.setSelected},scopedSlots:t._u([{key:"selected-option",fn:function(e){var a=e.color;return[t._v(" color: "),s("span",{staticClass:"color-square",style:{backgroundColor:a}},[t._v(" "+t._s(a)+" ")])]}},{key:"option",fn:function(e){var a=e.color;return[s("span",{staticClass:"color-square",style:{backgroundColor:a}},[t._v(" "+t._s(a)+" ")])]}}]),model:{value:t.newEvent.color,callback:function(e){t.$set(t.newEvent,"color",e)},expression:"newEvent.color"}})],1),t.errors.length?s("div",{staticClass:"form-errors p-2 mt-2 small"},[s("b",[t._v("Please correct the following error(s):")]),s("ul",{staticClass:"m-0 list-inline"},t._l(t.errors,(function(e){return s("li",{key:e,staticClass:"list-inline-item"},[t._v(t._s(e))])})),0)]):t._e()]),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-tertiary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return e.stopPropagation(),t.closeModal(e)}}},[t._v(" Cancel ")]),this.event&&this.event.id?[s("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.deleteEvent}},[t._v(" Delete ")]),s("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return e.stopPropagation(),t.updateEvent(e)}}},[t._v(" Update ")])]:t._e(),this.event&&this.event.name?t._e():[s("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":t.$parent.showEvent?"none":"modal"},on:{click:function(e){return e.stopPropagation(),t.addEvent(e)}}},[t._v("ADD ")])]],2)])])])},W=[],J=(s("1465"),{name:"add-event-modal",props:["shown","modal","event"],components:{vSelect:j.a},data:function(){return{colors:[],newEvent:{},errors:[]}},methods:{getRandomColor:function(){return this.colors[Math.floor(Math.random()*this.colors.length)]},clearContent:function(){this.newEvent=S.getters.templateEvent},checkForm:function(){this.errors=[],this.newEvent.name||this.errors.push("Event name is required."),this.newEvent.start_date||this.errors.push("Start date is required."),this.newEvent.end_date||this.errors.push("End date is required."),new Date(this.newEvent.end_date)-new Date(this.newEvent.start_date)<0&&this.errors.push("Start date must be earlier than end date."),this.newEvent.url&&!this.checkUrl(this.newEvent.url)&&(!/^https?:\/\//i.test(this.newEvent.url)&&this.checkUrl("https://"+this.newEvent.url)?this.newEvent.url="https://"+this.newEvent.url:this.errors.push("URL is not valid."))},closeModal:function(){this.$parent.closeModal(),this.$parent.repopulateTimeline(),this.setupEvent()},addEvent:function(){this.checkForm(),this.errors.length||(S.commit("addEvent",this.newEvent),this.closeModal())},deleteEvent:function(){S.commit("deleteEvent",this.event.id),this.closeModal()},updateEvent:function(){if(this.checkForm(),!this.errors.length){var t=this.unbind(this.newEvent);S.commit("updateEvent",t),this.closeModal()}},unbind:function(t){return JSON.parse(JSON.stringify(t))},setupEvent:function(t){this.newEvent=t?this.unbind(this.event):this.unbind(S.getters.templateEvent),this.newEvent.color||(this.newEvent.color=this.getRandomColor())},setSelected:function(t){this.newEvent.color=t,this.newEvent=this.unbind(this.newEvent)},checkUrl:function(t){try{new URL(t)}catch(e){return!1}return t.includes(".")}},watch:{event:function(t){this.setupEvent(t)}},mounted:function(){this.colors=S.getters.choices.colors,this.setupEvent(this.event)}}),V=J,K=Object(D["a"])(V,B,W,!1,null,null,null),Z=K.exports,G=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal",attrs:{id:"readonly-modal",tabindex:"-1",role:"dialog"},on:{click:function(t){t.stopPropagation()}}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title"},[t._v(t._s(t.event.name))]),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:function(e){return e.stopPropagation(),t.closeModal(e)}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),s("div",{staticClass:"modal-body"},[s("article",{staticClass:"info"},[t.categories&&t.categories.length?s("p",[s("span",{staticClass:"label"},[t._v("Categories: ")]),s("ul",{staticClass:"list-inline"},t._l(t.categories,(function(e){return s("li",{key:e.id,staticClass:"list-inline-item"},[s("shape-component",{attrs:{width:24,color:e.color,shapetype:e.shape}}),s("span",{staticClass:"category-name",domProps:{textContent:t._s(e.name)}})],1)})),0)]):t._e(),t.event.url?s("p",[s("span",{staticClass:"label"},[t._v("Source: ")]),s("a",{attrs:{href:t.event.url,target:"_blank"}},[t._v(t._s(t.domain))])]):t._e(),t.event.citation?s("p",[s("span",{staticClass:"label"},[t._v("Citation: ")]),t._v(" "+t._s(t.event.citation)+" ")]):t._e(),t.event.decision_date?s("p",[s("span",{staticClass:"label"},[t._v("Decision date: ")]),t._v(" "+t._s(t.event.decision_date)+" ")]):t._e(),t.event.start_date?s("p",[s("span",{staticClass:"label"},[t._v("Start date: ")]),t._v(" "+t._s(t.event.start_date)+" ")]):t._e(),t.event.end_date?s("p",[s("span",{staticClass:"label"},[t._v("End date: ")]),t._v(" "+t._s(t.event.end_date)+" ")]):t._e(),t.event.short_description?s("p",{staticClass:"short-description"},[t._v(" "+t._s(t.event.short_description)+" ")]):t._e()]),t.event.short_description&&t.event.long_description?s("hr"):t._e(),t.event.long_description?s("div",{staticClass:"long-description"},t._l(t.event.long_description.split("\n"),(function(e,a){return s("p",{key:a},[t._v(" "+t._s(e)+" ")])})),0):t._e()]),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-tertiary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return e.stopPropagation(),t.closeModal(e)}}},[t._v(" Close ")])])])])])},X=[],Q={name:"readonly-modal",props:["modal","event","shown"],components:{ShapeComponent:I},data:function(){return{domain:"",categories:[]}},watch:{event:{handler:function(t){this.event.categories=t.categories,this.hydrateCategories()},deep:!0}},methods:{closeModal:function(){this.$parent.closeModal()},hydrateCategories:function(){var t=this;if(this.categories=[],this.event.categories)for(var e=function(e){t.categories.push(S.getters.categories.find((function(s){return s.id===t.event.categories[e]})))},s=0;s<this.event.categories.length;s++)e(s)}},mounted:function(){if(this.event.url){var t=new URL(this.event.url);this.domain=t.hostname}this.hydrateCategories()}},tt=Q,et=Object(D["a"])(tt,G,X,!1,null,"a7be94bc",null),st=et.exports,at=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.year_data.involvesAnyItem||!t.$store.getters.minimized?s("div",{ref:t.year_value,staticClass:"year",class:{no_content_year:t.noContent,cases_only_year:t.casesWithoutEvents,events_only_year:t.eventsWithoutCases,cases_and_events_year:t.casesAndEvents},attrs:{"aria-label":t.year_value},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.clearPreviewEvent(e)}}},[t.$store.getters.isMobile&&t.$store.getters.mobileEventsExpanded?s("div",{staticClass:"incidental",on:{click:function(e){return t.$store.commit("unExpandMobileEvents")}}},[t.year_data.case_list.length>0?s("div",{staticClass:"case_placeholder"},[s("more-horizontal"),s("span",{staticClass:"case_count"},[t._v(t._s(t.year_data.case_list.length))])],1):t._e()]):s("div",{staticClass:"incidental"},t._l(t.year_data.case_list,(function(e){return s("case",{key:e.id,attrs:{year_value:t.year_value,case_data:e}})})),1),t.$store.getters.isMobile?s("div",{staticClass:"year_scale"},[s("div",{staticClass:"simple-mobile-year-label"},[t._v(t._s(t.year_value))])]):s("div",{staticClass:"year_scale"},[s("year-label",{attrs:{year:t.year_value}})],1),s("TimeLineSlice",{attrs:{event_list:t.year_data.event_list,year_value:t.year_value}})],1):t.year_data.firstYearNoNewItems&&!t.year_data.involvesAnyItem&&t.$store.getters.minimized?s("div",{staticClass:"year placeholder"},[s("div",{staticClass:"incidental",on:{click:function(e){return t.$store.commit("unExpandMobileEvents")}}}),s("div",{staticClass:"year_scale",on:{click:function(e){return t.$store.commit("toggleMinimized")}}},[s("more-vertical")],1),s("div",{staticClass:"spans",on:{click:function(e){return t.$store.commit("expandMobileEvents")}}})]):t._e()},it=[],nt=(s("c770"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"spans row",on:{click:function(e){return t.$store.commit("expandMobileEvents")}}},t._l(t.event_list,(function(e,a){return s("div",{key:t.year_value+a,class:["event_col","ec_"+(a+1),"col-1","e"+t.year_value],attrs:{title:e.name}},[t.$store.getters.isMobile&&!t.$store.getters.mobileEventsExpanded?[Object.keys(e).length>0?s("div",{class:{fill:!0,"first-event-year":parseInt(t.year_value)===new Date(e.start_date).getUTCFullYear(),"last-event-year":parseInt(t.year_value)===new Date(e.end_date).getUTCFullYear(),"light-color":t.checkIfLight(e.color)},style:{"background-color":e.color,"border-bottom":parseInt(t.year_value)===new Date(e.end_date).getUTCFullYear()?"1rem solid gray":"","min-height":"1rem"},attrs:{tabindex:parseInt(t.year_value)===new Date(e.start_date).getUTCFullYear()?"0":"-1"},on:{click:function(e){return t.$store.commit("expandMobileEvents")}}}):t._e()]:[Object.keys(e).length>0?s("button",{ref:t.fillRefGenerator(e,t.year_value),refInFor:!0,class:{fill:!0,"first-event-year":parseInt(t.year_value)===new Date(e.start_date).getUTCFullYear(),"last-event-year":parseInt(t.year_value)===new Date(e.end_date).getUTCFullYear(),"light-color":t.checkIfLight(e.color)},style:{"background-color":e.color,"border-bottom":parseInt(t.year_value)===new Date(e.end_date).getUTCFullYear()?"1rem solid gray":"","min-height":"1rem"},attrs:{tabindex:parseInt(t.year_value)===new Date(e.start_date).getUTCFullYear()?"0":"-1","data-toggle":"modal","data-target":t.dataTarget,"data-event-fill":e.id},on:{click:function(s){return t.openModal(e)}}},[parseInt(t.year_value)===new Date(e.start_date).getUTCFullYear()?s("div",{ref:"event-label"+e.id,refInFor:!0,staticClass:"event_label",style:{width:t.setLabelWidth(e.end_date,e.start_date)},domProps:{textContent:t._s(e.name)}}):t._e()]):t._e()]],2)})),0)}),ot=[],rt=(s("b902"),s("c8f2"),{name:"TimelineSlice",props:["year_value","event_list"],computed:{dataTarget:function(){return S.getters.isMobile||!S.state.isAuthor?"#readonly-modal":"#add-event-modal"}},methods:{closeModal:function(){this.$emit("closeModal")},openModal:function(t){this.$parent.$parent.openModal(t,"event")},fillRefGenerator:function(t,e){var s=parseInt(e)===new Date(t.start_date).getUTCFullYear(),a=parseInt(e)===new Date(t.end_date).getUTCFullYear();return s===e?"first_year_fill_"+t.id:a===e?"last_year_fill_"+t.id:void 0},setLabelWidth:function(t,e){var s,a=new Date(t).getUTCFullYear()-new Date(e).getUTCFullYear(),i=110;return s=a*i,s=s<i?i:s,s+"px"},checkIfLight:function(t){var e=["#00db67","#ccff6d","#dbc600","#db8f00"];return e.indexOf(t.toLowerCase())>-1}}}),lt=rt,ct=Object(D["a"])(lt,nt,ot,!1,null,null,null),dt=ct.exports,ut=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"case-button",attrs:{type:"button","data-toggle":"modal","data-target":t.dataTarget,tabindex:"0"},on:{click:function(e){return t.openModal(t.case_data)}}},[s("article",{staticClass:"case"},[s("div",{staticClass:"border",style:{backgroundColor:t.case_data.color}}),s("header",[s("span",{staticClass:"case-name"},[t._v(" "+t._s(t.case_data.name)+" ")]),t.case_data.url?s("a",{staticClass:"case-link",attrs:{href:t.case_data.url,target:"_blank"},on:{click:function(t){t.stopPropagation()}}},[s("link-case")],1):t._e()]),s("section",{staticClass:"desc"},[t._v(" "+t._s(t.case_data.short_description)+" ")]),t.categories&&t.categories.length?s("div",{staticClass:"categories"},[s("ul",{staticClass:"list-inline"},t._l(t.categories,(function(t){return s("li",{key:t.id,staticClass:"list-inline-item",attrs:{title:"category.name"}},[s("shape-component",{attrs:{width:20,title:t.name,color:t.color,shapetype:t.shape}})],1)})),0)]):t._e()])])},ht=[],pt={functional:!0,render:function(t,e){var s=e._c,a=(e._v,e.data),i=e.children,n=void 0===i?[]:i,o=a["class"],c=a.staticClass,d=a.style,u=a.staticStyle,h=a.attrs,p=void 0===h?{}:h,m=Object(l["a"])(a,["class","staticClass","style","staticStyle","attrs"]);return s("svg",Object(r["a"])({class:[o,c],style:[d,u],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",height:"24",width:"24"},p)},m),n.concat([s("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),s("path",{attrs:{d:"M19 19H5V5h7V3H5a2 2 0 00-2 2v14a2 2 0 002 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"}})]))}},mt=new a["default"],vt={name:"Case",props:["case_data","year_value"],components:{LinkCase:pt,ShapeComponent:I},computed:{dataTarget:function(){return S.getters.isMobile||!S.state.isAuthor?"#readonly-modal":"#add-case-modal"}},watch:{case_data:{handler:function(t){this.case_data.categories=t.categories,this.hydrateCategories()},deep:!0}},data:function(){return{categories:[],timelineCategories:S.getters.categories}},methods:{openModal:function(t){this.$parent.$parent.openModal(t,"case")},closeModal:function(){mt.$emit("closeModal")},repopulateTimeline:function(){this.$parent.repopulateTimeline()},hydrateCategories:function(){var t=this;this.categories=[];for(var e=function(e){var s=t.timelineCategories.find((function(s){return s.id===t.case_data.categories[e]}));s&&t.categories.push(s)},s=0;s<this.case_data.categories.length;s++)e(s)}},mounted:function(){var t=this;this.case_data.categories&&this.hydrateCategories(),mt.$on("updateCategories",(function(e){t.case_data.categories&&(t.timelineCategories=e,t.hydrateCategories())}))}},ft=vt,gt=Object(D["a"])(ft,ut,ht,!1,null,null,null),Ct=gt.exports,yt={functional:!0,render:function(t,e){var s=e._c,a=(e._v,e.data),i=e.children,n=void 0===i?[]:i,o=a["class"],c=a.staticClass,d=a.style,u=a.staticStyle,h=a.attrs,p=void 0===h?{}:h,m=Object(l["a"])(a,["class","staticClass","style","staticStyle","attrs"]);return s("svg",Object(r["a"])({class:["feather feather-more-vertical",o,c],style:[d,u],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},p)},m),n.concat([s("circle",{attrs:{cx:"12",cy:"12",r:"1"}}),s("circle",{attrs:{cx:"12",cy:"5",r:"1"}}),s("circle",{attrs:{cx:"12",cy:"19",r:"1"}})]))}},_t={functional:!0,render:function(t,e){var s=e._c,a=(e._v,e.data),i=e.children,n=void 0===i?[]:i,o=a["class"],c=a.staticClass,d=a.style,u=a.staticStyle,h=a.attrs,p=void 0===h?{}:h,m=Object(l["a"])(a,["class","staticClass","style","staticStyle","attrs"]);return s("svg",Object(r["a"])({class:["feather feather-more-horizontal",o,c],style:[d,u],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},p)},m),n.concat([s("circle",{attrs:{cx:"12",cy:"12",r:"1"}}),s("circle",{attrs:{cx:"19",cy:"12",r:"1"}}),s("circle",{attrs:{cx:"5",cy:"12",r:"1"}})]))}},bt=a["default"].component("YearLabel",{template:'\n    <svg version="1.1" id="Layer_1" width="125px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 250 125" xml:space="preserve" @mouseover="yearHoverToggle(true)" @mouseleave="yearHoverToggle(false)">\n      <rect style="fill:#FFFFFF;" x="0" y="34" height="60" width="178" />\n      <line v-if="!yearHover" style="fill:none;stroke:#363636;stroke-width:4;stroke-miterlimit:10;" x1="29.5" y1="62.5" x2="50.5" y2="62.5"/>\n      <text style="font-family: \'source-code\', monospace;" transform="matrix(2 0 0 2 80 75)" >{{year}}</text>\n      <g id="circles" v-if="yearHover">\n        <g style="cursor:pointer;" @click="addCase(year)" data-toggle="modal" data-target="#add-case-modal">\n          <circle style="fill:#FFF;stroke:#363636;stroke-width:3;stroke-miterlimit:10;" cx="40" cy="63.2" r="20"/>\n          <line style="fill:none;stroke:#363636;stroke-width:3;stroke-miterlimit:10;" x1="40" y1="52" x2="40" y2="73"/>\n          <line style="fill:none;stroke:#363636;stroke-width:3;stroke-miterlimit:10;" x1="29.5" y1="62.5" x2="50.5" y2="62.5"/>\n        </g>\n        <g style="cursor:pointer;" @click="addEvent(year)" data-toggle="modal" data-target="#add-event-modal">\n          <circle style="fill:#EEE;stroke:#363636;stroke-width:3;stroke-miterlimit:10;" cx="210" cy="63.2" r="20"/>\n          <line style="fill:none;stroke:#363636;stroke-width:3;stroke-miterlimit:10;" x1="210" y1="52" x2="210" y2="73"/>\n          <line style="fill:none;stroke:#363636;stroke-width:3;stroke-miterlimit:10;" x1="199.5" y1="62.5" x2="220.5" y2="62.5"/>\n        </g>\n      </g>\n    </svg>',props:["year"],data:function(){return{yearHover:!1}},methods:{addCase:function(t){this.$parent.$parent.openModal({decision_date:t+"-01-01"},"case")},addEvent:function(t){this.$parent.$parent.openModal({start_date:t+"-01-01"},"event")},yearHoverToggle:function(t){this.yearHover=!!this.$store.state.isAuthor&&t}}}),wt={name:"Year",components:{TimeLineSlice:dt,Case:Ct,MoreVertical:yt,MoreHorizontal:_t,YearLabel:bt},data:function(){return{event_count:this.year_data.event_list.reduce((function(t,e){return t+Object.keys(e).length}),0),event:null,showAddButton:!1}},props:["year_data","year_value","mobileEventsExpanded"],computed:{noContent:function(){return this.event_count+this.year_data.case_list.length===0},casesWithoutEvents:function(){return 0===this.event_count&&this.year_data.case_list.length>0},eventsWithoutCases:function(){return this.event_count>0&&0===this.year_data.case_list.length},casesAndEvents:function(){return this.event_count>0&&this.year_data.case_list.length>0}},methods:{repopulateTimeline:function(){this.$parent.repopulateTimeline()},clearPreviewEvent:function(){this.event=null}},mounted:function(){var t=this;mt.$on("goToYear",(function(e){a["default"].nextTick().then((function(){t.$refs[e]&&(t.$store.getters.isMobile||t.$el.scrollIntoView())}))}))}},kt=wt,Et=Object(D["a"])(kt,at,it,!1,null,null,null),xt=Et.exports,Mt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"categories-modal",tabindex:"-1",role:"dialog"}},[s("div",{staticClass:"categories-modal-dialog"},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title"},[t._v("CATEGORIES")]),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:function(e){return e.stopPropagation(),t.$parent.toggleKey()}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),this.$store.state.isAuthor?s("div",{staticClass:"modal-body"},[s("ul",[t._m(0),t._l(t.categoryList,(function(t,e){return s("category",{key:e,attrs:{content:t}})}))],2),s("div",{staticClass:"btn-group"},[s("button",{staticClass:"btn btn-tertiary",on:{click:t.addCategoryFields}},[t._v("New "),s("add-icon")],1),s("button",{staticClass:"btn btn-tertiary",on:{click:t.$parent.toggleKey}},[t._v("Cancel")]),s("button",{staticClass:"btn btn-primary",on:{click:t.saveCategories}},[t._v("Save")])]),t.errors.length?s("div",{staticClass:"form-errors p-2 mt-2 small"},[s("b",[t._v("Please correct the following error(s):")]),s("ul",{staticClass:"m-0 list-inline"},t._l(t.errors,(function(e){return s("li",{key:e,staticClass:"list-inline-item"},[t._v(t._s(e))])})),0)]):t._e()]):s("div",{staticClass:"modal-body"},[s("ul",t._l(t.categoryList,(function(e,a){return s("li",{key:a,staticClass:"category-readonly"},[s("span",[s("shape-component",{attrs:{width:28,color:e.color,shapetype:e.shape}})],1),s("span",{staticClass:"name",domProps:{textContent:t._s(e.name)}})])})),0)])])])])},Ot=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"category"},[s("span",{attrs:{id:"shape-label"}},[t._v("Shape")]),s("span",{attrs:{id:"input-label"}},[t._v("Name")]),s("span",{attrs:{id:"color-label"}},[t._v("Color")]),s("span")])}],$t=(s("46c3"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"category"},[s("v-select",{staticClass:"shape-select",attrs:{options:t.shapes,transition:"",filterable:!1,clearable:!1,label:"shape"},scopedSlots:t._u([{key:"selected-option",fn:function(e){var a=e.shape;return[s("shape-component",{attrs:{width:28,color:t.content.color,shapetype:a}})]}},{key:"option",fn:function(e){var a=e.shape;return[s("shape-component",{attrs:{width:28,color:t.content.color,shapetype:a}})]}}]),model:{value:t.content.shape,callback:function(e){t.$set(t.content,"shape",e)},expression:"content.shape"}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.content.name,expression:"content.name"}],staticClass:"shape-name",attrs:{required:""},domProps:{value:t.content.name},on:{input:function(e){e.target.composing||t.$set(t.content,"name",e.target.value)}}}),s("v-select",{staticClass:"color-dropdown shape-color",attrs:{transition:"",filterable:!1,clearable:!1,label:"color",options:t.colors},scopedSlots:t._u([{key:"selected-option",fn:function(t){var e=t.color;return[s("span",{staticClass:"color-square",style:{backgroundColor:e}})]}},{key:"option",fn:function(t){var e=t.color;return[s("span",{staticClass:"color-square",style:{backgroundColor:e}})]}}]),model:{value:t.content.color,callback:function(e){t.$set(t.content,"color",e)},expression:"content.color"}}),s("button",{staticClass:"close category-remove",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:function(e){return t.$parent.removeCategory(t.content.id)}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])],1)}),St=[],Tt={name:"category",props:["content"],components:{vSelect:j.a,ShapeComponent:I},data:function(){return{shapes:["circle","polygon1","polygon2","rhombus","triangle"],colors:[]}},methods:{getRandom:function(t){return t[Math.floor(Math.random()*t.length)]}},mounted:function(){this.colors=S.getters.choices.colors,this.content.shape||(this.content.shape=this.getRandom(this.shapes)),this.content.color||(this.content.color=this.getRandom(this.colors))}},jt=Tt,Lt=Object(D["a"])(jt,$t,St,!1,null,"1fb47e00",null),Pt=Lt.exports,Rt={name:"categories",components:{ShapeComponent:I,Category:Pt,AddIcon:u},data:function(){return{errors:[],vectors:[],colors:[],categoryList:[],categoryTemplate:{shape:"",name:"",color:""}}},watch:{categoryList:{handler:function(t){this.categoryList=t},deep:!0}},methods:{checkForm:function(){this.errors=[];for(var t=new Set,e=0;e<this.categoryList.length;e++)t.add(this.categoryList[e].name);t.size!==this.categoryList.length&&this.errors.push("Categories must be unique.")},addCategoryFields:function(){this.categoryList.push(this.unbind(S.getters.templateCategory))},unbind:function(t){return JSON.parse(JSON.stringify(t))},saveCategories:function(){this.checkForm(),this.errors.length||(mt.$emit("updateCategories",this.categoryList),S.commit("saveCategories",this.categoryList),this.$parent.toggleKey())},removeCategory:function(t){for(var e=-1,s=0;s<this.categoryList.length;s++)if(this.categoryList[s].id===t){e=s;break}e>-1&&this.categoryList.splice(e,1)}},mounted:function(){this.categoryList=this.unbind(S.getters.categories),this.categoryList.length||this.addCategoryFields()}},Ut=Rt,Nt=Object(D["a"])(Ut,Mt,Ot,!1,null,null,null),At=Nt.exports,Dt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sidebar",attrs:{id:"timeline-meta"}},[s("div",{staticClass:"sidebar-content"},[s("div",{staticClass:"small font-italic text-center"},[s("router-link",{attrs:{to:"/"}},[s("arrow-left-circle")],1),t._v(" Built using Chronolawgic: a legal timeline tool ")],1),s("minimap"),this.$store.state.isAuthor&&this.id===this.missingCases.id&&this.missingCases.cases?s("div",{staticClass:"h2o-error-container"},[s("b",[t._v("Please be sure to double-check the imported cases for accuracy.")]),s("br"),s("b",[t._v("We couldn't find some cases. This can happen if the citation is wrong or is outside of the bounds of CAP data.")]),s("br"),t._v(" You may need to add these by hand: "),s("br"),s("br"),s("ul",t._l(this.missingCases.cases,(function(e,a){return s("li",{key:a},[s("a",{attrs:{href:"https://opencasebook.org"+e.original_url}},[s("b",[t._v(t._s(e.name))])]),t._v(" "),s("i",[t._v(t._s(e.citations[0]))])])})),0)]):t._e()],1)])},qt=[],It=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"chart-container"},[s("h6",[t._v("Timeline overview")]),s("div",{staticClass:"chart"},[s("bar-chart",{attrs:{chartData:t.chartData,options:"options",width:100,height:150}})],1),s("p",{staticClass:"small"},[t._v("Click on chart to travel to date")])])},Yt=[],Ft=(s("e28c"),s("92ea")),zt={name:"BarChart",extends:Ft["a"],mixins:[Ft["c"].reactiveProp],watch:{firstYear:function(){this.$parent.fillChartData()},lastYear:function(){this.$parent.fillChartData()},chartData:function(){this.renderChart(this.chartData,this.options)}},computed:{firstYear:function(){return this.$store.getters.firstYear},lastYear:function(){return this.$store.getters.lastYear}},data:function(){return{options:{legend:{position:"bottom"},plugins:{title:{display:!0,text:"Custom Chart Title",padding:{top:10,bottom:30}}},onClick:this.handleClick,animation:{duration:0},responsive:!0,maintainAspectRatio:!1,barPercentage:1,categoryPercentage:1,scales:{xAxes:[{display:!0,stacked:!0,ticks:{autoSkipPadding:2,beginAtZero:!0},barThickness:2,gridLines:{display:!1}}],yAxes:[{display:!1,stacked:!0,ticks:{beginAtZero:!0},borderColor:"#ffffff",gridLines:{display:!1}}],x:{grid:{drawBorder:!1,borderColor:"#ffffff"}},y:{grid:{drawBorder:!1,borderColor:"#ffffff"}}}}}},methods:{handleClick:function(t,e){if(e.length){var s=e[0]._index,a=this.chartData.labels[s];mt.$emit("goToYear",a)}}},afterMount:function(){this.renderChart(this.chartData,this.options)}},Ht=zt,Bt=Object(D["a"])(Ht,O,$,!1,null,null,null),Wt=Bt.exports,Jt={name:"Minimap",components:{BarChart:Wt},data:function(){return{chartData:{labels:[],datasets:[{label:"Cases",backgroundColor:"#f87979",data:[]},{label:"Events",backgroundColor:"#3d5b96",data:[]}]}}},methods:{createMapSegments:function(){var t=8;if(this.lastYear>this.firstYear){var e=this.lastYear-this.firstYear,s=e/t;console.log(s),this.minimapSegments=Array(t).fill({size:0})}},fillChartData:function(){var t=this.$store.getters.firstYear?this.$store.getters.firstYear:1900,e=this.$store.getters.lastYear?this.$store.getters.lastYear:2e3;this.chartData={labels:Array.from(new Array(e+1-t),(function(e,s){return t+s})),datasets:[{label:"Cases",pointRadius:0,backgroundColor:"#f87979",tension:.1,borderWidth:0,data:this.$store.getters.stats[0]},{label:"Events",pointRadius:0,backgroundColor:"#000000",tension:.1,borderWidth:0,data:this.$store.getters.stats[1]}]}}},mounted:function(){this.fillChartData()}},Vt=Jt,Kt=Object(D["a"])(Vt,It,Yt,!1,null,null,null),Zt=Kt.exports,Gt={functional:!0,render:function(t,e){var s=e._c,a=(e._v,e.data),i=e.children,n=void 0===i?[]:i,o=a["class"],c=a.staticClass,d=a.style,u=a.staticStyle,h=a.attrs,p=void 0===h?{}:h,m=Object(l["a"])(a,["class","staticClass","style","staticStyle","attrs"]);return s("svg",Object(r["a"])({class:["feather feather-arrow-left-circle",o,c],style:[d,u],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},p)},m),n.concat([s("circle",{attrs:{cx:"12",cy:"12",r:"10"}}),s("path",{attrs:{d:"M12 8l-4 4 4 4M16 12H8"}})]))}},Xt={name:"Sidebar",components:{Minimap:Zt,ArrowLeftCircle:Gt},computed:{missingCases:function(){return this.$store.getters.missingCases},id:function(){return this.$store.getters.id}},watch:{missingCases:function(){this.$store.getters.missingCases},id:function(){this.$store.getters.id}}},Qt=Xt,te=Object(D["a"])(Qt,Dt,qt,!1,null,null,null),ee=te.exports,se={functional:!0,render:function(t,e){var s=e._c,a=(e._v,e.data),i=e.children,n=void 0===i?[]:i,o=a["class"],c=a.staticClass,d=a.style,u=a.staticStyle,h=a.attrs,p=void 0===h?{}:h,m=Object(l["a"])(a,["class","staticClass","style","staticStyle","attrs"]);return s("svg",Object(r["a"])({class:["feather feather-chevron-right",o,c],style:[d,u],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},p)},m),n.concat([s("path",{attrs:{d:"M9 18l6-6-6-6"}})]))}},ae={name:"Timeline",components:{AddCaseModal:H,AddEventModal:Z,AddIcon:u,KeyIcon:h,ReadonlyModal:st,Year:xt,MinimizeIcon:c,MaximizeIcon:d,Categories:At,Sidebar:ee,ChevronRight:se},computed:{title:function(){return this.$store.state.title}},data:function(){return{headerExpanded:!1,checked:!1,showCase:!1,showEvent:!1,showReadOnly:!1,keyShown:!1,years:{},event:null,windowWidth:window.innerWidth,sidebarShown:!0}},watch:{title:function(){this.repopulateTimeline()},windowWidth:function(t,e){this.widthToBreakpoint(t)!==this.widthToBreakpoint(e)&&this.$store.commit("setBreakPoint",this.widthToBreakpoint(t))}},methods:{check:function(){this.checked=!this.checked},onResize:function(){this.windowWidth=window.innerWidth},openModal:function(t,e){this.showEvent=!1,this.showCase=!1,this.showReadOnly=!1,this.event=null,t&&(this.event=JSON.parse(JSON.stringify(t))),this.$store.state.isAuthor&&!this.$store.getters.isMobile?(this.showEvent="event"===e,this.showCase="case"===e):this.showReadOnly=!0},closeModal:function(){this.showEvent=!1,this.showCase=!1,this.showReadOnly=!1,this.event=null,mt.$emit("closeModal")},widthToBreakpoint:function(t){switch(!0){case t<576:return"xs";case t<768:return"sm";case t<992:return"md";case t<11200:return"lg";default:return"xl"}},toggleHeader:function(){(this.$store.state.description||this.$store.state.title.length>25)&&(this.headerExpanded=!this.headerExpanded)},toggleKey:function(){this.keyShown=!this.keyShown},toggleSidebar:function(){this.sidebarShown=!this.sidebarShown},handleEscape:function(){this.closeModal()},repopulateTimeline:function(){var t=this;this.years={};var e=this.$store.getters.firstYear,s=this.$store.getters.lastYear;this.years={};for(var a=e;a<=s;a++)this.$set(this.years,a,{case_list:[],event_list:Array(12).fill({}),firstYearNoNewItems:!1,involvesAnyItem:!1});for(var i=function(s){var a=t.$store.getters.eventByStartYear(s),i=t.$store.getters.casesByYear(s);if(t.$set(t.years[s],"case_list",i),i.length+a.length>0)t.$set(t.years[s],"involvesAnyItem",!0);else if(s>e){var n=t.$store.getters.eventByStartYear(s-1).length,o=t.$store.getters.casesByYear(s-1).length;t.$set(t.years[s],"firstYearNoNewItems",n+o>0)}a.length>0&&a.forEach((function(e){for(var a=0;a<12;a++)if(0===Object.keys(t.years[s].event_list[a]).length){for(var i=new Date(e.end_date).getUTCFullYear()-new Date(e.start_date).getUTCFullYear(),n=0;n<=i;n++)t.$set(t.years[s+n].event_list,a,e),t.$set(t.years[s+n],"involvesAnyItem",!0);return!1}}))},n=e;n<=s;n++)i(n)}},beforeDestroy:function(){window.removeEventListener("resize",this.onResize)},created:function(){var t=this;mt.$on("openModal",(function(e,s){t.openModal(e,s)}))},mounted:function(){var t=this;this.$nextTick((function(){window.addEventListener("resize",t.onResize)})),this.$store.commit("setBreakPoint",this.widthToBreakpoint(this.windowWidth))}},ie=ae,ne=Object(D["a"])(ie,n,o,!1,null,"31ca2f32",null),oe=ne.exports,re=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("main",{staticClass:"admin"},[t._m(0),"True"===this.$store.state.user.is_authenticated?s("section",{attrs:{id:"timeline"}},[s("h6",{staticClass:"timelines-title"},[t._v("Add a new timeline")]),this.$store.getters.availableTimelines.length?t._e():[s("p",{staticClass:"welcome"},[t._v(" Welcome to Chronolawgic, the Caselaw Access Project tool for creating caselaw-focused timelines. To create your first timeline, click on the plus sign in the middle of the rectangle below, then click on the "),s("span",{staticClass:"inline-icon"},[s("edit-icon")],1),t._v(" symbol to set a title and description. ")])],s("div",{staticClass:"add-timeline"},[s("button",{staticClass:"create-blank btn btn-primary btn-highlight",attrs:{type:"button"},on:{click:function(e){return t.$store.dispatch("requestCreateTimeline")}}},[t._v(" CREATE A TIMELINE ")]),s("br"),s("div",{staticClass:"h2o-import-container"},[t._m(1),s("input",{directives:[{name:"model",rawName:"v-model",value:t.h2oURL,expression:"h2oURL"}],staticClass:"form-control",attrs:{placeholder:"Copy paste casebook.org URL here"},domProps:{value:t.h2oURL},on:{input:function(e){e.target.composing||(t.h2oURL=e.target.value)}}}),s("label",{attrs:{for:"useOriginalUrls"}},[t._v(" Use original H2O URLs")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.useOriginalURLs,expression:"useOriginalURLs"}],attrs:{type:"checkbox",id:"useOriginalUrls",name:"useOriginalUrls",value:"Use Original URLs"},domProps:{checked:Array.isArray(t.useOriginalURLs)?t._i(t.useOriginalURLs,"Use Original URLs")>-1:t.useOriginalURLs},on:{change:function(e){var s=t.useOriginalURLs,a=e.target,i=!!a.checked;if(Array.isArray(s)){var n="Use Original URLs",o=t._i(s,n);a.checked?o<0&&(t.useOriginalURLs=s.concat([n])):o>-1&&(t.useOriginalURLs=s.slice(0,o).concat(s.slice(o+1)))}else t.useOriginalURLs=i}}}),s("br"),s("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:function(e){return e.stopPropagation(),t.addH2OTimeline(e)}}},[t._v(" CREATE FROM H2O "),t.showLoading?s("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}}):t._e()]),t.showLoading?s("span",{staticClass:"sr-only",attrs:{id:"loading-focus",tabindex:"-1"}},[t._v("Loading")]):t._e()])]),this.$store.getters.availableTimelines.length?t._l(this.$store.getters.availableTimelines,(function(e,a){return s("div",{key:a,staticClass:"timeline-assembly"},[s("nav",[s("div",{staticClass:"editcancel",attrs:{title:"edit"}},[Object.prototype.hasOwnProperty.call(t.editMode,e.id)?s("button",{staticClass:"btn btn-edit",on:{click:function(s){return t.toggleEdit(e)},keyup:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"esc",27,s.key,["Esc","Escape"])?null:t.toggleEdit(e)}}},[s("cancel-icon")],1):s("button",{staticClass:"btn btn-edit",on:{click:function(s){return t.toggleEdit(e)}}},[s("edit-icon")],1)]),s("div",{staticClass:"delete",attrs:{title:"delete timeline"}},[Object.prototype.hasOwnProperty.call(t.editMode,e.id)?s("button",{staticClass:"btn btn-edit",on:{click:function(s){return t.$store.dispatch("requestDeleteTimeline",e.id)}}},[s("delete-icon")],1):t._e()]),s("div",{staticClass:"save",attrs:{title:"save changes"}},[s("button",{staticClass:"btn btn-edit",on:{click:function(s){return t.saveEdit(e.id)}}},[Object.prototype.hasOwnProperty.call(t.editMode,e.id)?s("save-icon"):t._e()],1)])]),s("div",{staticClass:"timeline-card"},[s("div",{staticClass:"content"},[s("header",{staticClass:"title"},[Object.prototype.hasOwnProperty.call(t.editMode,e.id)?s("div",{staticClass:"title-edit"},[s("div",{staticClass:"label"},[t._v("Title")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.editMode[e.id].title,expression:"editMode[timeline.id].title"}],staticClass:"title-input title",attrs:{type:"text"},domProps:{value:t.editMode[e.id].title},on:{keyup:[function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"esc",27,s.key,["Esc","Escape"])?null:t.toggleEdit(e)},function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.saveEdit(e.id)}],input:function(s){s.target.composing||t.$set(t.editMode[e.id],"title",s.target.value)}}})]):s("h3",[s("router-link",{attrs:{to:e.id.toString()},domProps:{textContent:t._s(e.title)}})],1)]),s("div",{class:{author:!0,editmode:Object.prototype.hasOwnProperty.call(t.editMode,e.id)}},[Object.prototype.hasOwnProperty.call(t.editMode,e.id)?s("div",{staticClass:"author-edit"},[s("div",{staticClass:"label"},[t._v("Author")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.editMode[e.id].author,expression:"editMode[timeline.id].author"}],staticClass:"author-input",attrs:{placeholder:"CAP User"},domProps:{value:t.editMode[e.id].author},on:{keyup:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"esc",27,s.key,["Esc","Escape"])?null:t.toggleEdit(e)},input:function(s){s.target.composing||t.$set(t.editMode[e.id],"author",s.target.value)}}})]):s("p",[t._v(" Author: "+t._s(e.author)+" ")])]),s("div",{class:{description:!0,editmode:Object.prototype.hasOwnProperty.call(t.editMode,e.id)}},[Object.prototype.hasOwnProperty.call(t.editMode,e.id)?s("div",{staticClass:"description-edit"},[s("div",{staticClass:"label"},[t._v("Description")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.editMode[e.id].description,expression:"editMode[timeline.id].description"}],staticClass:"description-input",domProps:{value:t.editMode[e.id].description},on:{keyup:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"esc",27,s.key,["Esc","Escape"])?null:t.toggleEdit(e)},input:function(s){s.target.composing||t.$set(t.editMode[e.id],"description",s.target.value)}}})]):s("p",{domProps:{textContent:t._s(e.description)}})])]),s("aside",[s("div",{staticClass:"stat"},[s("div",{staticClass:"label"},[t._v("Cases")]),s("div",{staticClass:"case_count value",domProps:{textContent:t._s(e.case_count)}})]),s("div",{staticClass:"stat"},[s("div",{staticClass:"label"},[t._v("Events")]),s("div",{staticClass:"event_count value",domProps:{textContent:t._s(e.event_count)}},[t._v("0")])])])])])})):t._e()],2):s("section",{staticClass:"not-logged-in"},[t._v(" Welcome! To create Chronolawgic timelines, you must "),s("a",{attrs:{href:"../../../user/login"}},[t._v("log in")]),t._v(" to your Caselaw Access Project account. For more information on Chronolawgic, "),s("a",{attrs:{href:"../"}},[t._v("click here")]),t._v(". ")]),s("br")])},le=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"top-menu"},[s("h2",[s("a",{attrs:{href:"../../"}},[t._v("Labs:")]),t._v(" Chronolawgic")]),s("h5",{staticClass:"subhead"},[t._v("A legal timeline tool.")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",[t._v("Or pre-populate a timeline from "),s("a",{attrs:{href:"https://opencasebook.org"}},[t._v("H2O")])])}],ce={functional:!0,render:function(t,e){var s=e._c,a=(e._v,e.data),i=e.children,n=void 0===i?[]:i,o=a["class"],c=a.staticClass,d=a.style,u=a.staticStyle,h=a.attrs,p=void 0===h?{}:h,m=Object(l["a"])(a,["class","staticClass","style","staticStyle","attrs"]);return s("svg",Object(r["a"])({class:["feather feather-edit",o,c],style:[d,u],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},p)},m),n.concat([s("path",{attrs:{d:"M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"}}),s("path",{attrs:{d:"M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"}})]))}},de={functional:!0,render:function(t,e){var s=e._c,a=(e._v,e.data),i=e.children,n=void 0===i?[]:i,o=a["class"],c=a.staticClass,d=a.style,u=a.staticStyle,h=a.attrs,p=void 0===h?{}:h,m=Object(l["a"])(a,["class","staticClass","style","staticStyle","attrs"]);return s("svg",Object(r["a"])({class:["feather feather-save",o,c],style:[d,u],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},p)},m),n.concat([s("path",{attrs:{d:"M19 21H5a2 2 0 01-2-2V5a2 2 0 012-2h11l5 5v11a2 2 0 01-2 2z"}}),s("path",{attrs:{d:"M17 21v-8H7v8M7 3v5h8"}})]))}},ue={functional:!0,render:function(t,e){var s=e._c,a=(e._v,e.data),i=e.children,n=void 0===i?[]:i,o=a["class"],c=a.staticClass,d=a.style,u=a.staticStyle,h=a.attrs,p=void 0===h?{}:h,m=Object(l["a"])(a,["class","staticClass","style","staticStyle","attrs"]);return s("svg",Object(r["a"])({class:["feather feather-x-circle",o,c],style:[d,u],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},p)},m),n.concat([s("circle",{attrs:{cx:"12",cy:"12",r:"10"}}),s("path",{attrs:{d:"M15 9l-6 6M9 9l6 6"}})]))}},he={functional:!0,render:function(t,e){var s=e._c,a=(e._v,e.data),i=e.children,n=void 0===i?[]:i,o=a["class"],c=a.staticClass,d=a.style,u=a.staticStyle,h=a.attrs,p=void 0===h?{}:h,m=Object(l["a"])(a,["class","staticClass","style","staticStyle","attrs"]);return s("svg",Object(r["a"])({class:["feather feather-trash-2",o,c],style:[d,u],attrs:Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},p)},m),n.concat([s("path",{attrs:{d:"M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2M10 11v6M14 11v6"}})]))}},pe={name:"Admin",components:{EditIcon:ce,SaveIcon:de,CancelIcon:ue,DeleteIcon:he},data:function(){return{editMode:{},timelines:{},h2oURL:"",useOriginalURLs:!1,showLoading:!1}},methods:{toggleEdit:function(t){Object.prototype.hasOwnProperty.call(this.editMode,t.id)?this.$delete(this.editMode,t.id):(this.$set(this.editMode,t.id,{}),this.$set(this.editMode[t.id],"id",t.id),this.$set(this.editMode[t.id],"title",t.title),this.$set(this.editMode[t.id],"author",t.author),this.$set(this.editMode[t.id],"description",t.description))},saveEdit:function(t){var e=this;Object.prototype.hasOwnProperty.call(this.editMode,t)&&this.$store.dispatch("requestUpdateAdmin",this.editMode[t]).then((function(){e.$delete(e.editMode,t),e.$store.dispatch("requestTimelineList")}))},addH2OTimeline:function(){var t=this,e={url:this.h2oURL,use_original_urls:this.useOriginalURLs};this.showLoading=!0,S.dispatch("requestCreateH2OTimeline",e).then((function(e){t.showLoading=!1,"ok"===e.status&&t.$store.commit("setMissingCases",{cases:e.missing_cases,id:e.id})}))}}},me=pe,ve=Object(D["a"])(me,re,le,!1,null,null,null),fe=ve.exports,ge=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("main",["pending"===t.$store.getters.requestStatus?s("div",{attrs:{id:"loading"}}):t._e(),t.$store.getters.notificationMessage?s("div",["error"!==t.$store.getters.requestStatus?s("div",{staticClass:"flash",attrs:{id:"success_msg"}},[t._v(" "+t._s(t.$store.getters.notificationMessage)+" ")]):t._e(),"error"===t.$store.getters.requestStatus?s("div",{staticClass:"flash",attrs:{id:"error_msg"}},[t._v(" "+t._s(t.$store.getters.notificationMessage)+" ")]):t._e()]):t._e(),s("router-view")],1)},Ce=[],ye=s("a881"),_e=s.n(ye),be={name:"Admin",components:{},created:function(){mt.$on("closeModal",(function(){_e()(".modal-backdrop").remove(),_e()("body").removeClass("modal-open")}))}},we=be,ke=Object(D["a"])(we,ge,Ce,!1,null,null,null),Ee=ke.exports;a["default"].config.devtools=!0,a["default"].config.productionTip=!1,a["default"].use(i["a"]);var xe=new i["a"]({mode:"history",base:"labs/chronolawgic/timeline/",routes:[{path:"/",component:fe,name:"admin"},{path:"/:timeline",component:oe,name:"timeline"},{path:"*",redirect:"/"}]});xe.afterEach((function(t){"timeline"===t.name&&t.params.timeline&&S.dispatch("requestTimeline",t.params.timeline),"admin"===t.name&&S.dispatch("requestTimelineList")})),new a["default"]({el:"#app",store:S,template:"<App/>",components:{App:Ee,Timeline:oe,Admin:fe},router:xe})},"68e1":function(t,e,s){"use strict";var a=s("2513"),i=s("8e65"),n=s("f690"),o=s("fa22"),r=s("7caf"),l=[],c=l.sort,d=o((function(){l.sort(void 0)})),u=o((function(){l.sort(null)})),h=r("sort"),p=d||!u||!h;a({target:"Array",proto:!0,forced:p},{sort:function(t){return void 0===t?c.call(n(this)):c.call(n(this),i(t))}})},c32d:function(t,e){if("undefined"===typeof moment){var s=new Error("Cannot find module 'moment'");throw s.code="MODULE_NOT_FOUND",s}t.exports=moment}});
//# sourceMappingURL=labs-chronolawgic.54aedacd.js.map